(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{1731:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var r=t(0),n=t.n(r),i=t(2),l=t.n(i),c=t(9),s=t(17),o=t(19);const SectionHeader=({cardPadding:e,className:a,contentRight:t,isSidebarOpen:r,title:i,subtitle:l})=>n.a.createElement(d,{cardPadding:e,className:a,isSidebarOpen:r},n.a.createElement(p,null,n.a.createElement(E,null,i),l&&n.a.createElement(u,null,l)),t),d=c.c.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 16px;
  max-width: calc(var(--page-content-max-width) + var(--sidebar-width));
  gap: 1em;

  @media ${s.a.tablet} {
    flex-wrap: wrap;
    padding-left: 20px;
    padding-right: 20px;
  }

  ${({cardPadding:e,isSidebarOpen:a})=>a?`\n          @media (max-width: calc(${o.m}px + ${o.q}px)) {\n            padding-left: ${e?"36px":"24px"};\n            padding-right: ${e?"36px":"24px"};\n\n            @media ${s.a.tablet} {\n              padding-left: ${e?"32px":"20px"};\n              padding-right: ${e?"32px":"20px"};\n            }\n          }\n        `:`\n          @media (max-width: calc(${o.m}px + ${o.p}px)) {\n            padding-left: 24px;\n            padding-right: 24px;\n\n            @media ${s.a.tablet} {\n              padding-left: 20px;\n              padding-right: 20px;\n            }\n          }\n        `}
`,p=c.c.div`
  @media ${s.a.notTablet} {
    padding-right: 20px;
  }
`,E=c.c.h2`
  ${s.e.size20};
  display: flex;
  align-items: center;
  gap: 10px;
  color: var(--color-text-light);
  white-space: nowrap;
  overflow: auto;
  ${s.g}

  @media ${s.a.tablet} {
    ${s.e.size24};
  }
`,u=c.c.h3`
  ${s.e.size14}
  color: var(--color-text-dark);
  margin-top: 4px;

  @media ${s.a.tablet} {
    ${s.e.size16}
  }
`;SectionHeader.propTypes={cardPadding:l.a.bool,className:l.a.string,contentRight:l.a.node,isSidebarOpen:l.a.bool,title:l.a.node.isRequired,subtitle:l.a.node};var m=SectionHeader},1735:function(e,a,t){var r=t(608),n=t(328),i=t(377);e.exports=function slice(e,a,t){var l=null==e?0:e.length;return l?(t&&"number"!=typeof t&&n(e,a,t)?(a=0,t=l):(a=null==a?0:i(a),t=void 0===t?l:i(t)),r(e,a,t)):[]}},1748:function(e,a,t){"use strict";var r=t(0),n=t.n(r),i=t(10),l=t(9),c=t(15),s=t(32),o=t(68),d=t(17),p=t(33),E=t(283),u=t(36),m=t(95),b=t(1),y=t(23);const O={};O.IconButton=Object(l.c)(m.b)`
  &:hover {
    > svg path {
      fill: var(--color-text-light);
    }
  }
`,O.Button=Object(l.c)(u.a)`
  > svg {
    margin-right: 8px;
    padding-top: 2px;
    width: 14px;

    @media ${d.a.tablet} {
      width: 16px;
    }
  }
`,a.a=Object(s.c)(({currentMarket:e,stringGetter:a})=>{const t=Object(i.f)(E.e,i.d),r=Object(i.e)(),l=Object(o.b)().isMobile;if(0===t.length)return null;const onClickButton=a=>{a.stopPropagation(),r(Object(p.c)({modalType:y.a.SHARE_ACTIVITY,modalProps:{currentMarket:e}}))};return l?n.a.createElement(O.IconButton,{backgroundLighter:!0,size:m.a.MEDIUM,icon:n.a.createElement(c.wb,null),onClick:onClickButton}):n.a.createElement(O.Button,{onClick:onClickButton,size:u.d.Medium},n.a.createElement(c.wb,null),a({key:b.a.SHARE}))})},1876:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),i=t(2),l=t.n(i),c=t(10),s=t(16),o=t.n(s),d=t(32),p=t(1731),E=t(1748),u=t(372),m=t(1),b=t(1897),y=t(1732);const PortfolioPositions=({isSidebarOpen:e,stringGetter:a})=>n.a.createElement("div",{className:y.a.contentWrapper},n.a.createElement("div",{className:y.a.contentContainer},n.a.createElement(p.a,{contentRight:n.a.createElement(E.a,null),title:n.a.createElement("div",{className:o()({[y.a.sidebarCollapsed]:!e,[y.a.sidebarOpen]:e})},a({key:m.a.OPEN_POSITIONS}))}),n.a.createElement(b.a,null)));PortfolioPositions.propTypes={isSidebarOpen:l.a.bool.isRequired,stringGetter:l.a.func.isRequired};a.default=Object(d.c)(Object(c.c)(e=>({isSidebarOpen:Object(u.b)(e)}))(PortfolioPositions))},1897:function(e,a,t){"use strict";var r=t(189),n=t.n(r),i=t(211),l=t.n(i),c=t(1735),s=t.n(c),o=t(27),d=t.n(o),p=t(227),E=t.n(p),u=t(596),m=t.n(u),b=t(82),y=t.n(b),O=t(0),g=t.n(O),h=t(2),S=t.n(h),N=t(10),R=t(25),I=t(91),T=t(94),P=t.n(T),f=t(16),x=t.n(f),A=t(32),_=t(68),k=t(282),D=t(127),w=t(1736),v=t(283),L=t(62),j=t(37),C=t(372),G=t(593),K=t(115),U=t(69),z=t(19),M=t(102),$=t(1),W=t(76),q=t(8),F=t(175),Z=t(60),B=t.n(Z),V=t(61),H=t(36),Y=t(33),Q=t(595),J=t(23),X=t(12),ee="_2PJZywSo0tna9ybrfDGpsB",ae="_2_CuF7R33pSYnWRAFvZwwf",te=t(1732);const OpenPositionsEmptyState=({accountData:e,history:a,isSidebarOpen:t,openModal:r,stringGetter:n,walletOnboardingState:i,isUserGeoBlocked:l})=>{let c,s=null;return i===X.a.INCORRECT_NETWORK?c=$.a.WRONG_NETWORK_EXPLANATION_PRODUCTION:B()([X.a.EXISTING_USER_MISSING_KEYS,X.a.NEW_USER_INCOMPLETE_ONBOARDING],i)?c=i===X.a.EXISTING_USER_MISSING_KEYS?$.a.MISSING_KEYS_DESCRIPTION:$.a.FINISH_ONBOARDING_DESCRIPTION:(c=$.a.POSITIONS_EMPTY_STATE,s=g.a.createElement(g.a.Fragment,null,e&&e.equity.isZero()&&!l&&g.a.createElement(H.a,{color:H.b.Purple,onClick:()=>r({modalType:J.a.DEPOSIT}),size:H.d.Medium},n({key:$.a.DEPOSIT_FUNDS})),g.a.createElement(H.a,{onClick:()=>a.push(z.h),size:H.d.Medium},n({key:$.a.TRADE})))),g.a.createElement("div",{className:x()(te.a.tableContainer,{[te.a.sidebarCollapsed]:!t,[te.a.sidebarOpen]:t})},g.a.createElement("div",{className:ee},n({key:c}),g.a.createElement("div",{className:ae},s)))};OpenPositionsEmptyState.propTypes={accountData:S.a.object,history:S.a.object.isRequired,isSidebarOpen:S.a.bool.isRequired,openModal:S.a.func.isRequired,stringGetter:S.a.func.isRequired,walletOnboardingState:S.a.oneOf(n()(X.a)).isRequired,isUserGeoBlocked:S.a.bool.isRequired};var re=Object(A.c)(Object(R.i)(Object(N.c)(e=>({accountData:Object(G.a)(e),isSidebarOpen:Object(C.b)(e),walletOnboardingState:Object(K.e)(e),isUserGeoBlocked:Object(Q.a)(e)}),e=>Object(V.b)({openModal:Y.c},e))(OpenPositionsEmptyState)));function _slicedToArray(e,a){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,a){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,n,i=[],l=!0,c=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!a||i.length!==a);l=!0);}catch(s){c=!0,n=s}finally{try{l||null==t.return||t.return()}finally{if(c)throw n}}return i}(e,a)||function _unsupportedIterableToArray(e,a){if(!e)return;if("string"===typeof e)return _arrayLikeToArray(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,a)}(e,a)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}const ne=[{key:"MARKET",sortKey:"MARKET",titleKey:$.a.MARKET,percentage:10,minWidth:112},{key:"SIDE",sortKey:"SIDE",titleKey:$.a.SIDE,percentage:6,minWidth:60},{key:"SIZE",sortKey:"SIZE",titleKey:$.a.SIZE,percentage:12,minWidth:120},{key:"LEVERAGE",sortKey:"LEVERAGE",titleKey:$.a.LEVERAGE,percentage:7,minWidth:80},{key:"LIQUIDATION_ORACLE",titleKey:$.a.LIQUIDATION_PRICE_SHORT,secondaryTitleKey:$.a.ORACLE_PRICE_ABBREVIATED,percentage:13,minWidth:128,tooltipConfig:{tooltip:"liquidation-price-general",top:10,right:-26}},{key:"UNREALIZED_PNL",sortKey:"UNREALIZED_PNL",titleKey:$.a.UNREALIZED_PNL,percentage:12,minWidth:120},{key:"REALIZED_PNL",sortKey:"REALIZED_PNL",titleKey:$.a.REALIZED_PNL,percentage:12,minWidth:120},{key:"AVERAGE_OPEN_CLOSE",titleKey:$.a.AVERAGE_OPEN,secondaryTitleKey:$.a.CLOSE,percentage:16,minWidth:160}],ie=[{key:"MARKET_SIDE",titleKey:$.a.MARKET,secondaryTitleKey:$.a.SIDE,percentage:18,minWidth:100},{key:"SIZE_LEVERAGE",titleKey:$.a.SIZE,secondaryTitleKey:$.a.LEVERAGE,percentage:16,minWidth:90,rightAlign:!0},{key:"PNL",titleKey:$.a.UNREALIZED_PNL,secondaryTitleKey:$.a.REALIZED_PNL,percentage:20,minWidth:112,rightAlign:!0},{key:"LIQUIDATION_ORACLE",titleKey:$.a.LIQUIDATION_PRICE_SHORT,secondaryTitleKey:$.a.ORACLE_PRICE_ABBREVIATED,percentage:18,minWidth:108,rightAlign:!0}],PositionsTable=({accountData:e,allMarketsData:a,areKeyPairsValid:t,cardStyles:r,history:i,isSidebarOpen:c,isWalletConnecting:o,positions:p,stringGetter:u})=>{const b=g.a.useRef(),h=g.a.useRef(),S=g.a.useRef(),N=_slicedToArray(Object(O.useState)(null),2),R=N[0],T=N[1],f=_slicedToArray(Object(O.useState)(null),2),A=f[0],v=f[1],L=_slicedToArray(Object(O.useState)(!1),2)[1];Object(O.useEffect)(()=>{setTimeout(()=>L(!c),200)},[c]);const j=o||t&&!(p&&e)||!a,C=(p?Object.values(p):[]).find(({status:e})=>e===M.b.OPEN),G=Object(_.b)().isTablet,K=Object(_.v)().width,Z=Object(_.e)({containerRef:b,contentRef:C?S:h,isLoading:j,maxElements:l()(G?ie:ne),availableWidth:c?K-z.q:K-z.p});if(r&&!j&&!C)return g.a.createElement(re,null);const B=Object(w.e)({baseConfig:G?ie:ne,elementsToShow:Z,isTablet:G,cardStyles:r,tableWidth:b.current?b.current.clientWidth:0}),V=(({accountData:e,allMarketsData:a,positions:t,sortDirection:r,sortedByKey:n})=>{if(!e||!a)return[];const i=e.equity;let l=[];if(y()(t,e=>{const r=e.market,n=e.side,c=e.size,s=e.status,o=e.entryPrice,d=e.exitPrice,p=e.realizedPnl;if(s!==M.b.OPEN)return;const E=a[r],u=U.c[r],m=E.indexPrice,b=E.oraclePrice,y=E.tickSize,O=Object(F.c)({accountEquity:i,positionSize:c,oraclePrice:b}),g=Object(F.f)({position:e,marketData:E}),h=g.unrealizedPnl,S=g.unrealizedPnlPercent,N=Object(F.d)({accountEquity:i,allMarketsData:a,allPositions:t,currentMarketConfig:u}),R=Object(q.b)(c).abs(),I=R.times(m),T=Object(q.d)(y);l.push({market:r,side:n,size:R,sizeNotional:I,leverage:O,liquidationPrice:N,oraclePrice:b,unrealizedPnl:h,unrealizedPnlPercent:S,realizedPnl:Object(q.b)(p),realizedPNlPercent:Object(F.e)({position:e,realizedPnl:p}),entryPrice:o,exitPrice:d,tickSizeDecimals:T})}),n){switch(n){case"MARKET":l=m()(E()(l,({market:e})=>e));break;case"SIDE":l=E()(l,({side:e})=>e);break;case"LEVERAGE":l=E()(l,({leverage:e})=>e.toNumber());break;case"SIZE":l=E()(l,({sizeNotional:e})=>e.toNumber());break;case"UNREALIZED_PNL":l=E()(l,({unrealizedPnl:e})=>e.toNumber());break;case"REALIZED_PNL":l=E()(l,({realizedPnl:e})=>e.toNumber())}r===w.c.DECREASING&&(l=m()(l))}return l})({accountData:e,allMarketsData:a,positions:p,sortDirection:A,sortedByKey:R,stringGetter:u});let H=[];C?y()(V,e=>H.push((({data:{market:e,side:a,size:t,sizeNotional:r,leverage:n,liquidationPrice:i,oraclePrice:l,unrealizedPnl:c,unrealizedPnlPercent:o,realizedPnl:p,realizedPNlPercent:E,entryPrice:u,exitPrice:m,tickSizeDecimals:b},cardStyles:y,elementsToShow:O,history:h,isTablet:S,stringGetter:N,tableConfig:R})=>{const T=U.c[e],f=T.baseSymbol,A=T.baseSymbolName,_=T.route,v=N({key:a===M.a.LONG?$.a.LONG_POSITION_SHORT:$.a.SHORT_POSITION_SHORT}),L=g.a.createElement(w.a,{stacked:!0,rightAlign:S,key:"liq-price-oracle",width:d()(R.LIQUIDATION_ORACLE,"width")},g.a.createElement("span",null,i?g.a.createElement(I.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:i.toFixed(b||W.h)}):"-"),g.a.createElement("span",null,l?g.a.createElement(I.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(q.b)(l).toFixed(b||W.h)}):"-"));let j;return j=S?[g.a.createElement(w.a,{key:"market-side",regularFont:!0,className:x()(te.a.cellWithIcon,{[te.a.cardStyles]:y}),width:d()(R.MARKET_SIDE,"width")},g.a.createElement(k.a,{symbol:f}),g.a.createElement("div",{className:x()(te.a.cellText,te.a.stacked)},g.a.createElement("span",null,e),g.a.createElement("span",{className:x()({[te.a.green]:a===M.a.LONG,[te.a.red]:a===M.a.SHORT})},v))),g.a.createElement(w.a,{stacked:!0,rightAlign:!0,key:"size-leverage",width:d()(R.SIZE_LEVERAGE,"width")},g.a.createElement("span",null,t.toFixed(W.g)),g.a.createElement("span",null,n.toFixed(W.c,P.a.ROUND_UP)+"\xd7")),g.a.createElement(w.a,{stacked:!0,rightAlign:!0,key:"pnl",width:d()(R.PNL,"width")},g.a.createElement("span",{className:x()({[te.a.green]:c&&c.gt(0),[te.a.red]:c&&c.lt(0)})},c?g.a.createElement(I.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:c.toFixed(W.h,P.a.ROUND_UP)}):"-"),g.a.createElement("span",{className:x()({[te.a.green]:p&&p.gt(0),[te.a.red]:p&&p.lt(0)})},p?g.a.createElement(I.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:p.toFixed(W.h,P.a.ROUND_UP)}):"-")),L]:[g.a.createElement(w.a,{key:"market",regularFont:!0,className:x()(te.a.cellWithIcon,{[te.a.cardStyles]:y}),width:d()(R.MARKET,"width")},g.a.createElement(k.a,{symbol:f}),g.a.createElement("div",{className:x()(te.a.cellText,te.a.stacked),title:A},g.a.createElement("span",null,A),g.a.createElement("span",null,e))),g.a.createElement(w.a,{key:"side",regularFont:!0,width:d()(R.SIDE,"width")},g.a.createElement(D.a,{regularFont:!0,large:!0,green:a===M.a.LONG,red:a===M.a.SHORT},v)),g.a.createElement(w.a,{key:"size",stacked:!0,width:d()(R.SIZE,"width")},g.a.createElement("span",null,t.toFixed(W.g)),g.a.createElement("span",null,r?g.a.createElement(I.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:r.toFixed(W.h)}):"-")),g.a.createElement(w.a,{key:"leverage",width:d()(R.LEVERAGE,"width")},n.toFixed(W.c,P.a.ROUND_UP)+"\xd7"),L,g.a.createElement(w.a,{key:"unrealized-pnl",stacked:!0,width:d()(R.UNREALIZED_PNL,"width")},g.a.createElement("span",{className:x()({[te.a.green]:c&&c.gte(0),[te.a.red]:c&&c.lt(0)})},c?g.a.createElement(I.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:c.toFixed(W.h,P.a.ROUND_UP)}):"-"),g.a.createElement("span",null,o?g.a.createElement(I.a,{thousandSeparator:!0,displayType:"text",suffix:"%",value:o.times(100).toFixed(W.d,P.a.ROUND_UP)}):"-")),g.a.createElement(w.a,{key:"realized-pnl",stacked:!0,width:d()(R.REALIZED_PNL,"width")},g.a.createElement("span",{className:x()({[te.a.green]:p&&p.gte(0),[te.a.red]:p&&p.lt(0)})},p?g.a.createElement(I.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:p.toFixed(W.h,P.a.ROUND_UP)}):"-"),g.a.createElement("span",null,E?g.a.createElement(I.a,{thousandSeparator:!0,displayType:"text",prefix:"",suffix:"%",value:E.times(100).toFixed(W.d,P.a.ROUND_UP)}):"-")),g.a.createElement(w.a,{stacked:!0,key:"average-open-close",width:d()(R.AVERAGE_OPEN_CLOSE,"width")},g.a.createElement("span",null,u?g.a.createElement(I.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(q.b)(u).toFixed(b||W.h)}):"-"),g.a.createElement("span",null,Object(q.b)(m).isZero()?"-":g.a.createElement(I.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(q.b)(m).toFixed(b||W.h)})))],g.a.createElement(w.b,{allowOverflow:!0,key:e,cardStyles:y,greenGradient:y&&a===M.a.LONG,redGradient:y&&a===M.a.SHORT,onClick:()=>h.push(_)},s()(j,0,O))})({data:e,cardStyles:r,elementsToShow:Z,history:i,isTablet:G,stringGetter:u,tableConfig:B}))):H=g.a.createElement(w.b,{emptyState:!0},u({key:$.a.POSITIONS_EMPTY_STATE}));const Y=g.a.createElement(w.d,{allowOverflow:!0,ref:b,headerRef:h,cardStyles:r,isLoading:j,loadingRows:2,tableConfig:n()(B),sortableTableConfig:{sortedByKey:R,sortDirection:A,onClickTableHeader:e=>{R!==e?(T(e),v(w.c.DECREASING)):R===e&&A===w.c.DECREASING?v(w.c.INCREASING):(T(null),v(null))}}},g.a.createElement("div",{ref:S,className:te.a.tableContent},H));return g.a.createElement("div",{className:x()(te.a.tableContainer,{[te.a.noBorder]:r,[te.a.sidebarCollapsed]:!c,[te.a.sidebarOpen]:c})},r?g.a.createElement("div",{className:x()(te.a.extendCardTableEdges,{[te.a.sidebarCollapsed]:!c,[te.a.sidebarOpen]:c})},Y):Y)};PositionsTable.propTypes={accountData:S.a.object,allMarketsData:S.a.object,areKeyPairsValid:S.a.bool.isRequired,cardStyles:S.a.bool,history:S.a.object.isRequired,isSidebarOpen:S.a.bool.isRequired,isWalletConnecting:S.a.bool.isRequired,positions:S.a.object,stringGetter:S.a.func.isRequired};a.a=Object(A.c)(Object(R.i)(Object(N.c)(e=>({accountData:Object(G.a)(e),allMarketsData:Object(L.a)(e),areKeyPairsValid:Object(K.a)(e),isSidebarOpen:Object(C.b)(e),isWalletConnecting:Object(j.e)(e),positions:Object(v.a)(e)}))(PositionsTable)))}}]);