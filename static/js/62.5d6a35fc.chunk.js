(window.webpackJsonp=window.webpackJsonp||[]).push([[62,23,97],{1724:function(t,r,a){"use strict";var i=a(0),l=a.n(i),c=a(9),d=a(68),u=a(75),m=a(1),p=a(77);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _objectWithoutProperties(t,r){if(null==t)return{};var a,i,l=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var a,i,l={},c=Object.keys(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||(l[a]=t[a]);return l}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(l[a]=t[a])}return l}r.a=t=>{let r=t.href,a=t.shouldTrackClick,i=void 0===a||a,c=_objectWithoutProperties(t,["href","shouldTrackClick"]);const y=Object(d.u)();return l.a.createElement(l.a.Fragment,null," ",l.a.createElement(b.LearnMoreLink,_extends({rel:"noopener noreferrer",href:r,target:"_blank"},c,{onClick:()=>{i&&p.a.trackEvent(u.a.ExternalLinkClicked,{linkClicked:r,isLearnMore:!0})}}),y({key:m.a.LEARN_MORE})))};const b={};b.LearnMoreLink=c.c.a`
  color: var(--color-purple);
  white-space: nowrap;

  &:hover {
    color: var(--color-purple);
    filter: brightness(1.1);
    text-decoration: underline;
  }

  &:visited {
    color: var(--color-purple);
  }

  ::after {
    content: ' â†’';
  }
`},1725:function(t,r,a){"use strict";var i=a(0),l=a.n(i),c=a(9),d=a(32),u=a(17),m=a(1),p={"legacy-signing":({stringGetter:t})=>({title:t({key:m.f.LEGACY_SIGNING_TITLE}),body:t({key:m.f.LEGACY_SIGNING_BODY})}),"remember-me":({stringGetter:t})=>({title:t({key:m.f.REMEMBER_ME_TITLE}),body:t({key:m.f.REMEMBER_ME_BODY})})},b={"holding-hedgies":({stringGetter:t,stringParams:r})=>({title:t({key:m.f.HOLDING_HEDGIES_TITLE}),body:t({key:m.f.HOLDING_HEDGIES_BODY,params:r}),bodyKey:m.f.HOLDING_HEDGIES_BODY})},y={"account-leverage":({stringGetter:t})=>({title:t({key:m.f.ACCOUNT_LEVERAGE_TITLE}),body:t({key:m.f.ACCOUNT_LEVERAGE_BODY})}),"bracket-sl":({stringGetter:t})=>({title:t({key:m.f.BRACKET_ORDER_SL_TITLE}),body:t({key:m.f.BRACKET_ORDER_SL_BODY})}),"bracket-tp":({stringGetter:t})=>({title:t({key:m.f.BRACKET_ORDER_TP_TITLE}),body:t({key:m.f.BRACKET_ORDER_TP_BODY})}),"buying-power":({stringGetter:t,stringParams:r})=>({title:t({key:m.f.BUYING_POWER_TITLE}),body:t({key:m.f.BUYING_POWER_BODY,params:r})}),"default-execution":({stringGetter:t})=>({title:t({key:m.f.DEFAULT_EXECUTION_TITLE}),body:t({key:m.f.DEFAULT_EXECUTION_BODY})}),equity:({stringGetter:t})=>({title:t({key:m.f.EQUITY_TITLE}),body:t({key:m.f.EQUITY_BODY})}),"expected-price":({stringGetter:t})=>({title:t({key:m.f.EXPECTED_PRICE_TITLE}),body:t({key:m.f.EXPECTED_PRICE_BODY})}),fee:({stringGetter:t})=>({title:t({key:m.f.FEE_TITLE}),body:t({key:m.f.FEE_BODY})}),"fill-or-kill":({stringGetter:t})=>({title:t({key:m.f.FILL_OR_KILL_TITLE}),body:t({key:m.f.FILL_OR_KILL_BODY})}),"free-collateral":({stringGetter:t})=>({title:t({key:m.f.FREE_COLLATERAL_TITLE}),body:t({key:m.f.FREE_COLLATERAL_BODY})}),"good-til":({stringGetter:t})=>({title:t({key:m.f.GOOD_TIL_TITLE}),body:t({key:m.f.GOOD_TIL_BODY})}),"immediate-or-cancel":({stringGetter:t})=>({title:t({key:m.f.IMMEDIATE_OR_CANCEL_TITLE}),body:t({key:m.f.IMMEDIATE_OR_CANCEL_BODY})}),"index-price":({stringGetter:t})=>({title:t({key:m.f.INDEX_PRICE_TITLE}),body:t({key:m.f.INDEX_PRICE_BODY})}),"initial-margin-fraction":({stringGetter:t})=>({title:t({key:m.f.INITIAL_MARGIN_FRACTION_TITLE}),body:t({key:m.f.INITIAL_MARGIN_FRACTION_BODY}),learnMoreLink:"https://help.dydx.exchange/articles/5232637-maximum-position-sizes"}),"initial-stop":({stringGetter:t})=>({title:t({key:m.f.INITIAL_STOP_TITLE}),body:t({key:m.f.INITIAL_STOP_BODY})}),leverage:({stringGetter:t})=>({title:t({key:m.f.LEVERAGE_TITLE}),body:t({key:m.f.LEVERAGE_BODY})}),"limit-price":({stringGetter:t})=>({title:t({key:m.f.LIMIT_PRICE_TITLE}),body:t({key:m.f.LIMIT_PRICE_BODY})}),"limit-price-slippage":({stringGetter:t})=>({title:t({key:m.f.LIMIT_PRICE_SLIPPAGE_TITLE}),body:t({key:m.f.LIMIT_PRICE_SLIPPAGE_BODY})}),"liquidation-price":({stringGetter:t,stringParams:r})=>({title:t({key:m.f.LIQUIDATION_PRICE_TITLE}),body:t({key:m.f.LIQUIDATION_PRICE_BODY,params:r})}),"liquidation-price-general":({stringGetter:t})=>({title:t({key:m.f.LIQUIDATION_PRICE_GENERAL_TITLE}),body:t({key:m.f.LIQUIDATION_PRICE_GENERAL_BODY})}),liquidity:({stringGetter:t})=>({title:t({key:m.f.LIQUIDITY_TITLE}),body:t({key:m.f.LIQUIDITY_BODY})}),"maintenance-margin-fraction":({stringGetter:t})=>({title:t({key:m.f.MAINTENANCE_MARGIN_FRACTION_TITLE}),body:t({key:m.f.MAINTENANCE_MARGIN_FRACTION_BODY})}),"max-withdraw":({stringGetter:t})=>({title:t({key:m.f.MAX_WITHDRAW_TITLE}),body:t({key:m.f.MAX_WITHDRAW_BODY})}),"maker-fee":({stringGetter:t})=>({title:t({key:m.f.MAKER_FEE_TITLE}),body:t({key:m.f.MAKER_FEE_BODY})}),"margin-usage":({stringGetter:t})=>({title:t({key:m.f.MARGIN_USAGE_TITLE}),body:t({key:m.f.MARGIN_USAGE_BODY})}),"maximum-leverage":({stringGetter:t})=>({title:t({key:m.f.MAXIMUM_LEVERAGE_TITLE}),body:t({key:m.f.MAXIMUM_LEVERAGE_BODY})}),"net-funding":({stringGetter:t})=>({title:t({key:m.f.NET_FUNDING_TITLE}),body:t({key:m.f.NET_FUNDING_BODY})}),"open-interest":({stringGetter:t})=>({title:t({key:m.f.OPEN_INTEREST_TITLE}),body:t({key:m.f.OPEN_INTEREST_BODY})}),"oracle-price":({stringGetter:t})=>({title:t({key:m.f.ORACLE_PRICE_TITLE}),body:t({key:m.f.ORACLE_PRICE_BODY})}),"order-amount":({stringGetter:t,stringParams:r})=>({title:t({key:m.f.ORDER_AMOUNT_TITLE}),body:t({key:m.f.ORDER_AMOUNT_BODY,params:r})}),"post-only":({stringGetter:t})=>({title:t({key:m.f.POST_ONLY_TITLE}),body:t({key:m.f.POST_ONLY_BODY})}),"price-impact":({stringGetter:t})=>({title:t({key:m.f.PRICE_IMPACT_TITLE}),body:t({key:m.f.PRICE_IMPACT_BODY})}),"realized-pnl":({stringGetter:t})=>({title:t({key:m.f.REALIZED_PNL_TITLE}),body:t({key:m.f.REALIZED_PNL_BODY})}),"reduce-only":({stringGetter:t})=>({title:t({key:m.f.REDUCE_ONLY_TITLE}),body:t({key:m.f.REDUCE_ONLY_BODY}),learnMoreLink:"https://help.dydx.exchange/articles/6345793-reduce-only-orders"}),"step-size":({stringGetter:t})=>({title:t({key:m.f.STEP_SIZE_TITLE}),body:t({key:m.f.STEP_SIZE_BODY})}),"taker-fee":({stringGetter:t})=>({title:t({key:m.f.TAKER_FEE_TITLE}),body:t({key:m.f.TAKER_FEE_BODY})}),"tick-size":({stringGetter:t})=>({title:t({key:m.f.TICK_SIZE_TITLE}),body:t({key:m.f.TICK_SIZE_BODY})}),"time-in-force":({stringGetter:t})=>({title:t({key:m.f.TIME_IN_FORCE_TITLE}),body:t({key:m.f.TIME_IN_FORCE_BODY})}),"trailing-percent":({stringGetter:t})=>({title:t({key:m.f.TRAILING_PERCENT_TITLE}),body:t({key:m.f.TRAILING_PERCENT_BODY})}),"trigger-price":({stringGetter:t})=>({title:t({key:m.f.TRIGGER_PRICE_TITLE}),body:t({key:m.f.TRIGGER_PRICE_BODY})}),"unrealized-pnl":({stringGetter:t})=>({title:t({key:m.f.UNREALIZED_PNL_TITLE}),body:t({key:m.f.UNREALIZED_PNL_BODY})})},O={"verify-email":({stringGetter:t})=>({title:t({key:m.f.VERIFY_EMAIL_TITLE}),body:t({key:m.f.VERIFY_EMAIL_BODY})})},g={"fast-withdraw-fee":({stringGetter:t})=>({title:t({key:m.f.FAST_WITHDRAW_FEE_TITLE}),body:t({key:m.f.FAST_WITHDRAW_FEE_BODY})}),"withdraw-types":({stringGetter:t})=>({title:t({key:m.f.WITHDRAW_TYPES_TITLE}),body:t({key:m.f.WITHDRAW_TYPES_BODY})})};function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var E=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},{allowance_and_deposit_network_fee:({stringGetter:t})=>({title:t({key:m.f.ALLOWANCE_AND_DEPOSIT_NETWORK_FEE_TITLE}),body:t({key:m.f.ALLOWANCE_AND_DEPOSIT_NETWORK_FEE_BODY}),learnMoreLink:"https://help.dydx.exchange/en/articles/4800191-are-there-fees-to-using-dydx"}),deposit_network_fee:({stringGetter:t})=>({title:t({key:m.f.DEPOSIT_NETWORK_FEE_TITLE}),body:t({key:m.f.DEPOSIT_NETWORK_FEE_BODY}),learnMoreLink:"https://help.dydx.exchange/en/articles/4800191-are-there-fees-to-using-dydx"}),swap:({stringGetter:t})=>({title:t({key:m.f.SWAP_TITLE}),body:t({key:m.f.SWAP_BODY})}),gasless_deposits:({stringGetter:t,stringParams:r})=>({title:t({key:m.f.GASLESS_DEPOSITS_TITLE}),body:t({key:m.f.GASLESS_DEPOSITS_BODY,params:r}),learnMoreLink:"https://dydx.exchange/gasless-deposit-rules"}),gasless_deposits_available:({stringGetter:t,stringParams:r})=>({title:t({key:m.f.AVAILABLE_GASLESS_DEPOSITS_TITLE}),body:t({key:m.f.AVAILABLE_GASLESS_DEPOSITS_BODY,params:r})}),gasless_deposits_disabled:({stringGetter:t})=>({title:t({key:m.f.DISABLED_GASLESS_DEPOSITS_TITLE}),body:t({key:m.f.DISABLED_GASLESS_DEPOSITS_BODY})})}),p),b),y),O),g),_=a(1724);const h={},T=c.d`
  from {
    opacity: 0;
    pointer-events: none;
  }

  to {
    opacity: 1;
    pointer-events: auto;
  }
`;h.Body=c.c.div`
  ${u.f.regular}
`,h.Title=c.c.div`
  ${u.f.bold}
  margin-bottom: 4px;
`,h.TooltipContent=c.c.div`
  ${u.e.size13}
  margin: 10px 10px 10px 30px;
  padding: 100px;
  width: 264px;
  background-color: var(--color-layer-light);
  color: var(--color-text-base);
  padding: 12px;
  text-transform: none;
  border-radius: 4px;
  overflow: hidden;
  white-space: break-spaces;
  filter: drop-shadow(0px 0px 44px var(--color-layer-dark));

  @media ${u.a.tablet} {
    ${u.e.size15}
    width: 292px;
  }
`,h.MouseSpace=c.c.div`
  opacity: 0;
  display: none;
  background-color: transparent;
  position: absolute;
  z-index: 100;
  cursor: default;
  text-align: left;
  animation: ${T} 0.2s ease-in 0.2s forwards;

  @media ${u.a.tablet} {
    animation-delay: 0s;
  }

  ${({hasLongDelay:t})=>t&&c.b`
      @media ${u.a.notTablet} {
        animation-delay: 0.4s;
      }
    `}
`,h.WithTooltip=c.c.div`
  display: inline;
  position: relative;
  width: 100%;
  height: 100%;
  cursor: help;

  &:hover {
    ${h.MouseSpace} {
      display: block;
    }
  }
`;r.a=Object(d.c)(({bottom:t,children:r,className:a,condition:i=!0,cta:c=null,hasReact:d,left:u,longDelay:m,stringGetter:p,stringParams:b,right:y,tooltip:O,top:g})=>{const T={left:u,top:g,right:y,bottom:t},v=E[O];if(!v)return r;const S=v({stringGetter:p,stringParams:b}),I=S.title,k=S.titleKey,j=void 0===k?null:k,R=S.body,A=S.bodyKey,P=void 0===A?null:A,x=S.learnMoreLink;if(!i)return r;let N,D;return d&&(P||j)&&(j&&(N=l.a.createElement("span",{dangerouslySetInnerHTML:{__html:p({key:j,params:b})}})),P&&(D=l.a.createElement("span",{dangerouslySetInnerHTML:{__html:p({key:P,params:b})}}))),l.a.createElement(h.WithTooltip,{className:a},r,l.a.createElement(h.MouseSpace,{hasLongDelay:m,style:T},l.a.createElement(h.TooltipContent,null,l.a.createElement(h.Title,null,N||I),l.a.createElement(h.Body,null,l.a.createElement("span",null,D||R),x&&l.a.createElement(_.a,{href:x}),c))))})},1727:function(t,r,a){"use strict";a.d(r,"a",(function(){return G}));var i=a(225),l=a.n(i),c=a(242),d=a.n(c),u=a(594),m=a.n(u),p=a(0),b=a.n(p),y=a(2),O=a.n(y),g=a(16),E=a.n(g),_=a(68),h=a(15),T=a(127),v="_1jjz_0ocJ5wcZ5nulY2J0L",S="_3YlixFtU499GCZvDJUid8d",I="_3OXfoeCGO4u8et1lby3Ucl",k="H-iVjhhc8OeS3lFFk5h_3",j="PluY6rJkaBpe7xscE037V",R="_10EZoMzaJseemQzPYW0fHF",A="_1tyMMbYVAovuYXMLE5LQ",P="_3xSwQvHnQtWIKf8WggR8YV",x="_1-KqpgU2ty0lNdX21KbY9d",N="_1nQhXs4RT0NWUboVv3zIcl",D="_1bxkDjwOPHHHDXpNZX2mqT",L="_3fgw1qUuoju6zA4_-K6gYN",C="_3VjP7pBlavphsZxq2sfS3E",w="_2XqqS_zzMiQDtcTRJBlRk0",M="_2u4lG8BRK-ofyihqi2Padd",U="Rg4vuAZCokNeR-8JfK-ql";function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const DropdownMenu=({autoHeight:t,className:r,dropdownMenuItems:a,isMenuOpen:i,backgroundLighter:c,expandedView:u,fixedHeight:y,noFixedItemHeight:O,onChangeSelection:g,selectedItemKey:G,setIsMenuOpen:K})=>{const B=b.a.useRef(null),z=_slicedToArray(Object(p.useState)(!1),2),W=z[0],H=z[1],q=m()(i)?W:i,Y=m()(i)?H:K;Object(_.i)({onClickOutside:()=>Y(!1),ref:B});const V=d()(a,({key:t})=>t===G);return b.a.createElement("div",{ref:B,className:E()(v,{[S]:q&&!u,[I]:u})},!u&&b.a.createElement("button",{type:"button",onClick:()=>Y(!q),className:E()(k,{[S]:q,[j]:c},r)},V&&b.a.createElement("div",{className:L},V.icon&&b.a.createElement("div",{className:E()(C,{[M]:V.iconUsesFill,[w]:V.iconUsesStroke})},V.icon),V.label,V.tag&&b.a.createElement(T.a,{backgroundLight:!0,marginLeft:!0},V.tag)),b.a.createElement(h.Ib,null)),b.a.createElement("div",{className:E()(R,{[S]:q||u,[A]:t,[I]:u,[P]:y})},l()(a,({key:t,label:r,icon:a,iconUsesFill:i,iconUsesStroke:l,tag:c,menuOnlyDetail:d})=>b.a.createElement("div",{key:t,role:"button",tabIndex:0,className:E()(x,{[D]:O}),onClick:r=>{t!==G&&g(t,r),Y(!1)}},a&&b.a.createElement("div",{className:E()(C,{[M]:i,[w]:l})},a),r,c&&b.a.createElement(T.a,{marginLeft:!0,className:N},c),d&&b.a.createElement("div",{className:U},d)))))};DropdownMenu.propTypes={autoHeight:O.a.bool,backgroundLighter:O.a.bool,className:O.a.string,dropdownMenuItems:O.a.arrayOf(O.a.shape({key:O.a.string.isRequired,label:O.a.oneOfType([O.a.string,O.a.node]).isRequired,icon:O.a.node,iconUsesStroke:O.a.bool,iconUsesFill:O.a.bool,disabled:O.a.bool,tag:O.a.string})).isRequired,expandedView:O.a.bool,fixedHeight:O.a.bool,isMenuOpen:O.a.bool,noFixedItemHeight:O.a.bool,onChangeSelection:O.a.func.isRequired,selectedItemKey:O.a.string.isRequired,setIsMenuOpen:O.a.func};var G=DropdownMenu},1728:function(t,r,a){"use strict";a.d(r,"b",(function(){return P})),a.d(r,"a",(function(){return R}));var i=a(189),l=a.n(i),c=a(0),d=a.n(c),u=a(2),m=a.n(u),p=a(16),b=a.n(p),y=a(9),O=a(15),g=a(95),E="kePwtS1uunfwXbIK0L16k",_="_2IlD4hbXzdhcaEV8Tnl-KV",h="_3zuA4vLOLSdcXfn26DmOF2",T="RK10uwRJkutHZmff_IfEv",v="_2mNZYPYID1hf4azgl6qRru",S="_37LtL6OhnjkadeJeyPKk6t",I="Fx5KwI7IwFMVPrH4SaCB9",k="_2SC4Oknd9sG9HL3LKYuMkg",j="_3VP909ZoZnVyZv4LHnb-9T";const R={ERROR:"ERROR",INFO:"INFO",SUCCESS:"SUCCESS",WARNING:"WARNING"},AlertMessage=({backgroundLighter:t,children:r,className:a,noMarginBottom:i,noMarginTop:l,onDismiss:c,title:u,type:m=R.ERROR})=>d.a.createElement("div",{className:b()(E,{[_]:m===R.ERROR,[I]:m===R.WARNING,[v]:m===R.INFO,[h]:m===R.SUCCESS,[k]:i,[j]:l,[S]:t},a)},u&&d.a.createElement("div",{className:T},u),d.a.createElement(A.AlertContent,{hasDismiss:c},r),c&&d.a.createElement(A.IconButton,{icon:d.a.createElement(O.q,null),onClick:t=>{t.stopPropagation(),c()}})),A={};A.IconButton=Object(y.c)(g.b)`
  position: absolute;
  top: 6px;
  right: 6px;
`,A.AlertContent=y.c.div`
  ${({hasDismiss:t})=>t&&"margin-right: 16px;"}
`,AlertMessage.propTypes={backgroundLighter:m.a.bool,children:m.a.oneOfType([m.a.arrayOf(m.a.node),m.a.node,m.a.string]).isRequired,className:m.a.string,noMarginBottom:m.a.bool,noMarginTop:m.a.bool,onDismiss:m.a.func,title:m.a.string,type:m.a.oneOf(l()(R))};var P=AlertMessage},1729:function(t,r,a){"use strict";a.d(r,"a",(function(){return S}));var i=a(0),l=a.n(i),c=a(2),d=a.n(c),u=a(16),m=a.n(u),p="PMCPAqniO89FLeL-qUD7W",b="_2UWAwMa099SJadQm3-xyDi",y="_2Mph9-v2SWLjtLvGoxeEgM",O="_3KteIsqIJWNwVfu6jWWlP5",g="_3yk_Ie-15DWtjZzQGHk3tP",E="iCLJRvgsj3UJDOqIUuC75",_="_30k3A4l0t88p2AsmEg_kcu",h="_3Y1Uv0uxL3ZNT2DgEK802y",T="_3I2kHZ8q8wZXLJuEAf4ewB",v="_3jld0o8kmZ1oxyg_enRVk-";const WithReceipt=({children:t,receiptConfig:r,receiptDescription:a,receiptOnTop:i})=>r||a?l.a.createElement("div",{className:p},!i&&t,l.a.createElement("div",{className:b},a&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:y},a),r&&l.a.createElement("div",{className:O})),null===r||void 0===r?void 0:r.map(({key:t,label:r,value:a,regularFont:i,fullWidth:c,green:d})=>l.a.createElement("div",{key:t||r,className:g},l.a.createElement("div",{className:m()(E,{[_]:c})},r),l.a.createElement("span",{className:m()(h,{[T]:i,[v]:d})},a)))),i&&t):l.a.createElement(l.a.Fragment,null,t);WithReceipt.propTypes={children:d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node]).isRequired,receiptDescription:d.a.node,receiptConfig:d.a.arrayOf(d.a.shape({key:d.a.string,label:d.a.oneOfType([d.a.string,d.a.node]).isRequired,value:d.a.oneOfType([d.a.string,d.a.node]),regularFont:d.a.bool,green:d.a.bool})),receiptOnTop:d.a.bool};var S=WithReceipt},1730:function(t,r,a){"use strict";a.d(r,"a",(function(){return _}));var i=a(0),l=a.n(i),c=a(2),d=a.n(c),u=a(16),m=a.n(u),p="_2RX3dzrMfv-xPakxLUxiu7",b="_15TqN3scCNqyyUu2xOuXN8",y="_2E8z4X2l9XDX-eWG_G8ShT",O="_3G2pA9cTBqUiaTRub_9iPA",g="_1COebVDcLQrW6bptcbu5wE",E="_1qxCn3XnZELBgRBU0Tu6iI";const DiffArrow=({className:t,pointLeft:r,pointRight:a,gray:i,green:c,red:d,marginLeft:u,marginRight:_})=>l.a.createElement("div",{className:m()(p,{[O]:i,[y]:c,[b]:d,[g]:u,[E]:_},t)},r&&"\u2190",a&&"\u2192");DiffArrow.propTypes={className:d.a.string,pointLeft:d.a.bool,pointRight:d.a.bool,gray:d.a.bool,green:d.a.bool,red:d.a.bool,marginLeft:d.a.bool,marginRight:d.a.bool};var _=DiffArrow},1736:function(t,r,a){"use strict";a.d(r,"d",(function(){return X})),a.d(r,"b",(function(){return Row})),a.d(r,"a",(function(){return Cell})),a.d(r,"e",(function(){return getOverflowTableConfig})),a.d(r,"c",(function(){return W}));var i=a(82),l=a.n(i),c=a(191),d=a.n(c),u=a(1735),m=a.n(u),p=a(0),b=a.n(p),y=a(2),O=a.n(y),g=a(16),E=a.n(g),_=a(189),h=a.n(_),T=a(225),v=a.n(T),S=a(32),I=a(15),k=a(127),j=a(1725),R="_2dQGanDeXLwD_MwUkbrPqh",A="IiPZ5zO1hv7wcTEZT7viX",P="_30rwdewQka7NsxNg9Y6__r",x="qqePxcmpDzLgJaqooAL8V",N="Gwom7VkLnPiI9g_vQ2zR-",D="_1xnE1_4G4gT_qPYrzEc8xK",L="ERXtnkuivuvCRpXNqrRFO",C="_1vJwUxQhtQiK-I5EBPdNEy",w="_2AAjcjEx1fMxhqQV00fou0",M="_2G6hkYXIHWcGXcU4s7CL99",U="_272O5OFeTghSxfYaeHPln_",G="_2Ra3NuEdmFIM3vvqBY0iyK",K="_3VFAvLa_gpkNCLgeSl1Khk",B="_3mXdr-moPdJTxBOwzjZ0Kc",z="zAQ7hK9DGfnlYdeWA7rA_";function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}const W={INCREASING:"INCREASING",DECREASING:"DECREASING"},H=b.a.forwardRef(({allowOverflow:t,cardStyles:r,className:a,sortableTableConfig:i,stringGetter:l,tableConfig:c},d)=>b.a.createElement("div",{ref:d,className:E()(R,{[P]:r,[A]:t},a)},v()(c,({sortKey:t,titleKey:r,secondaryTitleKey:a,width:c,tooltipConfig:d,rightAlign:u,tag:m})=>{const y=i&&t,O=y&&i.sortedByKey===t,g=y?{role:"button",tabIndex:0,onClick:()=>i.onClickTableHeader(t)}:{};let _;return O&&(_=i.sortDirection===W.INCREASING?b.a.createElement("div",{className:E()(G,K)},b.a.createElement(I.c,null)):b.a.createElement("div",{className:G},b.a.createElement(I.c,null))),b.a.createElement("div",_extends({key:r+c,style:{flexBasis:c,width:c},className:E()(x,{[D]:y,[L]:O,[N]:u,[B]:d})},g),b.a.createElement("div",{className:E()(C,{[w]:a,[N]:u})},l({key:r}),a&&b.a.createElement(p.Fragment,null,b.a.createElement("span",{className:U},"/"),b.a.createElement("span",{className:M},l({key:a})))),m&&b.a.createElement(k.a,{compact:!0,marginLeft:!0},m),_,d&&!_&&b.a.createElement("div",{role:"button",tabIndex:0,className:z,onClick:t=>t.stopPropagation()},b.a.createElement(j.a,{longDelay:!0,key:r+c,top:d.top||12,left:d.left,right:d.right,tooltip:d.tooltip},b.a.createElement(I.O,null))))}))),q={sortableTableConfig:O.a.shape({sortedByKey:O.a.string,sortDirection:O.a.oneOf(h()(W)),onClickTableHeader:O.a.func.isRequired}),tableConfig:O.a.arrayOf(O.a.shape({sortKey:O.a.string,titleKey:O.a.string,secondaryTitleKey:O.a.string,width:O.a.oneOfType([O.a.string,O.a.number]).isRequired,tooltipConfig:O.a.shape({tooltip:O.a.string.isRequired,top:O.a.number,left:O.a.number,right:O.a.number}),rightAlign:O.a.bool,tag:O.a.string})).isRequired};H.propTypes=function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}({allowOverflow:O.a.bool,className:O.a.string,stringGetter:O.a.func.isRequired},q);var Y=Object(S.c)(H),V=a(190),Z={cardStylesContainer:"_2hY4sjNXZbhc6ejWc4pE4T",table:"b2wOAabwItbp1RFdQyhFD",border:"_1cei9iHpQdgfc__F4l4-Bm",withTableLabel:"_1mNvfT7uyU_9IM8rPtSRj2",tableLabel:"_1LQC2MwSq5IqirstGURTyY",row:"_3P-aOAq1H3kOBp-AbgoM0X",fullWidthRow:"hLuiyDaGdyfkAtxL1nIyJ",cardStyles:"_38YI7UXfXmpus_ExPffixC",cell:"Cdxp5A1yAI2XTaxxjfgsJ",cellContent:"ALf30MHd8KnZyeBD-Rv3X",stacked:"_2oMYIpmpA6g5vhAtgmdTP_",inverseStacked:"_2CCZdc2WelaREN7HPtM_sY",allowOverflow:"_2a3KsYfywma3Ff829QZb56",hoverableRow:"_36JmpgU6ox2iq19TR6vPka",active:"_1ozBtMsClMFaVOvUvOdki3",extraPadding:"_3tf3CwuaXuFN3hvrL7DLCe",emptyState:"_7bgo9hgddcx4GDShUUFxG",greenGradient:"MFU7LcH4RMarDVAFM_sve",redGradient:"IgIwlGrWvuhU-VQU26F5k",regularFont:"_18TClxyHOcgO_xbN4kuBcy",rightAlign:"_1JDUHoasexvy8p7kynPylk",green:"_3uxPXCWuD0_3vBDbWQuBlq",red:"_5RLpjxaT9TdkQ3o8R9wvX",muted:"sbmwWseC4dLX4n9r-gyy9"};function table_ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function table_objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?table_ownKeys(Object(a),!0).forEach((function(r){table_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):table_ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function table_defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}const $=b.a.forwardRef(({allowOverflow:t,border:r,cardStyles:a,children:i,className:l,headerRef:c,isLoading:d,loadingRows:u=3,sortableTableConfig:m,tableConfig:p,tableLabel:y},O)=>{const g=E()(Z.table,{[Z.border]:r},l);let _;if(d){let t=u*(a?80:48);a&&(t+=40),_=b.a.createElement("div",{ref:O,className:g,style:{height:t,minHeight:t}},b.a.createElement(V.a,{id:"table-loading"}))}else _=b.a.createElement("div",{ref:O,className:g},b.a.createElement(Y,{ref:c,allowOverflow:t,cardStyles:a,tableConfig:p,sortableTableConfig:m}),i);return y?b.a.createElement(WithTableLabel,{tableLabel:y},_):a?b.a.createElement("div",{className:Z.cardStylesContainer},_):_});$.propTypes=table_objectSpread({allowOverflow:O.a.bool,border:O.a.bool,className:O.a.string,children:O.a.oneOfType([O.a.arrayOf(O.a.node),O.a.node]).isRequired,headerRef:O.a.object,isLoading:O.a.bool,tableLabel:O.a.oneOfType([O.a.string,O.a.node])},q);var X=$;const WithTableLabel=({children:t,tableLabel:r})=>b.a.createElement("div",{className:Z.withTableLabel},b.a.createElement("div",{className:Z.tableLabel},r),b.a.createElement("div",{className:Z.labeledTable},t));WithTableLabel.propTypes={children:O.a.oneOfType([O.a.arrayOf(O.a.node),O.a.node]).isRequired,tableLabel:O.a.oneOfType([O.a.string,O.a.node])};const Row=({active:t,allowOverflow:r,cardStyles:a,children:i,className:l,emptyState:c,extraPadding:d,greenGradient:u,onClick:m,redGradient:p})=>{const y=b.a.createElement("div",{role:"button",tabIndex:0,className:E()(Z.row,Z.fullWidthRow,{[Z.active]:t},{[Z.allowOverflow]:r},{[Z.cardStyles]:a},{[Z.emptyState]:c},{[Z.extraPadding]:d},{[Z.greenGradient]:u},{[Z.hoverableRow]:!!m},{[Z.redGradient]:p},l),onClick:m},i);return a?b.a.createElement("div",null,y):y};Row.propTypes={active:O.a.bool,allowOverflow:O.a.bool,cardStyles:O.a.bool,children:O.a.oneOfType([O.a.arrayOf(O.a.node),O.a.node]).isRequired,className:O.a.string,emptyState:O.a.bool,extraPadding:O.a.bool,greenGradient:O.a.bool,onClick:O.a.func,redGradient:O.a.bool};const Cell=({children:t,className:r,green:a,inverseStacked:i,muted:l,red:c,regularFont:d,rightAlign:u,stacked:m,width:p})=>b.a.createElement("div",{className:Z.cell,style:{flexBasis:p,width:p}},b.a.createElement("div",{className:E()(Z.cellContent,{[Z.rightAlign]:u,[Z.regularFont]:d,[Z.stacked]:m,[Z.inverseStacked]:i,[Z.green]:a,[Z.red]:c,[Z.muted]:l},r)},t));Cell.propTypes={children:O.a.oneOfType([O.a.arrayOf(O.a.node),O.a.node]),className:O.a.string,green:O.a.bool,inverseStacked:O.a.bool,muted:O.a.bool,red:O.a.bool,regularFont:O.a.bool,rightAlign:O.a.bool,stacked:O.a.bool,width:O.a.oneOfType([O.a.string,O.a.number])};const getOverflowTableConfig=({baseConfig:t,elementsToShow:r,isTablet:a,cardStyles:i,tableWidth:c})=>{let u=c;u-=i?32:a?40:32;const p=m()(t,0,r),b=d()(p,(t,{percentage:r})=>t+r,0),y={};return l()(p,t=>{const r=t.key,a=t.percentage,i=t.minWidth,l=void 0===i?0:i;y[r]=table_objectSpread(table_objectSpread({},t),{},{width:Math.max(a/b*u,l)})}),y}},1746:function(t,r,a){"use strict";a.d(r,"a",(function(){return QRCode}));var i=a(0),l=a.n(i),c=a(2173),d=a(1909),u=a(9);const QRCode=({value:t,hasLogo:r})=>{const a=Object(i.useMemo)(()=>(new c.a).setEncodingHint(!0).setErrorCorrectionLevel(r?d.a.H:d.a.L).write(t).make().toDataURL(1,1),[t]);return l.a.createElement(m.QRCode,null,l.a.createElement("img",{src:a,alt:"QR Code"}))},m={};m.QRCode=u.c.div`
  display: flex;
  image-rendering: pixelated;

  cursor: none;

  img {
    width: 100%;
  }
`},1748:function(t,r,a){"use strict";var i=a(0),l=a.n(i),c=a(10),d=a(9),u=a(15),m=a(32),p=a(68),b=a(17),y=a(33),O=a(283),g=a(36),E=a(95),_=a(1),h=a(23);const T={};T.IconButton=Object(d.c)(E.b)`
  &:hover {
    > svg path {
      fill: var(--color-text-light);
    }
  }
`,T.Button=Object(d.c)(g.a)`
  > svg {
    margin-right: 8px;
    padding-top: 2px;
    width: 14px;

    @media ${b.a.tablet} {
      width: 16px;
    }
  }
`,r.a=Object(m.c)(({currentMarket:t,stringGetter:r})=>{const a=Object(c.f)(O.e,c.d),i=Object(c.e)(),d=Object(p.b)().isMobile;if(0===a.length)return null;const onClickButton=r=>{r.stopPropagation(),i(Object(y.c)({modalType:h.a.SHARE_ACTIVITY,modalProps:{currentMarket:t}}))};return d?l.a.createElement(T.IconButton,{backgroundLighter:!0,size:E.a.MEDIUM,icon:l.a.createElement(u.wb,null),onClick:onClickButton}):l.a.createElement(T.Button,{onClick:onClickButton,size:g.d.Medium},l.a.createElement(u.wb,null),r({key:_.a.SHARE}))})},1749:function(t,r,a){"use strict";a.d(r,"a",(function(){return _})),a.d(r,"d",(function(){return h})),a.d(r,"b",(function(){return T})),a.d(r,"c",(function(){return v}));var i=a(27),l=a.n(i),c=a(48),d=a(173),u=a(283),m=a(62),p=a(593),b=a(466),y=a(20),O=a(102),g=a(8),E=a(175);function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}const _=Object(c.a)([p.a,m.a,u.a,m.b],(t,r,a,i)=>Object(E.d)({accountEquity:l()(t,"equity"),allMarketsData:r,allPositions:a,currentMarketConfig:i})),h=Object(c.a)([u.a,m.a,b.c,m.b,p.a,p.b,d.a,u.b,m.c],(t,r,a,i,l,c,d,u,m)=>{if(!t||!m||!c||!l||!a)return null;const p=l.equity,b=c.newEquity,_=(u||{}).size,h=d.amountInput,T=d.selectedOrderSide,v=m.oraclePrice,S=i.market;let I,k,j,R;if(""!==h&&(I=T===y.a.BUY?Object(g.b)(_).plus(h):Object(g.b)(_).minus(h)),p&&I&&v)if(R=I.isZero()?null:I.gt(0)?O.a.LONG:O.a.SHORT,b.lt(0))k=Object(g.b)(1/0);else if(I.isZero())k=g.a.ZERO;else if(I){k=Object(E.c)({accountEquity:b,positionSize:I,oraclePrice:v});const a=_objectSpread(_objectSpread({},t),{},{[S]:{market:S,side:R,size:I}});j=Object(E.d)({accountEquity:b,allMarketsData:r,allPositions:a,currentMarketConfig:i})}return{newLeverage:k,newLiquidationPrice:j,newPositionSize:I,newPositionSide:R}}),T=Object(c.a)([u.b,m.c],(t,r)=>Object(E.f)({marketData:r,position:t})),v=Object(c.a)([u.b,h],(t,r)=>{const a=r||{},i=a.newPositionSide,l=a.newPositionSize,c=t||{},d=c.side,u=c.size;return!t||i&&i!==d||l&&l.abs().gt(Object(g.b)(u).abs())})},1750:function(t,r,a){"use strict";a.d(r,"c",(function(){return calculateCurrentMarketSpread})),a.d(r,"d",(function(){return calculateCurrentMarketSpreadPercent})),a.d(r,"f",(function(){return calculateCurrentMidMarketPrice})),a.d(r,"e",(function(){return g})),a.d(r,"a",(function(){return _})),a.d(r,"b",(function(){return T})),a.d(r,"h",(function(){return S})),a.d(r,"g",(function(){return I}));var i=a(376),l=a.n(i),c=a(1913),d=a.n(c),u=a(48),m=a(94),p=a.n(m),b=a(327),y=a(62),O=a(8);function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}const calculateCurrentMarketSpread=t=>{var r;return null===(r=E(t))||void 0===r?void 0:r.spread},calculateCurrentMarketSpreadPercent=t=>{var r;return null===(r=E(t))||void 0===r?void 0:r.spreadPercent},calculateCurrentMidMarketPrice=t=>{var r;return null===(r=E(t))||void 0===r?void 0:r.midMarketPrice},g=Object(u.a)(y.c,t=>{const r=null===t||void 0===t?void 0:t.tickSize;return r?[r,10*r,100*r,1e3*r]:[]}),E=Object(u.a)([b.a,b.b],(t,r)=>{if(null===t||void 0===t||!t.length||null===r||void 0===r||!r.length)return null;const a=t[t.length-1],i=r[0];if(!a||!i)return null;const l=Object(O.b)(i.price).minus(a.price);return{spread:l,spreadPercent:Object(O.b)(a.price).minus(i.price).div(a.price),midMarketPrice:l.div(2).plus(a.price)}}),_=Object(u.a)([b.a,g,b.e],(t,r,a)=>{const i=d()(t||[]);let c=O.a.ZERO;const u=a>0&&(null===r||void 0===r?void 0:r[a]);if(!u)return l()(i,(t,r)=>{c=c.plus(Object(O.b)(t.size)),i[r].totalSize=c,i[r].totalSizeFixed=c.toFixed()}),i;const m=[];return l()(i,(t,r)=>{c=c.plus(Object(O.b)(t.size));const a=Object(O.g)({number:Object(O.b)(t.price),factor:u,roundingMode:p.a.ROUND_DOWN});if(r===i.length-1){const r=_objectSpread(_objectSpread({},t),{},{price:a.toString(),totalSize:c,totalSizeFixed:c.toFixed()});m.unshift(r)}else{const r=m[0];if(r.price===a.toString()){const a=r.size;r.size=Object(O.b)(a).plus(Object(O.b)(t.size)),r.totalSize=c,r.totalSizeFixed=c.toFixed()}else{const r=_objectSpread(_objectSpread({},t),{},{price:a.toString(),totalSize:c,totalSizeFixed:c.toFixed()});m.unshift(r)}}}),m}),h=Object(u.a)(b.a,t=>{const r=d()(t||[]);let a=O.a.ZERO;return l()(r,(t,i)=>{a=a.plus(Object(O.b)(t.size)),r[i].totalSize=a,r[i].totalSizeFixed=a.toFixed()}),r}),T=Object(u.a)([b.b,g,b.e],(t,r,a)=>{const i=d()(t||[]);let l=O.a.ZERO;const c=a>0&&(null===r||void 0===r?void 0:r[a]);if(!c)return i.forEach((t,r)=>{l=l.plus(Object(O.b)(t.size)),i[r].totalSize=l,i[r].totalSizeFixed=l.toFixed()}),i;const u=[];return i.forEach((t,r)=>{l=l.plus(Object(O.b)(t.size));const a=Object(O.g)({number:Object(O.b)(t.price),factor:c,roundingMode:p.a.ROUND_UP});if(0===r){const r=_objectSpread(_objectSpread({},t),{},{price:a.toString(),totalSize:l,totalSizeFixed:l.toFixed()});u.push(r)}else{const r=u[u.length-1];if(r.price===a.toString()){const a=r.size;r.size=Object(O.b)(a).plus(Object(O.b)(t.size)),r.totalSize=l,r.totalSizeFixed=l.toFixed()}else{const r=_objectSpread(_objectSpread({},t),{},{price:a.toString(),totalSize:l,totalSizeFixed:l.toFixed()});u.push(r)}}}),u}),v=Object(u.a)(b.b,t=>{const r=d()(t||[]);let a=O.a.ZERO;return r.forEach((t,i)=>{a=a.plus(Object(O.b)(t.size)),r[i].totalSize=a,r[i].totalSizeFixed=a.toFixed()}),r}),S=Object(u.a)([b.a,b.b],(t,r)=>t&&r?[...t,...r].reduce((t,r)=>t.plus(r.size),O.a.ZERO):O.a.ZERO),I=Object(u.a)([h,v],(t,r)=>{let a=O.a.ZERO;const i=[...t].reverse().map(({price:t,size:r,totalSize:i})=>(a=a.plus(Object(O.b)(r).times(t)),{price:Number(t),size:Number(r),cost:a.toNumber(),totalBuySize:i.toNumber()})).reverse();let l=O.a.ZERO;return[...i,...r.map(({price:t,size:r,totalSize:a})=>(l=l.plus(Object(O.b)(r).times(t)),{price:Number(t),size:Number(r),cost:l.toNumber(),totalSellSize:a.toNumber()}))]})},1751:function(t,r,a){"use strict";a.d(r,"a",(function(){return ToggleInput})),a.d(r,"b",(function(){return u}));var i=a(0),l=a.n(i),c=a(9),d=a(17);let u;!function(t){t.ExtraSmall="ExtraSmall",t.Default="Default",t.Small="Small",t.Tiny="Tiny"}(u||(u={}));const ToggleInput=({checked:t,disabled:r,id:a,noMargin:i,onToggle:c,size:d=u.Default})=>l.a.createElement(m.ToggleInput,{checked:t,disabled:r,id:a,noMargin:i,size:d,type:"checkbox",onChange:t=>c(t.target.checked)}),m={};m.ToggleInput=c.c.input`
  --animation-speed: 200ms;
  --toggle-distance: 0px;

  position: relative;
  background-color: var(--color-layer-darker);
  border-radius: 20px;
  cursor: pointer;
  appearance: none;
  transition: all var(--animation-speed) ease-in-out;

  &:after {
    position: absolute;
    top: 0;
    left: 0;
    content: '';
    background-color: var(--color-layer-lightest);
    border-radius: 50%;
    transition: all var(--animation-speed) ease-in-out;
    transform: translateX(0);
  }

  :checked {
    background-color: var(--color-purple);

    &:after {
      background-color: var(--color-text-light);
      transform: translateX(var(--toggle-distance));
    }
  }

  :disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  ${({size:t})=>{switch(t){case u.Tiny:return c.b`
          --toggle-distance: 10px;
          height: 16px;
          width: 26px;

          &:after {
            height: 16px;
            width: 16px;
          }

          @media ${d.a.tablet} {
            --toggle-distance: 12px;
            height: 18px;
            width: 30px;

            &:after {
              height: 18px;
              width: 18px;
            }
          }
        `;case u.Default:return c.b`
          --toggle-distance: 18px;

          height: 24px;
          width: 42px;

          &:after {
            height: 24px;
            width: 24px;
          }
        `;case u.ExtraSmall:return c.b`
          --toggle-distance: 12px;

          height: 18px;
          width: 30px;

          &:after {
            height: 18px;
            width: 18px;
          }
        `;case u.Small:return c.b`
          --toggle-distance: 16px;

          height: 20px;
          width: 36px;

          &:after {
            height: 20px;
            width: 20px;
          }

          @media ${d.a.tablet} {
            --toggle-distance: 18px;

            height: 24px;
            width: 42px;

            &:after {
              height: 24px;
              width: 24px;
            }
          }
        `;default:return null}}}

  ${({noMargin:t})=>t&&c.b`
      margin: 0;
    `}
`},1758:function(t,r,a){"use strict";a.d(r,"a",(function(){return j}));var i=a(242),l=a.n(i),c=a(225),d=a.n(c),u=a(0),m=a.n(u),p=a(2),b=a.n(p),y=a(16),O=a.n(y),g=a(15),E=a(68),_="zhf4mQmHC-bvUHRiL0ncA",h="_2_fbqvCSTUXAOwBZueSnou",T="_3wFHO7dX4-NDkAql126wyt",v="_1_MaAY5WpxMVHnUu_rJe4P",S="_-0q9IsXZcH1dLHnmhteQ7",I="_2lzVtBj6vtduakdQMT5dCF",k="_14Ka1lVXOdIAb0pRN8OEmx";function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const InlineTabs=({className:t,fullWidthTabs:r,tabConfig:a,selectedTabKey:i,onClickTab:c})=>{const p=m.a.useRef(),b=_slicedToArray(Object(u.useState)(!1),2),y=b[0],j=b[1];return Object(E.i)({onClickOutside:()=>j(!1),ref:p}),m.a.createElement("div",{className:O()(_,t)},d()(a,({key:t,label:u,dropdownConfig:b})=>m.a.createElement("div",{key:t,role:"button",tabIndex:0,ref:b&&p,className:O()(h,{[T]:r,[S]:b?!y&&l()(b,({key:t})=>i===t):i===t,[v]:b&&y}),style:r?{flex:`0 0 ${100/a.length}%`}:{},onClick:()=>b?j(!y):c(t)},u,b&&m.a.createElement(g.Ib,null),b&&y&&m.a.createElement("div",{className:I},d()(b,({key:t,label:r})=>m.a.createElement("div",{key:t,role:"button",tabIndex:0,className:O()(k,{[S]:i===t}),onClick:()=>c(t)},r))))))};InlineTabs.propTypes={className:b.a.string,fullWidthTabs:b.a.bool,onClickTab:b.a.func.isRequired,selectedTabKey:b.a.string.isRequired,tabConfig:b.a.arrayOf(b.a.shape({key:b.a.string.isRequired,label:b.a.oneOfType([b.a.arrayOf(b.a.node),b.a.node,b.a.string]).isRequired,dropdownConfig:b.a.arrayOf(b.a.shape({key:b.a.string.isRequired,label:b.a.oneOfType([b.a.arrayOf(b.a.node),b.a.node,b.a.string]).isRequired}))})).isRequired};var j=InlineTabs},1762:function(t,r,a){"use strict";a.d(r,"a",(function(){return i})),a.d(r,"b",(function(){return l}));const i="1000000",l=60},1767:function(t,r,a){"use strict";a.d(r,"b",(function(){return card_components_ShareReferralLink})),a.d(r,"a",(function(){return card_components_SharePositionMarketSelector}));var i=a(0),l=a.n(i),c=a(10),d=a(9),u=a(79),m=a(15),p=a(1746),b=a(56),y=a(468);var card_components_ShareReferralLink=()=>{const t=Object(c.f)(b.g,c.d),r=Object(c.f)(b.h);if(!t)return null;const a=![u.AffiliateApplicationStatuses.REJECTED,u.AffiliateApplicationStatuses.REJECTED_AND_BANNED].includes(r);return l.a.createElement(O.Container,null,l.a.createElement(O.LogoAndLink,null,l.a.createElement(O.LogoContainer,null,l.a.createElement(m.X,null)),a?l.a.createElement("span",null,"dydx.exchange/r/",l.a.createElement(O.LightSpan,null,t.publicId)):l.a.createElement("span",null,"trade.dydx.exchange")),l.a.createElement(O.QRCodeContainer,null,l.a.createElement(p.a,{value:a?`${y.a}${t.publicId}`:"https://trade.dydx.exchange/"})))};const O={};O.Container=d.c.div`
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
`,O.LogoAndLink=d.c.div`
  display: flex;
  align-items: flex-start;
  flex-direction: column;
`,O.LogoContainer=d.c.div`
  height: 18px;
  margin-bottom: 4px;

  > svg {
    height: 100%;
    width: auto;
  }
`,O.LightSpan=d.c.span`
  color: var(--color-text-light);
`,O.QRCodeContainer=d.c.div`
  background-color: var(--color-text-light);
  height: 48px;
  width: 48px;
  padding: 4px;
  overflow: hidden;
  border-radius: 6px;
`;var g=a(68),E=a(17),_=a(282),h=a(36),T=a(69);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var card_components_SharePositionMarketSelector=({markets:t,selectedMarket:r,onChangeMarket:a})=>{const c=l.a.useRef(null),d=_slicedToArray(Object(i.useState)(!1),2),u=d[0],m=d[1];Object(g.i)({onClickOutside:()=>m(!1),ref:c});const p=T.c[r].baseSymbol;return l.a.createElement(v.SelectorContainer,{ref:c},l.a.createElement(v.Selector,{active:u,onClick:()=>m(!u),shape:h.c.Pill,size:h.d.ExtraSmall},l.a.createElement(v.MarketSpan,null,l.a.createElement(_.a,{symbol:p}),p),l.a.createElement(v.TriangleIcon,null)),l.a.createElement(v.SelectorMenu,{isSelectorOpen:u},t.map(t=>t!==r&&l.a.createElement(v.SelectorMenuItem,{key:t,role:"button",tabIndex:0,onClick:()=>{a(t),m(!1)}},l.a.createElement(v.MarketSpan,null,l.a.createElement(_.a,{symbol:T.c[t].baseSymbol}),T.c[t].baseSymbol)))))};const v={},S=d.b`
  padding: 6px;
  display: flex;
  align-items: center;
  justify-content: flex-start;
`;v.SelectorContainer=d.c.div`
  position: relative;
  display: inline-block;
`,v.Selector=Object(d.c)(h.a)`
  ${S}
  color: var(--color-text-light);
  justify-content: space-between;

  ${({active:t})=>t&&d.b`
      > svg {
        transform: rotate(180deg);

        > path {
          fill: var(--color-text-base);
        }
      }
    `};
`,v.SelectorMenu=d.c.div`
  bottom: 36px;
  border-radius: 14px;
  max-height: 168px;
  overflow: auto;
  position: absolute;
  width: 112px;
  z-index: 1;
  display: flex;
  flex-direction: column-reverse;

  ${({isSelectorOpen:t})=>!t&&d.b`
      display: none;
    `};

  @media ${E.a.mobile} {
    bottom: 44px;
    right: 0;
  }
`,v.SelectorMenuItem=Object(d.c)(h.a)`
  ${S}
  min-height: 36px;
  height: 36px;
  border-radius: 0;
`,v.MarketSpan=d.c.span`
  display: flex;
  align-items: center;

  > * {
    margin: 4px;
  }
`,v.TriangleIcon=Object(d.c)(m.Ib)`
  margin: 0 8px;
`},1771:function(t,r,a){"use strict";a.d(r,"a",(function(){return getAllFundingPayments})),a.d(r,"b",(function(){return getFetchedMarkets})),a.d(r,"c",(function(){return getFundingPaymentsByMarket}));var i=a(27),l=a.n(i);const getAllFundingPayments=t=>l()(t,"fundingPayments.fundingPayments"),getFetchedMarkets=t=>{var r;return null===t||void 0===t||null===(r=t.fundingPayments)||void 0===r?void 0:r.fetchedMarkets},getFundingPaymentsByMarket=t=>{var r;return null===t||void 0===t||null===(r=t.fundingPayments)||void 0===r?void 0:r.fundingPaymentsByMarket}},1772:function(t,r,a){"use strict";r.a={positionContainer:"_2tMZjsSdR6b8tF9bF3gNgN",position:"_2TIuVl6ufyshFL9_zzBtKE",mobileSectionHeader:"HzIi5WCQlszgjVDYiNM5A",detailFields:"T8EsZJzV6MkYzPZCQHnp7",detailRow:"fCRfjkcsvNhCM_6pfBnb7",detailLabel:"elinhoOYaWU2NaalYmyrc",detailValue:"_3XDFZSmT2DLjm1ZJHbzguZ",red:"_1zZ5h6n73qIsTE6fuyLnr0",green:"fIv14udF7x3yvWbXaG78x",positionButtonsContainer:"_2tnChg_lJ1loKnv6byoUrW",closePositionButton:"My2qq6c7dIGqoUxAofegT",sharePositionButton:"_32J3d5dd_iO6-Q-LQyYim0"}},1777:function(t,r,a){"use strict";a.d(r,"a",(function(){return i.a})),a.d(r,"b",(function(){return x}));var i=a(1748),l=a(0),c=a.n(l),d=a(10),u=a(9),m=a(94),p=a.n(m),b=a(91),y=a(32),O=a(17),g=a(282),E=a(127),_=a(62),h=a(283),T=a(593),v=a(1),S=a(69),I=a(102),k=a(76),j=a(8),R=a(175),A=a(1767);const P=c.a.forwardRef(({selectedMarket:t,stringGetter:r},a)=>{const i=Object(d.f)(T.a,d.d),l=Object(d.f)(Object(_.e)(t),d.d),u=Object(d.f)(Object(h.d)(t),d.d);if(!i||!l||!u)return null;const m=u.market,y=u.entryPrice,O=u.side,g=u.size,E=l.indexPrice,S=l.oraclePrice,I=l.tickSize,P=(Object(R.f)({position:u,marketData:l})||{}).unrealizedPnlPercent;if(!P)return null;const x=Object(j.d)(I),D=Object(R.c)({accountEquity:null===i||void 0===i?void 0:i.equity,positionSize:g,oraclePrice:S});return c.a.createElement(N.CardWrapper,null,c.a.createElement(N.Card,{ref:a},c.a.createElement(N.Row,{alignItems:"flex-start",justifyContent:"space-between"},c.a.createElement(N.PositionHighlights,{"align-items":"flex-start"},c.a.createElement(N.MarketAndSide,{market:m,side:O,stringGetter:r}),c.a.createElement(N.PnlHighlight,{alignItems:"center",pos:P.gte(0),neg:P.lt(0)},c.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",suffix:"%",value:P.abs().times(100).toFixed(k.d,p.a.ROUND_UP)}))),c.a.createElement(N.Row,null,c.a.createElement(N.PositionDetailsText,{rightAlign:!0},c.a.createElement("span",null,r({key:v.a.SHARE_ENTRY})),c.a.createElement("span",null,r({key:v.a.SHARE_INDEX})),c.a.createElement("span",null,r({key:v.a.SHARE_LEVERAGE}))),c.a.createElement(N.PositionDetailsNumbers,null,c.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(j.b)(y).toFixed(x||k.h)}),c.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(j.b)(E).toFixed(x||k.h)}),c.a.createElement("span",null,D.toFixed(k.c,p.a.ROUND_UP)+"\xd7")))),c.a.createElement(A.b,null)))});var x=Object(y.c)(P);const N={};N.Card=u.c.div`
  ${O.e.size11}
  background: url('/share-activity/share-position-card-bg.png');
  background-size: contain;
  height: 100%;
  width: 100%;
  padding: 28px 32px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`,N.Row=u.c.div`
  display: flex;
  align-items: ${({alignItems:t})=>t};
  justify-content: ${({justifyContent:t})=>t};
`,N.Column=u.c.div`
  display: flex;
  flex-direction: column;

  ${({rightAlign:t})=>t&&u.b`
      align-items: flex-end;
    `};
`,N.LightSpan=u.c.span`
  color: var(--color-text-light);
`,N.CardWrapper=u.c.div`
  border: 1px solid var(--color-border-lighter);
  border-radius: 16px;
  aspect-ratio: 1200 / 630;
  min-width: 364px;
  width: 364px;

  @media (max-width: 380px) {
    border-radius: 0;
  }
`,N.MarketAndSide=Object(u.c)(({market:t,side:r,stringGetter:a})=>{const i=S.c[t],l=i.baseSymbol,d=i.baseSymbolName,u=a({key:r===I.a.LONG?v.a.LONG_POSITION_SHORT:v.a.SHORT_POSITION_SHORT});return c.a.createElement(N.Row,{alignItems:"center"},c.a.createElement(N.Market,{alignItems:"center"},c.a.createElement(g.a,{symbol:l}),c.a.createElement(N.LightSpan,null,d)),c.a.createElement(E.a,{regularFont:!0,large:!0,green:r===I.a.LONG,red:r===I.a.SHORT},u))})`
  margin-top: 4px;
`,N.PositionHighlights=Object(u.c)(N.Column)`
  ${O.e.size15}
`,N.PositionDetailsText=Object(u.c)(N.Column)`
  > * {
    margin-bottom: 4px;
  }
`,N.PositionDetailsNumbers=Object(u.c)(N.Column)`
  color: var(--color-text-light);
  margin-left: 12px;

  > * {
    margin-bottom: 4px;
  }
`,N.PnlHighlight=Object(u.c)(N.Row)`
  ${O.e.size32};
  ${({pos:t,neg:r})=>t?u.b`
        color: var(--color-green);
      `:r?u.b`
        color: var(--color-red);
      `:u.b`
        color: var(--color-text-light);
      `};

  margin-top: 4px;

  &:before {
    font-size: 44px;
    content: '${({pos:t,neg:r})=>t?"\u2191":r?"\u2193":""}';
    margin-left: -4px;
  }
`,N.Market=Object(u.c)(N.Row)`
  margin: 0 4px 0 -2px;

  > * {
    margin: 0 2px;
  }
`},1797:function(t,r,a){"use strict";a.d(r,"a",(function(){return p})),a.d(r,"b",(function(){return b})),a.d(r,"c",(function(){return y}));var i=a(27),l=a.n(i),c=a(594),d=a.n(c),u=a(48),m=a(62);const getAllLiveTrades=t=>t.trades.liveTrades,p=Object(u.a)(getAllLiveTrades,t=>!d()(t)),b=Object(u.a)([m.b,getAllLiveTrades],(t,r)=>l()(r,`[${t.market}].trades`)),y=Object(u.a)([m.b,getAllLiveTrades],(t,r)=>l()(r,`[${t.market}].version`))},1798:function(t,r,a){"use strict";a.d(r,"a",(function(){return i}));const i={TAKER:"TAKER",MAKER:"MAKER"}},1802:function(t,r,a){"use strict";a.d(r,"a",(function(){return ie}));var i=a(0),l=a.n(i),c=a(2),d=a.n(c),u=a(10),m=a(66),p=a(94),b=a.n(p),y=a(91),O=a(16),g=a.n(O),E=a(67),_=a(9),h=a(4),T=a(32),v=a(15),S=a(36),I=a(95),k=a(127),j=a(98),R=a(1729),A=a(1725),P=a(33),x=a(226),N=a(148),D=a(595),L=a(62),C=a(283),w=a(173),M=a(56),U=a(466),G=a(593),K=a(1749),B=a(115),z=a(13),W=a(75),H=a(1),q=a(23),Y=a(20),V=a(76),Z=a(77),$=a(30),X=a(24),Q=a(8),J=a(467),ee="_3pRsdwtTz2DfwB_ThzlgKD",te="_1cn8OmhswcqMfwYCBCQduk",re="lGJWFyjqOv7Q16Bw9GMMX",ae="_3CKUe4o-Oq3PhaNjw96RA6";function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function asyncGeneratorStep(t,r,a,i,l,c,d){try{var u=t[c](d),m=u.value}catch(p){return void a(p)}u.done?r(m):Promise.resolve(m).then(i,l)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,l){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,l,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,l,_next,_throw,"throw",t)}_next(void 0)}))}}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const PlaceOrderButtonAndReceipt=({account:t,areKeyPairsValid:r,currentFeeData:{feeType:a,feePercent:c,feeAmount:d,referralDiscountRate:p},currentMarketConfig:{market:O},currentMarketData:_,currentMarketOrderPriceData:T,currentOrderPrice:N,currentOrderPriceImpact:D,currentPosition:L,currentTradeData:C,derivedAccountData:w,handleErrorOnPlaceOrder:U,handleOrderPlaced:G,isClosePosition:B,isUserGeoBlocked:ie,saveUserTradeOptionsOnOrderPlaced:oe,setDefaultLastEditedAmountInput:le,setShowExpandedReceipt:ce,showExpandedReceipt:se,stringGetter:de,tradeHasError:ue,user:me,userRestrictions:{canTrade:pe,isRestricted:be,restrictionType:ye}})=>{var fe;const Oe=_slicedToArray(Object(i.useState)(!1),2),ge=Oe[0],Ee=Oe[1],_e=Object(u.e)(),he=C.selectedOrderSide,Te=C.selectedTradeType,ve=C.amountInput,Se=C.limitPriceInput,Ie=C.stopPriceInput,ke=C.takeProfitPriceInput,je=C.trailingPercentInput,Re=C.selectedTimeInForceOption,Ae=C.goodTilTimeInput,Pe=C.goodTilTimeTimescale,xe=C.postOnlyChecked,Ne=C.reduceOnlyChecked,De=C.bracketOrders,Le=C.bracketOrderTimeInForceOption,Ce=_||{},we=Ce.status,Me=Ce.tickSize,Fe=(me||{}).takerFeeRate,Ue=Object(u.f)(K.c,u.d),Ge=Object(u.f)(M.o,u.d),Ke=null!==(fe=null===Ge||void 0===Ge?void 0:Ge.saveOrderAmount)&&void 0!==fe&&fe&&!B,getGoodTilTimeExpiration=()=>m.DateTime.local().plus({[Pe.toLowerCase()]:Ae});let Be;Te===z.D.TRAILING_STOP&&(Be=Object(Q.g)({number:N,factor:Me,roundingMode:he===Y.a.BUY?b.a.ROUND_UP:b.a.ROUND_DOWN}));const ze=Ne&&[z.C.FOK,z.C.IOC].includes(Re),We=function(){var r=_asyncToGenerator((function*(r){try{yield Promise.all(De.map(function(){var a=_asyncToGenerator((function*(a){const i=he===Y.a.BUY?Y.a.SELL:Y.a.BUY,l=a.selectedTradeType===z.D.STOP_MARKET?Y.e.STOP_MARKET:Y.e.TAKE_PROFIT_MARKET,c=Object(J.g)({currentOrderPrice:a.triggerPrice,currentMarketOrderPriceData:T,market:O,orderSide:i,tradeType:a.selectedTradeType}),d=Object(Q.g)({number:Object(J.f)({account:t,accountData:w,currentMarketData:_,currentOrderPrice:c,currentPosition:L,currentTradeData:{amountInput:ve,selectedOrderSide:i}}),factor:Me,roundingMode:i===Y.a.BUY?b.a.ROUND_DOWN:b.a.ROUND_UP}),u={account:t,expiration:getGoodTilTimeExpiration(),limitFee:Fe,market:O,postOnly:!1,price:d,reduceOnly:a.reduceOnlyChecked,side:i,size:ve,timeInForce:Le,triggerPrice:a.triggerPrice,type:l};yield $.c.placeOrder(u),Z.a.trackEvent(W.a.ActionPlaceOrder,{market:O,orderType:l,postOnly:u.postOnly,price:u.price,reduceOnly:u.reduceOnly,side:u.side,size:Number(ve),timeInForce:u.timeInForce,triggerPrice:u.triggerPrice,orderIdTiedToBracketOrder:r.id})}));return function(t){return a.apply(this,arguments)}}()))}catch(a){X.b.notify({error:a,location:X.a.PLACE_BRACKET_ORDER}),U({stringKey:H.a.BRACKET_ORDER_FAILED_TO_PLACE})}}));return function handleBracketOrders(t){return r.apply(this,arguments)}}(),He=function(){var r=_asyncToGenerator((function*(){let r,a,i,l,c,d,u,p;switch(Te){case z.D.MARKET:l=Object(Q.g)({number:Object(J.b)({account:t,accountData:w,currentMarketData:_,currentOrderPrice:N,currentPosition:L,currentTradeData:C}),factor:Me,roundingMode:he===Y.a.BUY?b.a.ROUND_DOWN:b.a.ROUND_UP}),r=m.DateTime.local().plus({minutes:z.n}).toUTC().toISO(),a=Y.e.MARKET,d=z.C.FOK,c=ze;break;case z.D.LIMIT:r=getGoodTilTimeExpiration(),a=Y.e.LIMIT,i=xe&&Re===z.C.GTT,l=Se,c=ze,d=Re;break;case z.D.STOP_LIMIT:r=getGoodTilTimeExpiration(),a=Y.e.STOP_LIMIT,u=Ie,i=xe&&Re===z.C.GTT,l=Se,d=Re,c=ze;break;case z.D.STOP_MARKET:{r=getGoodTilTimeExpiration(),a=Y.e.STOP_MARKET,u=Ie,i=!1,c=ze,d=Re;const m=Object(J.g)({currentOrderPrice:N,currentMarketOrderPriceData:T,market:O,orderSide:he,tradeType:Te});l=Object(Q.g)({number:Object(J.f)({account:t,accountData:w,currentMarketData:_,currentOrderPrice:m,currentPosition:L,currentTradeData:C}),factor:Me,roundingMode:he===Y.a.BUY?b.a.ROUND_DOWN:b.a.ROUND_UP});break}case z.D.TAKE_PROFIT_LIMIT:r=getGoodTilTimeExpiration(),a=Y.e.TAKE_PROFIT,u=ke,i=xe&&Re===z.C.GTT,l=Se,c=ze,d=Re;break;case z.D.TAKE_PROFIT_MARKET:{r=getGoodTilTimeExpiration(),a=Y.e.TAKE_PROFIT_MARKET,u=Ie,i=!1,c=ze,d=Re;const m=Object(J.g)({currentOrderPrice:N,currentMarketOrderPriceData:T,market:O,orderSide:he,tradeType:Te});l=Object(Q.g)({number:Object(J.f)({account:t,accountData:w,currentMarketData:_,currentOrderPrice:m,currentPosition:L,currentTradeData:C}),factor:Me,roundingMode:he===Y.a.BUY?b.a.ROUND_DOWN:b.a.ROUND_UP});break}case z.D.TRAILING_STOP:r=getGoodTilTimeExpiration(),a=Y.e.TRAILING_STOP,c=ze,d=Re,u=Be,p=he===Y.a.BUY?je:Object(Q.b)(je).negated(),l=Object(Q.g)({number:N.times(he===Y.a.BUY?Q.a.ONE.plus(z.w):Q.a.ONE.minus(z.w)),factor:Me,roundingMode:he===Y.a.BUY?b.a.ROUND_UP:b.a.ROUND_DOWN})}try{Ee(!0),null===le||void 0===le||le();const m=yield $.c.placeOrder({account:t,expiration:r,limitFee:Fe,market:O,postOnly:i,price:l,reduceOnly:c,side:he,size:ve,timeInForce:d,trailingPercent:p,triggerPrice:u,type:a});Z.a.trackEvent(W.a.ActionPlaceOrder,{market:O,orderType:a,postOnly:i,price:l,reduceOnly:c,side:he,size:Number(ve),timeInForce:d,trailingPercent:p,triggerPrice:u}),(null===m||void 0===m?void 0:m.type)===Y.e.MARKET&&De.length>0&&(yield We(m)),null===oe||void 0===oe||oe(),_e(Object(x.a)(function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}({},Ke?z.e:z.d))),Ee(!1),G&&G()}catch(g){var y;const t=null!==(y=null===g||void 0===g?void 0:g.message)&&void 0!==y?y:"",r=t.includes("For compliance reasons you");let a;t.includes("jurisdiction that violates our terms of use")||r?be||ye===h.j.Complied?(a={stringKey:H.a.BANNED_USER},Object(E.b)(({closeToast:r})=>Object(j.k)({closeToast:r,notification:{id:h.j.Restricted,reason:t}}))):(a={stringKey:H.a.COMPLIANCE_BODY},_e(Object(P.c)({modalType:q.a.COMPLIANCE}))):a=Object(J.l)(g),U(a),Ee(!1),X.b.notify({error:g,location:X.a.PLACE_ORDER,metaData:{isClosePosition:B}})}}));return function handleOnClick(){return r.apply(this,arguments)}}();let qe;const Ye=Te===z.D.LIMIT,Ve=!pe||we===h.f.CloseOnly&&(!Ye||Ue);if(ie||Ve&&!B)qe=de({key:H.a.UNAVAILABLE});else if(B)qe=de({key:H.a.CLOSE_POSITION});else switch(Te){case z.D.MARKET:qe=de({key:H.a.PLACE_MARKET_ORDER});break;case z.D.LIMIT:qe=de({key:H.a.PLACE_LIMIT_ORDER});break;case z.D.STOP_LIMIT:case z.D.STOP_MARKET:case z.D.TRAILING_STOP:case z.D.TAKE_PROFIT_LIMIT:case z.D.TAKE_PROFIT_MARKET:default:{const t={[z.D.STOP_LIMIT]:H.a.STOP_LIMIT,[z.D.STOP_MARKET]:H.a.STOP_MARKET,[z.D.TRAILING_STOP]:H.a.TRAILING_STOP,[z.D.TAKE_PROFIT_LIMIT]:H.a.TAKE_PROFIT_LIMIT,[z.D.TAKE_PROFIT_MARKET]:H.a.TAKE_PROFIT_MARKET}[Te];qe=de({key:H.a.PLACE_ORDER,params:{ORDER:de({key:t})}});break}}let Ze=(ie||Ve)&&!B||!r||!_||""===ve.trim()||ue;if(!Ze){const t=Object(Q.b)(Se);switch(Te){case z.D.MARKET:case z.D.LIMIT:Ze=!N;break;case z.D.STOP_LIMIT:Ze=!N||""===Ie.trim()||t.lte(0);break;case z.D.TAKE_PROFIT_LIMIT:Ze=!N||""===ke.trim()||t.lte(0);break;case z.D.TRAILING_STOP:Ze=""===je.trim();break;case z.D.STOP_MARKET:case z.D.TAKE_PROFIT_MARKET:Ze=!N}}return l.a.createElement("div",{className:g()(ee,{[te]:se})},se&&l.a.createElement("div",{className:re},de({key:H.a.DETAILS}),l.a.createElement(I.b,{iconUsesStroke:!0,icon:l.a.createElement(v.q,null),onClick:()=>ce(!1)})),l.a.createElement(R.a,{receiptOnTop:!0,receiptConfig:(()=>{let t;const r=Object(Q.d)(Me);""!==ve&&N&&(t=Object(Q.b)(ve).times(N));let i=[{label:l.a.createElement(A.a,{tooltip:"fee",left:-38,bottom:12},de({key:H.a.FEE}),l.a.createElement(k.a,{marginLeft:!0,regularFont:!0,darkText:!0},de({key:a===z.g.MAKER?H.a.MAKER:H.a.TAKER})),p&&l.a.createElement(k.a,{marginLeft:!0,regularFont:!0,darkText:!0},de({key:H.a.REFERRER_PERCENT_OFF,params:{DISCOUNT:Object(Q.b)(1).minus(Object(Q.b)(p)).times(100)}}))),value:d?l.a.createElement(y.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:d.toFixed(Math.max(V.h,r))}):"-"},{label:de({key:H.a.TOTAL}),value:t?l.a.createElement(y.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:t.toFixed(Math.max(V.h,r))}):"-"}];if(se&&i.unshift({key:"fee",label:de({key:H.a.FEE_PERCENT}),value:c?Object(Q.b)(c).times(100).toFixed(V.e)+"%":"-"}),Te===z.D.MARKET){if(i=[{key:"expected-price",label:l.a.createElement(A.a,{tooltip:"expected-price",left:-38,bottom:12},de({key:H.a.EXPECTED_PRICE})),value:N?l.a.createElement(y.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:N.toFixed(Math.max(V.h,r))}):"-"},{key:"price-impact",label:l.a.createElement(A.a,{tooltip:"price-impact",left:-38,bottom:12},de({key:H.a.PRICE_IMPACT})),value:D?l.a.createElement(y.a,{className:g()({[ae]:D.gt(z.p)}),thousandSeparator:!0,displayType:"text",suffix:"%",value:D.times(100).toFixed(V.d,b.a.ROUND_UP)}):"-"},...i],(null===De||void 0===De?void 0:De.length)>0){const t=null===De||void 0===De?void 0:De.map((t,a)=>{const i=t.triggerPrice,c=t.selectedTradeType,d=c===z.D.STOP_MARKET?"SL":"TP",u=0===a?{left:-38}:{right:-12},m=c===z.D.STOP_MARKET?"bracket-sl":"bracket-tp";return l.a.createElement("div",{key:d},l.a.createElement(A.a,{tooltip:m,left:null===u||void 0===u?void 0:u.left,right:null===u||void 0===u?void 0:u.right,bottom:12},l.a.createElement(ne.BracketOrderItem,null,l.a.createElement(k.a,null,d),l.a.createElement(y.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(Q.b)(i).toFixed(null!==r&&void 0!==r?r:V.h)}))))});i.unshift({key:"bracket-order-triggers",label:l.a.createElement(ne.Row,null,t),fullWidth:!0})}}else Te===z.D.TRAILING_STOP&&(i=[{key:"initial-stop",label:l.a.createElement(l.a.Fragment,null,l.a.createElement(A.a,{tooltip:"initial-stop",left:-38,bottom:12},de({key:H.a.INITIAL_STOP}))),value:""!==je?l.a.createElement(y.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Be.toString()}):"-"},...i]);return i})()},l.a.createElement(S.a,{fullWidth:!0,color:B||he===Y.a.SELL?S.b.Red:S.b.Green,disabled:Ze,isLoading:ge,onClick:He,size:S.d.Large},qe)))},ne={};ne.BracketOrderItem=_.c.div`
  display: flex;
  gap: 8px;
`,ne.Row=_.c.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  position: relative;
  padding: 4px 0 10px;

  &::after {
    content: '';
    position: absolute;
    left: -12px;
    right: -12px;
    bottom: 0;
    border-bottom: 1px solid var(--color-border-grey);
  }
`,PlaceOrderButtonAndReceipt.propTypes={account:d.a.object,areKeyPairsValid:d.a.bool.isRequired,currentFeeData:d.a.object.isRequired,currentMarketConfig:d.a.object.isRequired,currentMarketData:d.a.object,currentMarketOrderPriceData:d.a.object,currentOrderPrice:d.a.object,currentOrderPriceImpact:d.a.object,currentPosition:d.a.object,currentTradeData:d.a.object.isRequired,derivedAccountData:d.a.object,handleErrorOnPlaceOrder:d.a.func.isRequired,handleOrderPlaced:d.a.func,isClosePosition:d.a.bool,isUserGeoBlocked:d.a.bool,saveUserTradeOptionsOnOrderPlaced:d.a.func,setDefaultLastEditedAmountInput:d.a.func,setShowExpandedReceipt:d.a.func.isRequired,showExpandedReceipt:d.a.bool.isRequired,stringGetter:d.a.func.isRequired,tradeHasError:d.a.bool,user:d.a.object,userRestrictions:d.a.object};var ie=Object(T.c)(Object(u.c)(t=>({account:Object(N.a)(t),areKeyPairsValid:Object(B.a)(t),currentFeeData:Object(U.d)(t),currentMarketConfig:Object(L.b)(t),currentMarketData:Object(L.c)(t),currentMarketOrderPriceData:Object(U.a)(t),currentOrderPrice:Object(U.c)(t),currentOrderPriceImpact:Object(U.b)(t),currentPosition:Object(C.b)(t),currentTradeData:Object(w.a)(t),derivedAccountData:Object(G.a)(t),isUserGeoBlocked:Object(D.a)(t),user:Object(M.g)(t),userRestrictions:Object(M.q)(t)}))(PlaceOrderButtonAndReceipt))},1803:function(t,r,a){"use strict";a.d(r,"a",(function(){return L}));var i=a(27),l=a.n(i),c=a(0),d=a.n(c),u=a(2),m=a.n(u),p=a(66),b=a(91),y=a(9),O=a(15),g=a(17),E=a(282),_=a(95),h=a(373),T=a(127),v=a(1736),S=a(243),I=a(1),k=a(69),j=a(23),R=a(20),A=a(76),P=a(8),x=a(470),N=a(374);const OrderRow=({data:{expiresAtDT:t,filledAmount:r,id:a,isCanceledOrder:i,isFilledOrder:c,isPendingOrder:u,isStopOrder:m,market:y,price:g,showGoodTil:_,side:L,size:C,status:w,trailingPercent:M,triggerPrice:U,type:G},allMarketsData:K,awaitedCancellations:B,clearOrder:z,columns:W,currentMarketData:H,displayCard:q,isTablet:Y,onCancelOrder:V,openSidebarModal:Z,selectedLocale:$,stringGetter:X,tableConfig:Q})=>{const J=(H||K[y]).tickSize,ee=k.c[y],te=ee.baseSymbol,re=ee.baseSymbolName,ae=Object(P.b)(J).decimalPlaces(),ne=Object(N.c)({dateTime:t,stringGetter:X}),ie=ne.timeString,oe=ne.unitString,le=ne.hasExpirationWarning,ce=Object(x.b)({status:w,filledAmount:r});let se,de="";switch(G){case R.e.MARKET:de=X({key:I.a.MARKET_ORDER_SHORT});break;case R.e.LIMIT:de=X({key:I.a.LIMIT_ORDER_SHORT});break;case R.e.STOP_LIMIT:de=X({key:I.a.STOP_ORDER_SHORT}),se=X({key:I.a.LIMIT_ORDER_SHORT});break;case R.e.STOP_MARKET:de=X({key:I.a.STOP_ORDER_SHORT}),se=X({key:I.a.MARKET_ORDER_SHORT});break;case R.e.TAKE_PROFIT:Y?de=X({key:I.a.TAKE_PROFIT}):(de=X({key:I.a.STOP_ORDER_SHORT}),se=X({key:I.a.TAKE_PROFIT_LIMIT_SHORT}));break;case R.e.TAKE_PROFIT_MARKET:Y?de=X({key:I.a.MARKET_PROFIT}):(de=X({key:I.a.STOP_ORDER_SHORT}),se=X({key:I.a.MARKET_PROFIT}));break;case R.e.TRAILING_STOP:de=X({key:I.a.STOP_ORDER_SHORT}),se=X({key:I.a.TRAILING_STOP_SHORT})}const ue=G===R.e.TRAILING_STOP,me=[R.e.MARKET,R.e.STOP_MARKET,R.e.TAKE_PROFIT_MARKET,R.e.TRAILING_STOP].includes(G),pe=L===R.a.BUY?X({key:I.a.BUY}):X({key:I.a.SELL}),be=i||c||u,ye=W.map(u=>(({cellType:u})=>{switch(u){case R.d.AMOUNT_FILLED:return d.a.createElement(v.a,{stacked:!0,key:"amount-filled",rightAlign:Y||l()(Q.AMOUNT_FILLED,"rightAlign"),width:l()(Q.AMOUNT_FILLED,"width"),muted:be},d.a.createElement("span",null,d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",value:C.toFixed(A.g)})),d.a.createElement("span",null,d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",value:r.toFixed(A.g)})));case R.d.CANCEL:return d.a.createElement(v.a,{rightAlign:!0,key:"cancel",width:l()(Q.CANCEL,"width")},!i&&B.has(a)?d.a.createElement("div",{onClick:t=>t.stopPropagation(),role:"button",tabIndex:0},d.a.createElement(h.a,{compact:!0})):d.a.createElement(S.b,{label:X({key:i||c?I.a.CLEAR:I.a.CANCEL_ORDER}),position:S.a.LEFT},d.a.createElement(D.IconButton,{isRed:!i&&!c,iconUsesStroke:!0,icon:d.a.createElement(O.q,null),onClick:t=>{t.stopPropagation(),i||c?z({orderId:a}):V({id:a,market:y,side:L})}})));case R.d.GOOD_TIL:return d.a.createElement(v.a,{regularFont:!0,key:"good-til",width:l()(Q.GOOD_TIL,"width"),muted:be,red:_&&ie&&le},d.a.createElement(S.b,{label:t.setLocale($).toLocaleString(p.DateTime.DATETIME_FULL),position:S.a.LEFT},d.a.createElement("div",null,_&&ie?`${ie}${oe}`:"-")));case R.d.MARKET:return d.a.createElement(D.CellWithIcon,{key:"market",regularFont:!0,width:l()(Q.MARKET,"width"),muted:be},d.a.createElement(E.a,{symbol:te}),d.a.createElement(D.CellTextDiv,{isStacked:!0},d.a.createElement("span",null,re),d.a.createElement("span",null,y)));case R.d.MARKET_DETAILS:return d.a.createElement(D.CellWithIcon,{regularFont:!0,key:"market-details",width:l()(Q.MARKET_DETAILS,"width"),muted:be},d.a.createElement(E.a,{symbol:te}),d.a.createElement(D.CellTextDiv,{isStacked:!0},d.a.createElement(D.ColorTextSpan,{green:L===R.a.BUY,red:L===R.a.SELL},pe),d.a.createElement("span",null,se?`${se} ${de}`:de)));case R.d.PRICE:return d.a.createElement(v.a,{key:"price",width:l()(Q.PRICE,"width"),regularFont:me,muted:be},me?X({key:I.a.MARKET_PRICE_SHORT}):d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:g.toFixed(ae)}));case R.d.PRICE_TRIGGER:return d.a.createElement(v.a,{stacked:!0,rightAlign:!0,key:"price-trigger",width:l()(Q.PRICE_TRIGGER,"width"),muted:be},me?d.a.createElement(D.RegularFontSpan,null,X({key:I.a.MARKET_PRICE_SHORT})):d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:g.toFixed(ae)}),d.a.createElement("span",null,m?d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:U.toFixed(ae)}):"-"));case R.d.SIDE:return d.a.createElement(v.a,{key:"side",width:l()(Q.SIDE,"width"),muted:be},d.a.createElement(T.a,{regularFont:!0,large:!0,green:L===R.a.BUY,red:L===R.a.SELL},pe));case R.d.STATUS:return d.a.createElement(D.CellWithIcon,{regularFont:!0,key:"status",width:l()(Q.STATUS,"width"),muted:be},d.a.createElement(D.HoverContent,null,d.a.createElement(ce,null)),d.a.createElement(D.CellTextSpan,{isStacked:!!se},d.a.createElement("span",null,de),se&&d.a.createElement("span",null,se)));case R.d.STATUS_DETAILS:return d.a.createElement(D.StatusCell,{regularFont:!0,key:"status-details",width:l()(Q.STATUS_DETAILS,"width"),muted:be},d.a.createElement(ce,null),d.a.createElement(D.OrderType,null,d.a.createElement(D.ColorTextSpan,{green:L===R.a.BUY,red:L===R.a.SELL},pe),d.a.createElement("span",null,se?`${se} ${de}`:de)));case R.d.TRIGGER:return d.a.createElement(v.a,{key:"trigger",stacked:ue,width:l()(Q.TRIGGER,"width"),muted:be},d.a.createElement("span",null,m?d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:U.toFixed(ae)}):"-"),ue&&d.a.createElement(D.RegularFontSpan,null,X({key:I.a.PERCENT_TRAIL,params:{PERCENT:M.abs().toFixed(A.d)}})));default:return null}})({cellType:u}));return d.a.createElement(v.b,{allowOverflow:!0,cardStyles:q,greenGradient:q&&L===R.a.BUY,redGradient:q&&L===R.a.SELL,key:a,onClick:()=>{Z({modalType:j.b.ORDER_DETAILS,modalProps:{orderId:a}})}},ye)},D={};D.CellWithIcon=Object(y.c)(v.a)`
  display: flex;
  align-items: center;

  &.cardStyles {
    .cellText.stacked {
      @include font-size-14;

      > span:last-child {
        @include font-size-13;
        margin-top: 4px;
      }

      @media ${g.a.tablet} {
        > span:last-child {
          @include font-size-14;
          margin-top: 2px;
        }
      }
    }
  }

  .time {
    width: 28px;
  }
`,D.CellText=y.b`
  margin-left: 10px;

  ${({isStacked:t})=>t&&y.b`
      ${g.e.size13}
      display: flex;
      flex-direction: column;

      > span:last-child {
        ${g.e.size12}
        margin-top: 2px;
        color: var(--color-text-dark);
      }

      @media ${g.a.tablet} {
        ${g.e.size14}

        > span:first-child {
          color: var(--color-text-light);
        }

        > span:last-child {
          ${g.e.size14}
        }
      }
    `}
`,D.CellTextDiv=y.c.div`
  ${D.CellText}
`,D.CellTextSpan=y.c.span`
  ${D.CellText}
`,D.ColorTextSpan=y.c.span`
  ${({green:t})=>t&&y.b`
      && {
        color: var(--color-green);
      }
    `}
  ${({red:t})=>t&&y.b`
      && {
        color: var(--color-red);
      }
    `}
`,D.HoverContent=y.c.div`
  display: flex;
  align-items: center;
`,D.IconButton=Object(y.c)(_.b)`
  ${({isRed:t})=>t&&y.b`
      svg path {
        stroke: var(--color-red);
      }
    `}
`,D.OrderType=y.c.div`
  display: flex;
  flex-direction: column;
  margin-left: 10px;

  @media ${g.a.tablet} {
    margin-left: 12px;

    > span:first-child {
      ${g.e.size15}
    }

    > span:last-child {
      ${g.e.size13}
      color: var(--color-text-dark);
      margin-top: 4px;
    }
  }

  &.stacked {
    ${g.e.size13}

    > span:last-child {
      margin-top: 2px;
      color: var(--color-text-dark);
    }
  }
`,D.RegularFontSpan=y.c.span`
  ${g.f.regularFont}
`,D.StatusCell=Object(y.c)(v.a)`
  display: flex;
  align-items: center;

  &:hover {
    opacity: 1;
  }

  @media ${g.a.tablet} {
    > svg {
      height: 18px;
      width: 18px;
    }
  }
`,OrderRow.propTypes={data:m.a.shape({cancelReason:m.a.string,expiresAtDT:m.a.object,filledAmount:m.a.object,id:m.a.string,isCanceledOrder:m.a.bool,isFilledOrder:m.a.bool,isPendingOrder:m.a.bool,isStopOrder:m.a.bool,market:m.a.string,price:m.a.object,showGoodTil:m.a.bool,side:m.a.string,size:m.a.object,status:m.a.string,trailingPercent:m.a.object,triggerPrice:m.a.object,type:m.a.string}).isRequired,allMarketsData:m.a.object,awaitedCancellations:m.a.object.isRequired,columns:m.a.array.isRequired,clearOrder:m.a.func.isRequired,currentMarketData:m.a.object,displayCard:m.a.bool,isTablet:m.a.bool.isRequired,onCancelOrder:m.a.func.isRequired,openSidebarModal:m.a.func.isRequired,selectedLocale:m.a.string.isRequired,stringGetter:m.a.func.isRequired,tableConfig:m.a.object.isRequired};var L=OrderRow},1810:function(t,r,a){"use strict";a.d(r,"a",(function(){return getNextFundingRateString}));var i=a(66),l=a(94),c=a.n(l),d=a(8);const getNextFundingRateString=({currentTimestamp:t})=>{const r=i.DateTime.fromISO(t),a=i.DateTime.fromISO(t).plus({hours:1}).set({minutes:0,seconds:0,milliseconds:0}).diff(r,["minutes","seconds"]),l=a.minutes,u=a.seconds;return`${Object(d.b)(l).toFormat(0,{prefix:l<10?"0":""})}:${Object(d.b)(u).toFormat(0,c.a.ROUND_DOWN,{prefix:u<10?"0":""})}`}},1835:function(t,r,a){"use strict";var i=a(60),l=a.n(i),c=a(0),d=a.n(c),u=a(2),m=a.n(u),p=a(10),b=a(91),y=a(94),O=a.n(y),g=a(16),E=a.n(g),_=a(32),h=a(68),T=a(1730),v=a(127),S=a(1725),I=a(148),k=a(62),j=a(283),R=a(173),A=a(1749),P=a(593),x=a(1),N=a(102),D=a(13),L=a(76),C=a(8),w=a(175),M="_8WisAcT9l7ZL9IVlI0qUp",U="_2pN-Fe6SJr3OjGMmKlZjgg",G="_12ztGQ_1VDmjXyUaYhaOAE",K="_3EBnyojOLbF4_uJy5qexFZ",B="_3hFn-zZbz3kx5sRbPrrzBn",z="_3HhnU2Nua8sj8B_are46zv",W="_1vY7O-AHkaGrNyBbp07KtV",H="_3n9fSHSYlDt9OmUZKj-5WY",q="_2jo5lulQzOOqsMXlw_oo1",Y="_2TNWDlqzWtauK33bTgYRwu",V="_3Zbh_HxWm4F7pQqw9wxJkB",Z="_2I0rjnJ29v7hpeJZVuwDEI",$="_1RjU47JFU2GA-bI-u0qOqK",X="_2T0h3bhbNECC9ZfEccDhH7",Q="_1eqo-p6VNbkeLD0A1tgIe8",J="_3fy58REexdC1zDQAW-8Jf1",ee="_1igeEYKxFBmBpCcLU81WLD",te="_3N6H99Sq1J8D3FNSpInVE3",re="_3HhOkhxZOSmFF1ZtLHnxvH",ae="_1PLQsHliF2kkyiyF-U0t2r",ne="_3v4d1bScw00gjNPNxl93Nv",ie="pZytQsc4iOARak1exsIOK",oe="_3ItBIxcGcjj998HbjaX4EX",le="_2Oqh_BR4O4xK4uQBOLFDlN",ce="i1SHfgMH9dVzTQyt_M47m",se="_10fUqQIohHMQcpIg2aKi2x",de="_2_hYk4osdeLXEN4FCSkdXY",ue="_12llIptPR6NT9dBnL8eRRn",me="GsJqp1YOWfo1LYiCE8dXP",pe="_8ejcsNMSDkxUWZLNQNHfn",be="_3YR4nwb5gFqJk76IpOIk2C",ye="xwJWe82kGORlZTtfDogCF",fe=a(1772);const PositionMainFields=({account:t,currentMarketConfig:r,currentMarketData:a,currentMarketLiquidationPrice:i,currentMarketPosition:c,currentMarketUnrealizedData:u,derivedAccountData:m,newPositionData:y,stringGetter:g})=>{const _=Object(h.b)().isTablet,I=Object(p.f)(R.a,p.d),k=(r||{}).baseSymbol,j=(c||{}).status,A=a||{},P=A.oraclePrice,Oe=A.tickSize,ge=u||{},Ee=ge.unrealizedPnl,_e=ge.unrealizedPnlPercent,he=(m||{}).equity,Te=I||{},ve=Te.reduceOnlyChecked,Se=Te.selectedTradeType,Ie=Object(C.d)(Oe),ke=y||{},je=ke.newLeverage,Re=ke.newLiquidationPrice,Ae=ke.newPositionSize,Pe=ke.newPositionSide,xe=l()([N.b.CLOSED,N.b.LIQUIDATED],j);let Ne,De,Le,Ce;j&&!xe&&(Ne=c.side,De=c.size,Le=c.realizedPnl),he&&De&&P&&(Ce=Object(w.c)({accountEquity:he,positionSize:De,oraclePrice:P}));const we=Object(w.a)({account:t,marketData:a,positionSize:Ae}),Me=C.a.ONE.div(we),Fe=!Ce||je&&je.gt(Ce),Ue=Pe&&Ne!==Pe,Ge=je&&(!je.isFinite()||je.gt(Me)),Ke=Re&&Re.gt(i),Be=ve&&Ue&&!D.s.includes(Se),ze=Ae&&Ae.eq(0)||Be,We=(!Ae||Be?C.a.ZERO:Ae).abs().toFixed(L.g);let He,qe,Ye;Ae&&(He=ze?"-":je&&je.gt(0)&&je.isFinite()?je.toFixed(L.c,O.a.ROUND_UP)+"\xd7":"-"),qe=Ne?Ne===N.a.LONG?d.a.createElement(v.a,{regularFont:!0,large:!0,green:!0,className:pe},g({key:x.a.LONG_POSITION_SHORT})):d.a.createElement(v.a,{regularFont:!0,large:!0,red:!0,className:pe},g({key:x.a.SHORT_POSITION_SHORT})):d.a.createElement(v.a,{large:!0,regularFont:!0,backgroundLight:!0,className:pe},g({key:x.a.NONE})),Ae&&(ze?Ye=d.a.createElement(v.a,{regularFont:!0,large:!0,backgroundLight:!0,className:pe},g({key:x.a.NONE})):Ne&&Ne!==N.a.LONG||Pe!==N.a.SHORT?Ne&&Ne!==N.a.SHORT||Pe!==N.a.LONG||(Ye=d.a.createElement(v.a,{regularFont:!0,large:!0,green:!0,className:pe},g({key:x.a.LONG_POSITION_SHORT}))):Ye=d.a.createElement(v.a,{regularFont:!0,large:!0,red:!0,className:pe},g({key:x.a.SHORT_POSITION_SHORT})));const Ve=Object(C.b)(Le);let Ze="GRAY";return He&&(Ge&&!Be?Ze="RED":ze?Ze="GREEN":Ue?Ze="GRAY":(i&&Ne===N.a.LONG?!Ke:Ke)?Ze="GREEN":i&&(ze||Ne!==N.a.LONG?Ke:!Ke)||(Ze="RED")),d.a.createElement("div",{className:M},d.a.createElement("div",{className:fe.a.mobileSectionHeader},g({key:x.a.STATUS})),d.a.createElement("div",{className:U},d.a.createElement("div",{className:G},d.a.createElement("div",{className:E()(K,{[B]:Ne===N.a.LONG,[z]:Ne===N.a.SHORT,[W]:Ae&&Ne===N.a.LONG&&Ae.lt(0)&&!Be,[H]:Ae&&Ne===N.a.SHORT&&Ae.gt(0)&&!Be,[q]:Ae&&!Ne&&Ae.lt(0),[Y]:Ae&&!Ne&&Ae.gt(0)})},d.a.createElement("div",{className:E()(V,{[Z]:!Ne&&!Ae})},qe,Ye&&d.a.createElement("span",null,d.a.createElement(T.a,{className:$,pointRight:!0,gray:!0}),Ye)),d.a.createElement("div",{className:X},d.a.createElement("div",{className:Q},d.a.createElement("div",{className:E()(J,{[ee]:Ae})},(De||Ae)&&d.a.createElement(d.a.Fragment,null,De?d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",value:Object(C.b)(De).abs().toFixed(L.g)}):"-",!Ae&&d.a.createElement(v.a,{marginLeft:!0,backgroundLight:!0},k))),Ae&&d.a.createElement("div",{className:re},d.a.createElement(T.a,{pointRight:!0,gray:!0,className:te}),d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",value:We}),d.a.createElement(v.a,{marginLeft:!0,backgroundLight:!0},k))),!Ae&&d.a.createElement("div",{className:ae},De&&P&&d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(C.b)(De).abs().times(P).toFixed(Ie)}))))),d.a.createElement("div",{className:E()(ne,ie)},d.a.createElement("div",{className:oe},d.a.createElement("div",{className:le},d.a.createElement(S.a,{tooltip:"leverage",right:_?void 0:-286,top:_?18:-36,left:_?-172:void 0},g({key:x.a.LEVERAGE}))),d.a.createElement("div",{className:E()(ce,se)},d.a.createElement("div",{className:E()(ue,{[ee]:je})},Ce?Ce.toFixed(L.c,O.a.ROUND_UP)+"\xd7":"-"),He&&d.a.createElement("div",{className:de},d.a.createElement(T.a,{pointRight:!0,green:!Ge&&!Fe||Be,red:(Ge||Fe)&&!Be,marginRight:!0}),d.a.createElement("span",{className:E()({[ye]:Ge&&!Be})},He)))),d.a.createElement("div",{className:oe},d.a.createElement("div",{className:le},d.a.createElement(S.a,{tooltip:"liquidation-price",stringParams:{SYMBOL:k},right:_?void 0:-286,top:_?18:-48,left:_?-172:void 0},g({key:x.a.LIQUIDATION_PRICE}))),d.a.createElement("div",{className:ce},d.a.createElement("div",{className:E()(ue,me,{[ee]:je})},i&&!Be?d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:i.toFixed(Ie||L.h)}):"-"),He&&d.a.createElement("div",{className:de},d.a.createElement(T.a,{pointRight:!0,green:"GREEN"===Ze,red:"RED"===Ze,gray:"GRAY"===Ze,marginRight:!0}),d.a.createElement("span",{className:E()({[ye]:Ge&&!Be})},!Re||Re.lte(0)||Be?"-":d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Re.toFixed(Ie||L.h)}))))))),d.a.createElement("div",{className:fe.a.mobileSectionHeader},g({key:x.a.PROFIT_AND_LOSS})),d.a.createElement("div",{className:ne},d.a.createElement("div",{className:oe},d.a.createElement("div",{className:le},d.a.createElement(S.a,{tooltip:"unrealized-pnl",top:_?18:void 0,right:_?void 0:-286,left:_?-44:void 0,bottom:_?void 0:-48},g({key:x.a.UNREALIZED_PNL}))),d.a.createElement("div",{className:E()(ce,{[be]:Ee&&Ee.gt(0),[ye]:Ee&&Ee.lt(0)})},Ee?d.a.createElement("span",null,d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Ee.toFixed(L.h,O.a.ROUND_UP)})," (",d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"",suffix:"%",value:_e.times(100).toFixed(L.d,O.a.ROUND_UP)}),")"):"-")),d.a.createElement("div",{className:oe},d.a.createElement("div",{className:le},d.a.createElement(S.a,{tooltip:"realized-pnl",top:_?18:void 0,right:_?void 0:-286,left:_?-148:void 0,bottom:_?void 0:-48},g({key:x.a.REALIZED_PNL}))),d.a.createElement("div",{className:E()(ce,{[be]:Ve.gt(0),[ye]:Ve.lt(0)})},Le&&!Ve.isZero()?d.a.createElement(b.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Ve.toFixed(L.h,Ve.lt(0)?O.a.ROUND_FLOOR:O.a.ROUND_CEIL)}):"-"))))};PositionMainFields.propTypes={account:m.a.object,currentMarketConfig:m.a.object,currentMarketData:m.a.object,currentMarketLiquidationPrice:m.a.object,currentMarketPosition:m.a.object,currentMarketUnrealizedData:m.a.object,derivedAccountData:m.a.object,newPositionData:m.a.object,stringGetter:m.a.func.isRequired};r.a=Object(_.c)(Object(p.c)(t=>({account:Object(I.a)(t),currentMarketConfig:Object(k.b)(t),currentMarketData:Object(k.c)(t),currentMarketLiquidationPrice:Object(A.a)(t),currentMarketPosition:Object(j.b)(t),currentMarketUnrealizedData:Object(A.b)(t),derivedAccountData:Object(P.a)(t),newPositionData:Object(A.d)(t)}))(PositionMainFields))},1881:function(t,r,a){"use strict";var i=a(599),l=a.n(i),c=a(153),d=a.n(c),u=a(0),m=a.n(u),p=a(2),b=a.n(p),y=a(10),O=a(61),g=a(9),E=a(16),_=a.n(E),h=a(4),T=a(32),v=a(68),S=a(15),I=a(17),k=a(36),j=a(1728),R=a(1758),A=a(371),P=a(1724),x=a(190),N=a(1802),D=a(127),L=a(598),C=a(284),w=a(1725),M=a(226),U=a(55),G=a(148),K=a(173),B=a(62),z=a(326),W=a(283),H=a(595),q=a(56),Y=a(37),V=a(593),Z=a(1749),$=a(466),X=a(75),Q=a(1),J=a(76),ee=a(13),te=a(77),re=a(30),ae=a(24),ne=a(42),ie=a(8),oe=a(467),le=a(378),ce=a.n(le),se=a(602),de=a(1727),ue={advancedTradeOptions:"_2nG4h028scnKyzKSL5EUUy",header:"_3rLaWcFqDuqsY0MPFZZrd0",isMenuOpen:"_1SuLmrli-RvL3vmK0zELYn",collapsibleMenu:"_11ekRyMnvFyInTKBh8U5Tp",menuContent:"_2Xvh3vdqluhh5OE_df1B2a",goodTilInputs:"_2-MqgNX6-xgMlhtwQSwTA0",checkbox:"_1dt72nUaO4Tt2F_4Dr1ZW1",tooltipHelpIcon:"_3cf5i-YafZelRr28ZQ2WSG"};const me={};me.GoodTilInputs=g.c.div`
  display: flex;
  justify-content: space-between;
  padding-bottom: 16px;

  > * {
    flex: 0 0 calc(50% - 5px);
  }
`;var trade_box_GoodTilTimePicker=({isTimescaleMenuOpen:t,setIsTimescaleMenuOpen:r,stringGetter:a})=>{const i=Object(y.e)(),l=Object(y.f)(K.a,y.d)||{},c=l.goodTilTimeInput,d=l.goodTilTimeTimescale;return m.a.createElement(C.a,{indented:!0,noMargin:!0,label:a({key:Q.a.GOOD_TIL_TIME})},m.a.createElement(me.GoodTilInputs,null,m.a.createElement(A.c,{backgroundDark:!0,value:c,placeholder:"30",onChange:t=>{i(Object(M.a)({goodTilTimeInput:Number(t)>ee.h?ee.h.toString():t}))}}),m.a.createElement(de.a,{isMenuOpen:t,setIsMenuOpen:r,selectedItemKey:d,onChangeSelection:t=>i(Object(M.a)({goodTilTimeTimescale:t})),dropdownMenuItems:Object.values(ee.i).map(t=>({key:t,label:a({key:ee.j[t]})}))})))};function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const pe={[ee.D.MARKET]:{reduceOnlyCheckbox:!0},[ee.D.LIMIT]:{timeInForceSelector:!0,executionInputs:{postOnlyCheckbox:!0,reduceOnlyCheckbox:!0}},[ee.D.STOP_LIMIT]:{goodTilTimePicker:!0,executionInputs:{defaultExecution:ee.t.DEFAULT,executionDropdown:[ee.t.DEFAULT,ee.t.FILL_OR_KILL,ee.t.IMMEDIATE_OR_CANCEL,ee.t.POST_ONLY],reduceOnlyCheckbox:!0}},[ee.D.STOP_MARKET]:{goodTilTimePicker:!0,executionInputs:{defaultExecution:ee.t.IMMEDIATE_OR_CANCEL,executionDropdown:[ee.t.FILL_OR_KILL,ee.t.IMMEDIATE_OR_CANCEL],reduceOnlyCheckbox:!0}},[ee.D.TRAILING_STOP]:{goodTilTimePicker:!0,executionInputs:{defaultExecution:ee.t.IMMEDIATE_OR_CANCEL,executionDropdown:[ee.t.FILL_OR_KILL,ee.t.IMMEDIATE_OR_CANCEL],reduceOnlyCheckbox:!0}},[ee.D.TAKE_PROFIT_LIMIT]:{goodTilTimePicker:!0,executionInputs:{defaultExecution:ee.t.DEFAULT,executionDropdown:[ee.t.DEFAULT,ee.t.FILL_OR_KILL,ee.t.IMMEDIATE_OR_CANCEL,ee.t.POST_ONLY],reduceOnlyCheckbox:!0}},[ee.D.TAKE_PROFIT_MARKET]:{goodTilTimePicker:!0,executionInputs:{defaultExecution:ee.t.IMMEDIATE_OR_CANCEL,executionDropdown:[ee.t.FILL_OR_KILL,ee.t.IMMEDIATE_OR_CANCEL],reduceOnlyCheckbox:!0}},BRACKET_ORDER:{goodTilTimePicker:!0,executionInputs:{defaultExecution:ee.t.IMMEDIATE_OR_CANCEL,executionDropdown:[ee.t.FILL_OR_KILL,ee.t.IMMEDIATE_OR_CANCEL]}}},AdvancedTradeOptions=({isBracketOrder:t,scrollToDisplayModal:r=null,stringGetter:a})=>{const i=_slicedToArray(Object(u.useState)(!1),2),l=i[0],c=i[1],d=_slicedToArray(Object(u.useState)(!1),2),p=d[0],b=d[1],O=_slicedToArray(Object(u.useState)(!1),2),g=O[0],E=O[1],h=_slicedToArray(Object(u.useState)(!1),2),T=h[0],I=h[1],k=_slicedToArray(Object(u.useState)(ee.t.DEFAULT),2),j=k[0],R=k[1],P=_slicedToArray(Object(u.useState)(ee.t.FILL_OR_KILL),2),x=P[0],N=P[1],D=Object(y.e)(),L=Object(y.f)(K.a,y.d),U=Object(v.b)().isTablet,G=L.selectedTradeType,B=L.selectedTimeInForceOption,z=L.goodTilTimeInput,W=L.goodTilTimeTimescale,H=L.postOnlyChecked,q=L.reduceOnlyChecked,Y=L.bracketOrderTimeInForceOption,V=ee.v[j];Object(u.useEffect)(()=>{H&&B===ee.C.GTT?R(ee.t.POST_ONLY):B===ee.C.FOK?R(ee.t.FILL_OR_KILL):B===ee.C.IOC?R(ee.t.IMMEDIATE_OR_CANCEL):R(ee.t.DEFAULT)},[B,H]),Object(u.useEffect)(()=>{t&&(Y===ee.C.FOK?N(ee.t.FILL_OR_KILL):Y===ee.C.IOC&&N(ee.t.IMMEDIATE_OR_CANCEL))},[Y]);const Z=pe[t?"BRACKET_ORDER":G],$=null===Z||void 0===Z?void 0:Z.executionInputs;if(!Z)return null;const X=m.a.createElement(m.a.Fragment,null,m.a.createElement(C.a,{base:!0,indented:!0,label:m.a.createElement(w.a,{tooltip:"time-in-force",top:10,left:-42},a({key:Q.a.TIME_IN_FORCE}))},m.a.createElement(de.a,{isMenuOpen:p,setIsMenuOpen:b,selectedItemKey:B,onChangeSelection:t=>D(Object(M.a)({postOnlyChecked:t===ee.C.GOOD_TIL_TIME&&H,selectedTimeInForceOption:t})),dropdownMenuItems:Object.values(ee.C).map(t=>({key:t,label:a({key:ee.B[t]})}))})),B===ee.C.GTT&&m.a.createElement("div",{className:ue.goodTilInputs},m.a.createElement(A.c,{backgroundDark:!0,value:z,placeholder:"30",onChange:t=>{D(Object(M.a)({goodTilTimeInput:Number(t)>ee.h?ee.h.toString():t}))}}),m.a.createElement(de.a,{isMenuOpen:g,setIsMenuOpen:E,selectedItemKey:W,onChangeSelection:t=>D(Object(M.a)({goodTilTimeTimescale:t})),dropdownMenuItems:Object.values(ee.i).map(t=>({key:t,label:a({key:ee.j[t]})}))}))),J=m.a.createElement(C.a,{indented:!0,noMargin:!0,label:a({key:Q.a.EXECUTION})},(null===$||void 0===$?void 0:$.executionDropdown)&&(({executionTypes:r,defaultExecutionType:i}={})=>m.a.createElement(be.ExecutionDropdown,{className:ue.executionDropdownContainer,isDefault:j===i},m.a.createElement(de.a,{isMenuOpen:T,setIsMenuOpen:I,selectedItemKey:t?x:j,onChangeSelection:r=>(({executionType:r})=>{let a=ee.C.GTT,i=!1;r===ee.t.FILL_OR_KILL?a=ee.C.FOK:r===ee.t.POST_ONLY?i=!0:r===ee.t.IMMEDIATE_OR_CANCEL?a=ee.C.IOC:r===ee.t.DEFAULT&&(a=ee.C.GTT),D(t?Object(M.a)({bracketOrderTimeInForceOption:a}):Object(M.a)({selectedTimeInForceOption:a,postOnlyChecked:i}))})({executionType:r}),dropdownMenuItems:Object.values(r).map(t=>({key:t,label:a({key:ee.u[t]})}))}),V&&m.a.createElement(w.a,{className:ue.tooltipHelpIcon,tooltip:V,top:U?34:22,right:0},m.a.createElement(S.O,null))))({executionTypes:$.executionDropdown,defaultExecutionType:$.defaultExecution}),(null===$||void 0===$?void 0:$.postOnlyCheckbox)&&B===ee.C.GTT&&m.a.createElement(se.a,{className:ue.checkbox,label:m.a.createElement(m.a.Fragment,null,a({key:Q.a.POST_ONLY}),m.a.createElement("span",{role:"button",tabIndex:0,onClick:t=>t.stopPropagation()},m.a.createElement(w.a,{className:ue.tooltipHelpIcon,tooltip:"post-only",top:12,left:-148},m.a.createElement(S.O,null)))),checked:H,onClick:()=>{G===ee.D.STOP_LIMIT?D(Object(M.a)({postOnlyChecked:!H,selectedTimeInForceOption:H?B:ee.C.GTT})):D(Object(M.a)({postOnlyChecked:!H}))}}),(null===$||void 0===$?void 0:$.reduceOnlyCheckbox)&&m.a.createElement(se.a,{className:ue.checkbox,label:m.a.createElement(m.a.Fragment,null,a({key:Q.a.REDUCE_ONLY}),m.a.createElement("span",{role:"button",tabIndex:0,onClick:t=>t.stopPropagation()},m.a.createElement(w.a,{hasReact:!0,className:ue.tooltipHelpIcon,tooltip:"reduce-only",top:12,left:-148},m.a.createElement(S.O,null)))),checked:q,onClick:()=>{D(Object(M.a)({reduceOnlyChecked:!q}))}}));return m.a.createElement("div",{role:"button",tabIndex:0,className:ue.advancedTradeOptions},m.a.createElement("div",{role:"button",tabIndex:0,className:_()(ue.header,{[ue.isMenuOpen]:l}),onClick:()=>c(!l)},a({key:Q.a.ADVANCED}),m.a.createElement(S.m,null)),m.a.createElement("div",{className:ue.collapsibleMenu},m.a.createElement(ce.a,{onRest:r,isOpened:l},Z.goodTilTimePicker&&m.a.createElement(trade_box_GoodTilTimePicker,{isTimescaleMenuOpen:g,setIsTimescaleMenuOpen:E,stringGetter:a}),Z.timeInForceSelector&&X,$&&J,Z.reduceOnlyCheckbox&&m.a.createElement(se.a,{className:ue.checkbox,label:m.a.createElement(m.a.Fragment,null,a({key:Q.a.REDUCE_ONLY}),m.a.createElement("span",{role:"button",tabIndex:0,onClick:t=>t.stopPropagation()},m.a.createElement(w.a,{hasReact:!0,className:ue.tooltipHelpIcon,tooltip:"reduce-only",top:12,left:-148},m.a.createElement(S.O,null)))),checked:q,onClick:()=>{D(Object(M.a)({reduceOnlyChecked:!q}))}}))))},be={};be.ExecutionDropdown=g.c.div`
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px;
  padding-bottom: 12px;
`,AdvancedTradeOptions.propTypes={isBracketOrder:b.a.bool,scrollToDisplayModal:b.a.func,stringGetter:b.a.func.isRequired};var ye=Object(T.c)(AdvancedTradeOptions),fe=a(99),Oe=a.n(fe),ge=a(95),Ee=a(1751),_e=a(83),he=a(20),Te=a(91),ve=a(1729);function AddTriggerButtonAndReceipt_slicedToArray(t,r){return function AddTriggerButtonAndReceipt_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function AddTriggerButtonAndReceipt_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function AddTriggerButtonAndReceipt_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return AddTriggerButtonAndReceipt_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return AddTriggerButtonAndReceipt_arrayLikeToArray(t,r)}(t,r)||function AddTriggerButtonAndReceipt_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AddTriggerButtonAndReceipt_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var Se,BracketOrderOptions_AddTriggerButtonAndReceipt=({calculatedItems:t,closeBracketOrderOptions:r,hasBracketOrders:a,hasError:i,stringGetter:l,userInputItems:c})=>{const d=AddTriggerButtonAndReceipt_slicedToArray(Object(u.useState)(!1),2),p=d[0],b=d[1],O=t.currentOrderPrice,g=t.indexPrice,E=t.riskReward,_=t.stopLossPnl,h=t.takeProfitPnl,T=t.tickSizeDecimals,v=c.stopLossOptions,S=c.takeProfitOptions,I=i||!v.triggerPrice&&!S.triggerPrice&&!a,j=Object(y.e)(),R=[{key:"expected-price",label:m.a.createElement(L.a,{color:"dark"},l({key:Q.a.EXPECTED_PRICE})),value:O?m.a.createElement(Te.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:O.toFixed(Math.max(J.h,T))}):"-"},{key:"stop-loss-pnl",label:m.a.createElement(L.a,null,l({key:Q.a.STOP_LOSS})," ",m.a.createElement(L.a,{color:"dark"},"P&L")),value:_?m.a.createElement(L.a,{nowrap:!0,color:"light"},m.a.createElement(L.a,{color:"red"},"-")," ",m.a.createElement(Te.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:_})):"-"},{key:"take-profit-pnl",label:m.a.createElement(L.a,null,l({key:Q.a.TAKE_PROFIT})," ",m.a.createElement(L.a,{color:"dark"},"P&L")),value:h?m.a.createElement(L.a,{nowrap:!0,color:"light"},m.a.createElement(L.a,{color:"green"},"+")," ",m.a.createElement(Te.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:h})):"-"},{key:"index-price",label:m.a.createElement(L.a,{color:"dark"},l({key:Q.a.INDEX_PRICE})),value:m.a.createElement(L.a,{color:"light"},m.a.createElement(Te.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(ie.b)(g).toFixed(null!==T&&void 0!==T?T:J.h)}))},{key:"risk-reward",label:m.a.createElement(L.a,{color:"dark"},l({key:Q.a.RISK_REWARD})),value:E?m.a.createElement(L.a,{color:"light"},m.a.createElement(Te.a,{displayType:"text",suffix:"x",value:E})):"-"}];return m.a.createElement(ve.a,{receiptOnTop:!0,receiptConfig:R},m.a.createElement(k.a,{fullWidth:!0,color:k.b.Purple,disabled:I,isLoading:p,onClick:()=>{b(!0);const t=[];Object(ie.b)(v.triggerPrice).isZero()||t.push(v),Object(ie.b)(S.triggerPrice).isZero()||t.push(S),j(Object(M.a)({bracketOrders:t})),r(),setTimeout(()=>b(!1),500)},size:k.d.Large},l({key:a?Q.a.UPDATE_TRIGGERS:Q.a.ADD_TRIGGERS})))};function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function BracketOrderOptions_slicedToArray(t,r){return function BracketOrderOptions_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function BracketOrderOptions_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function BracketOrderOptions_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return BracketOrderOptions_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return BracketOrderOptions_arrayLikeToArray(t,r)}(t,r)||function BracketOrderOptions_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BracketOrderOptions_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}!function(t){t.ProfitPercent="ProfitPercent",t.ProfitPrice="ProfitPrice",t.StopPercent="StopPercent",t.StopPrice="StopPrice"}(Se||(Se={}));const Ie={};Ie.SubLabel=g.c.label`
  display: grid;
  grid-template-columns: 1fr auto;
  color: var(--color-text-dark);
  margin-left: 4px;
  align-items: center;
  ${I.e.size12}
  height: 16px;
  gap: 4px;
  user-select: none;

  @media ${I.a.tablet} {
    ${I.e.size14}
    height: 20px;
  }
`,Ie.LabelWithToggle=g.c.div`
  display: grid;
  grid-template-columns: 1fr auto;
  height: 16px;

  @media ${I.a.tablet} {
    height: 20px;
  }
`,Ie.AddTriggerButtonContainer=g.c.div`
  margin-top: auto;
`,Ie.InputsContainer=g.c.div`
  display: grid;
  grid-template-columns: 1.5fr 1fr;
  gap: 8px;
`,Ie.Header=g.c.div`
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 8px;
  margin: 0 -12px 22px;

  h1 {
    ${I.e.size18}
    color: var(--color-text-light);

    @media ${I.a.tablet} {
      ${I.e.size20}
    }
  }
`,Ie.WithLabel=Object(g.c)(C.a)`
  display: grid;
`,Ie.Description=Object(g.c)(L.a)`
  ${I.e.size13}
  margin-top: 10px;

  @media ${I.a.tablet} {
    ${I.e.size15}
  }
`,Ie.InputPrefix=Object(g.c)(L.a)`
  ${I.e.size15}
  margin-right: 4px;
`,Ie.TagContainer=g.c.div`
  display: grid;
  align-self: center;
  padding-right: 12px;
`,Ie.Container=g.c.div`
  display: none;
  position: relative;
  flex-direction: column;
  justify-content: space-between;
  flex: 1 1 auto;
  padding: 20px 24px;

  ${({showBracketOrderOptions:t})=>t&&g.b`
      display: flex;
    `}
`,Ie.ContainerContainer=g.c.div`
  position: relative;
`,Ie.BackArrow=Object(g.c)(S.c)`
  width: 12px;
  transform: rotate(90deg);

  path {
    stroke: var(--color-text-dark);
  }

  @media ${I.a.tablet} {
    width: 14px;
  }
`;var ke=Object(T.c)(({setShowBracketOrderOptions:t,showBracketOrderOptions:r,stringGetter:a})=>{const i=BracketOrderOptions_slicedToArray(Object(u.useState)({percentTrigger:"",reduceOnlyChecked:!0,selectedTradeType:ee.D.STOP_MARKET,triggerPrice:""}),2),l=i[0],c=i[1],d=BracketOrderOptions_slicedToArray(Object(u.useState)({percentTrigger:"",reduceOnlyChecked:!0,selectedTradeType:ee.D.TAKE_PROFIT_MARKET,triggerPrice:""}),2),p=d[0],b=d[1],O=Object(y.e)(),g=Object(y.f)(B.c,y.d),E=Object(y.f)(z.b,y.d),_=Object(y.f)($.c,y.d),h=Object(y.f)(K.a,y.d),T=Object(y.f)(Z.d,y.d),v=Object(y.f)($.a,y.d),I=h||{},k=I.amountInput,R=I.bracketOrders,P=I.selectedOrderSide,x=I.selectedTradeType,N=g||{},L=N.baseAsset,C=N.indexPrice,w=N.market,U=N.tickSize,G=Object(ie.d)(U),W=null!==_&&void 0!==_?_:C,H=Object(ie.b)(W),q=Object(ie.b)(k),Y=Object(ie.b)(l.triggerPrice).times(q),V=Object(ie.b)(p.triggerPrice).times(q),X=Object(ie.b)(W).times(q),te=Y.isZero()?void 0:Object(ie.b)(X).minus(Y).abs().toFixed(null!==G&&void 0!==G?G:J.h),re=V.isZero()?void 0:V.minus(Object(ie.b)(X)).abs().toFixed(null!==G&&void 0!==G?G:J.h),ae=te&&re&&Object(ie.b)(te).div(Object(ie.b)(re)).toFixed(J.d),closeBracketOrderOptions=()=>t(!1),resetInputs=t=>{switch(t){case Se.ProfitPercent:case Se.ProfitPrice:b(_objectSpread(_objectSpread({},p),{},{percentTrigger:"",triggerPrice:""}));break;case Se.StopPercent:case Se.StopPrice:c(_objectSpread(_objectSpread({},l),{},{percentTrigger:"",triggerPrice:""}));break;default:c(_objectSpread(_objectSpread({},l),{},{percentTrigger:"",triggerPrice:""})),b(_objectSpread(_objectSpread({},p),{},{percentTrigger:"",triggerPrice:""})),O(Object(M.a)({bracketOrders:[]}))}},onChangeInputs=({type:t,value:r})=>{const a=Object(ie.b)(r),i=r.trim();if(""===i)resetInputs(t);else switch(t){case Se.ProfitPercent:{if(P===he.a.SELL&&a.gt(100)&&a.gt(Object(ie.b)(p.percentTrigger)))break;const t=P===he.a.BUY?H.times(ie.a.ONE.plus(a.div(100))).toFixed(null!==G&&void 0!==G?G:J.h):H.times(ie.a.ONE.minus(a.div(100))).toFixed(null!==G&&void 0!==G?G:J.h);b(_objectSpread(_objectSpread({},p),{},{percentTrigger:i,triggerPrice:t}));break}case Se.ProfitPrice:{const t=H.minus(a).isNegative()&&P===he.a.SELL?"":a.minus(H).div(H).times(100).abs().toFixed(J.d);b(_objectSpread(_objectSpread({},p),{},{percentTrigger:t,triggerPrice:i}));break}case Se.StopPercent:{if(P===he.a.BUY&&a.gt(100)&&a.gt(Object(ie.b)(l.percentTrigger)))break;const t=P===he.a.BUY?H.times(ie.a.ONE.minus(a.div(100))).toFixed(null!==G&&void 0!==G?G:J.h):H.times(ie.a.ONE.plus(a.div(100))).toFixed(null!==G&&void 0!==G?G:J.h);c(_objectSpread(_objectSpread({},l),{},{percentTrigger:i,triggerPrice:t}));break}case Se.StopPrice:{const t=H.minus(a).isNegative()&&P===he.a.BUY?"":H.minus(a).div(H).times(100).abs().toFixed(J.d);c(_objectSpread(_objectSpread({},l),{},{percentTrigger:t,triggerPrice:i}));break}}};Object(u.useEffect)(()=>{x!==ee.D.MARKET&&(resetInputs(),closeBracketOrderOptions())},[x]),Object(u.useEffect)(()=>{resetInputs(),closeBracketOrderOptions()},[P,w]);const ne=Object(oe.i)({currentMarketOrders:E,currentMarketOrderPriceData:v,currentOrderPrice:H,currentTradeData:h,market:w,newPositionData:T,stopLossOptions:l,takeProfitOptions:p,tickSizeDecimals:G});let le;const ce={currentOrderPrice:_,indexPrice:C,riskReward:ae,stopLossPnl:te,takeProfitPnl:re,tickSizeDecimals:G},se={stopLossOptions:l,takeProfitOptions:p};ne&&(le=a({key:null===ne||void 0===ne?void 0:ne.stringKey,params:null===ne||void 0===ne?void 0:ne.stringParams}));const de=P===he.a.BUY?Q.a.MARKET_SELL:Q.a.MARKET_BUY,ue=m.a.createElement(Ie.WithLabel,{indented:!0,label:m.a.createElement(Ie.LabelWithToggle,null,m.a.createElement("span",null,a({key:Q.a.STOP_LOSS})),m.a.createElement(Ie.SubLabel,{htmlFor:"stop-loss-reduce"},a({key:Q.a.REDUCE_ONLY}),m.a.createElement(Ee.a,{id:"stop-loss-reduce",noMargin:!0,checked:l.reduceOnlyChecked,onToggle:t=>c(_objectSpread(_objectSpread({},l),{},{reduceOnlyChecked:t})),size:Ee.b.Tiny})))},m.a.createElement(Ie.InputsContainer,null,m.a.createElement(A.c,{innerComponent:m.a.createElement(Ie.TagContainer,null,m.a.createElement(D.a,{marginLeft:!0,compact:!0},_e.a.USDC)),onChange:t=>onChangeInputs({value:t,type:Se.StopPrice}),value:l.triggerPrice,maxDecimals:null!==G&&void 0!==G?G:J.h}),m.a.createElement(A.c,{maxDecimals:J.d,onChange:t=>onChangeInputs({value:t,type:Se.StopPercent}),placeholder:"0.00%",prefix:m.a.createElement(Ie.InputPrefix,{color:"red"},"-"),type:A.b.PERCENT,value:l.percentTrigger})),m.a.createElement(Ie.Description,{color:"dark",dangerouslySetInnerHTML:{__html:a({key:P===he.a.BUY?Q.a.BRACKET_ORDER_LONG_STOP_LOSS_DESCRIPTION:Q.a.BRACKET_ORDER_SHORT_STOP_LOSS_DESCRIPTION,params:{ASSET:L,ACTION:Oe.a.renderToString(m.a.createElement(Ie.Description,null,a({key:de})))}})}})),me=m.a.createElement(Ie.WithLabel,{indented:!0,label:m.a.createElement(Ie.LabelWithToggle,null,m.a.createElement("span",null,a({key:Q.a.TAKE_PROFIT})),m.a.createElement(Ie.SubLabel,{htmlFor:"take-profit-reduce"},a({key:Q.a.REDUCE_ONLY}),m.a.createElement(Ee.a,{id:"take-profit-reduce",noMargin:!0,checked:p.reduceOnlyChecked,onToggle:t=>b(_objectSpread(_objectSpread({},p),{},{reduceOnlyChecked:t})),size:Ee.b.Tiny})))},m.a.createElement(Ie.InputsContainer,null,m.a.createElement(A.c,{innerComponent:m.a.createElement(Ie.TagContainer,null,m.a.createElement(D.a,{marginLeft:!0,compact:!0},_e.a.USDC)),onChange:t=>onChangeInputs({value:t,type:Se.ProfitPrice}),value:p.triggerPrice,maxDecimals:null!==G&&void 0!==G?G:J.h}),m.a.createElement(A.c,{onChange:t=>onChangeInputs({value:t,type:Se.ProfitPercent}),value:p.percentTrigger,maxDecimals:J.d,placeholder:"0.00%",prefix:m.a.createElement(Ie.InputPrefix,{color:"green"},"+"),type:A.b.PERCENT})),m.a.createElement(Ie.Description,{color:"dark",dangerouslySetInnerHTML:{__html:a({key:P===he.a.BUY?Q.a.BRACKET_ORDER_LONG_TAKE_PROFIT_DESCRIPTION:Q.a.BRACKET_ORDER_SHORT_TAKE_PROFIT_DESCRIPTION,params:{ASSET:L,ACTION:Oe.a.renderToString(m.a.createElement(Ie.Description,null,a({key:de})))}})}}));return m.a.createElement(Ie.ContainerContainer,null,m.a.createElement(Ie.Container,{showBracketOrderOptions:r},m.a.createElement("div",null,m.a.createElement(Ie.Header,null,m.a.createElement(ge.b,{icon:m.a.createElement(Ie.BackArrow,null),onClick:closeBracketOrderOptions}),m.a.createElement("h1",null,a({key:Q.a.SET_PRICE_TRIGGERS})),m.a.createElement(ge.b,{icon:m.a.createElement(S.q,null),onClick:closeBracketOrderOptions})),ue,me,m.a.createElement(ye,{isBracketOrder:!0}),m.a.createElement("div",null,le&&m.a.createElement(j.b,{noMarginTop:!0,type:j.a.ERROR},le)),m.a.createElement(Ie.AddTriggerButtonContainer,null,m.a.createElement(BracketOrderOptions_AddTriggerButtonAndReceipt,{calculatedItems:ce,closeBracketOrderOptions:closeBracketOrderOptions,hasBracketOrders:(null===R||void 0===R?void 0:R.length)>0,hasError:!!le,stringGetter:a,userInputItems:se})))))}),je=a(604),Re=a.n(je),Ae=a(94),Pe=a.n(Ae),xe=a(2176),Ne=a(2161),De=a(102),Le="jbyQbfGpUN5w9T_NcRx_s",Ce="_1zQEiJoZgBLWab1A75P_4",we="_3zjQgo3KjXxYSXl3SOliy",Me="_2flxaQJJg1zhjoIauEwo_C",Fe="_3hph_vT_y0GqXqYNv10XsG",Ue="_2Rt5ban3RC-IN0VMPwQohz";function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _objectWithoutProperties(t,r){if(null==t)return{};var a,i,l=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var a,i,l={},c=Object.keys(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||(l[a]=t[a]);return l}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(l[a]=t[a])}return l}const Ge=Object(Ne.a)({root:{"& .MuiSlider-rail":{height:6,background:t=>t.sliderGradient,opacity:1,borderRadius:4}}}),Ke="linear-gradient(90deg, #232334, #39e1a5)",Be="linear-gradient(90deg, #e34145, #232334)",ze="#232334",We="#39e1a5",He="#e34145",LeverageSlider=({currentPositionLeverage:t,currentPositionSide:r,selectedOrderSide:a,leverageAmount:i,maxLeverage:l,setLeverage:c})=>{const d=[];let u,p,b,y;Re()(11,t=>d.push(m.a.createElement("div",{key:t,className:Ue}))),null!==t&&void 0!==t&&t.isZero()?(a===he.a.BUY?(p=ie.a.ZERO,b=l):(p=l.negated(),b=ie.a.ZERO),u=a===he.a.BUY?Ke:Be):(r===De.a.LONG?a===he.a.BUY?(p=t,b=l,u=Ke):(p=l.negated(),b=t,y=Object(ie.b)(100).minus(t.div(t.plus(l)).times(100))):r===De.a.SHORT&&(a===he.a.BUY?(p=t.negated(),b=l,y=t.abs().div(t.abs().plus(l)).times(100)):(p=l.negated(),b=t.negated(),u=Be)),u||(u=`linear-gradient(90deg, ${He} 0%, ${ze} ${y}%, ${We} 100%)`));const O=p.abs().toFixed(p.abs().decimalPlaces(J.c).gte(l)?0:J.c,Pe.a.ROUND_UP),g=b.abs().toFixed(b.decimalPlaces(J.c).gte(l)?0:J.c,Pe.a.ROUND_UP),E=Ge({sliderGradient:u});return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:Le},m.a.createElement(xe.a,{className:E.root,ThumbComponent:t=>{t.className;const r=_objectWithoutProperties(t,["className"]),a=Object(ie.b)(t["aria-valuenow"]);return m.a.createElement("div",_extends({className:Ce},r),a.abs().toFixed(a.abs().decimalPlaces(J.c).gte(l)?0:J.c,Pe.a.ROUND_UP),"\xd7")},track:!1,min:p.toNumber(),max:b.toNumber(),step:.1,value:i.toNumber(),onChange:(t,r)=>{const a=Object(ie.b)(r);a.lt(p)?c({newLeverageAmount:p}):a.gt(b)?c({newLeverageAmount:b}):c({newLeverageAmount:a})}}),m.a.createElement("div",{className:Fe},d)),m.a.createElement("div",{className:we},m.a.createElement("div",{className:Me},O+"\xd7"),m.a.createElement("div",{className:Me},g+"\xd7")))};LeverageSlider.propTypes={currentPositionLeverage:b.a.object.isRequired,currentPositionSide:b.a.string.isRequired,selectedOrderSide:b.a.string.isRequired,leverageAmount:b.a.object.isRequired,maxLeverage:b.a.object.isRequired,setLeverage:b.a.func.isRequired};var qe=Object(T.c)(LeverageSlider),Ye=a(465),Ve=a.n(Ye),Ze="_28dwkSeJPdXXrRWtpXc8E6",$e="_1MjPHfslQ1wJ9Ex0GWhLp5";function LeverageInput_slicedToArray(t,r){return function LeverageInput_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function LeverageInput_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function LeverageInput_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return LeverageInput_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return LeverageInput_arrayLikeToArray(t,r)}(t,r)||function LeverageInput_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LeverageInput_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const LeverageInput=({currentPositionLeverage:t,interactiveTag:r,isEditingInput:a,isPositionLong:i,leverageAmount:l,maxLeverage:c,setIsEditingInput:d,setLeverage:p,storePositionSide:b})=>{const y=LeverageInput_slicedToArray(Object(u.useState)(""),2),O=y[0],g=y[1],E=LeverageInput_slicedToArray(Object(u.useState)(null),2),_=E[0],h=E[1];Object(u.useEffect)(()=>{t&&h(t.abs().toFixed(t.decimalPlaces(J.c).gte(c)?0:J.c,Pe.a.ROUND_UP))},[t]),Object(u.useEffect)(()=>{a&&""!==O&&Ve()(()=>{p({newLeverageAmount:i?Object(ie.b)(O):Object(ie.b)(O).negated()})},500)()},[O,a]),Object(u.useEffect)(()=>{if(!a)if(l.isZero())g("");else{const t=l.abs().toFixed(l.decimalPlaces(J.c).gte(c)?0:J.c,Pe.a.ROUND_UP);O!==t&&(g(t),b(l))}},[l]);const T=null!==c&&void 0!==c&&c.gt(10)?{0:{value:2,label:"2\xd7"},1:{value:5,label:"5\xd7"},2:{value:10,label:"10\xd7"}}:{0:{value:2,label:"2\xd7"},1:{value:3,label:"3\xd7"},2:{value:5,label:"5\xd7"}};return m.a.createElement("div",{className:Ze},m.a.createElement(A.c,{highlightTextOnFocus:!0,innerComponent:r,maxDecimals:J.c,onBlur:()=>{d(!1)},onChange:t=>{g(t)},onFocus:()=>{d(!0)},placeholder:_?_+"\xd7":"0.00\xd7",type:A.b.LEVERAGE,value:O}),Object.entries(T).map(([t,{value:r,label:a}])=>m.a.createElement(k.a,{key:t,className:$e,onClick:()=>{p({newLeverageAmount:i?r:-r})}},a)))};LeverageInput.propTypes={currentPositionLeverage:b.a.object,interactiveTag:b.a.node,isEditingInput:b.a.bool.isRequired,isPositionLong:b.a.bool.isRequired,leverageAmount:b.a.object.isRequired,maxLeverage:b.a.object.isRequired,setIsEditingInput:b.a.func.isRequired,setLeverage:b.a.func.isRequired,storePositionSide:b.a.func.isRequired};var Xe=LeverageInput,Qe=a(327),Je=a(380);const et=a.n(Je)()(({accountEquity:t,currentPositionLeverage:r,currentPositionSide:a,currentPositionSize:i,newLeverageAmount:l,oraclePrice:c,orderbookBuys:d,orderbookSells:u,orderSide:m,setTradeData:p,stepSize:b,user:y})=>{if(y){const O=y.takerFeeRate,g=Object(ie.b)(l),E=g.abs(),_=Object(ie.b)(i).times(c).abs(),h=Object(ie.b)(O),T=a===De.a.LONG?r:r.negated(),v=a===De.a.LONG?g.gt(r):g.lt(Object(ie.b)(r).negated()),S=g.gt(0)&&a===De.a.SHORT||g.lt(0)&&a===De.a.LONG,I=r.isZero();let k,j;k=v?E.times(t).minus(_).div(c):S?E.abs().times(t).plus(_).div(c):Object(ie.b)(i).minus(E.times(t).div(c)),j=a===De.a.LONG?v?he.a.BUY:he.a.SELL:v?he.a.SELL:he.a.BUY,(g.isZero()&&I||g.isEqualTo(T))&&(j=m);const R=Object(oe.c)({amount:Object(ie.g)({number:k,factor:b||0,roundingMode:Pe.a.ROUND_DOWN}).toString(),side:j,orderbookBuys:d,orderbookSells:u}),A=null===R||void 0===R?void 0:R.marketOrderPrice;setTradeDataWithRequiredAmount({accountEquity:t,currentMarketOrderPrice:A,currentPositionSide:a,estimatedRequiredAmount:k,isChangingSides:S,isIncreasingLeverage:v,oraclePrice:c,positionNotional:_,setTradeData:p,selectedOrderSide:j,stepSize:b,targetLeverage:E,takerFeeRateBN:h})}},100),setTradeDataWithRequiredAmount=({accountEquity:t,currentMarketOrderPrice:r,currentPositionSide:a,estimatedRequiredAmount:i,isChangingSides:l,isIncreasingLeverage:c,oraclePrice:d,positionNotional:u,setTradeData:m,stepSize:p,selectedOrderSide:b,targetLeverage:y,takerFeeRateBN:O})=>{let g,E;g=c?a===De.a.LONG?t.times(y).minus(u).div(O.plus(1).times(r).minus(d).times(y).plus(d)):t.times(y).minus(u).div(O.minus(1).times(r).plus(d).times(y).plus(d)):l?t.times(y).plus(u).div(O.minus(1).times(r).plus(d).times(y).plus(d)):t.times(y).minus(u).div(O.minus(1).times(r).plus(d).times(y).minus(d)),E=g.isNaN()?Object(ie.g)({number:i,factor:p||0,roundingMode:Pe.a.ROUND_DOWN}).toString():Object(ie.g)({number:g,factor:p,roundingMode:Pe.a.ROUND_DOWN}).toString(),m({amountInput:E,selectedOrderSide:b})};var tt=a(175),rt="_3-g-pm4jzPDOfl3ayBXa0u",at="CNiGzVtw-qBJEAXZU0j1P",nt="_39mBaIHIvra-W5ygIv73YW",it="_1yREEpVQko05UY7RX-wqLH",ot="_2sVGfMQ1Frs4d7m3WP9TGk",lt="wHHSPw7XzViYYNkU8kS_N",ct="_1dOyGLm5I1Q_jTVaNtaOlU",st="D9T8nNNeWWp1c2vaJBt8y",dt="_2cjUynBX6b3JhXPFcNWsIj",ut="_13HmZfdU7XoVlcKQMmAwE5",mt="_2VxuufjybJhrt78alL53DL",pt="_2ItHigCUWCGXrQtfYCjvhM",bt="_3PAodCzRQ-SFlEb62Rx8BQ",yt="_1r5JFWpE3S0n3sUbboOWwx",ft="zTyOL8OMLJMoynaut1abg",Ot="_3QERqnTHsrral0XVTywvOk",gt="_3a42tVgRkNktylDbrtnSos",Et="_2xvM5CJ-7qfmA-OHYuy8km",_t="_36Lxn6sSbxG5klhubRNYW8",ht="_2DkZdfLbHXrN0851DujyuX",Tt="_2SobqgXLTL-1vhsIS9O3",vt="_2wIntQeC7_BH2b1UE6vLQv",St="_2jAahDlW4swdgWdbn7M7Rv";function MarketLeverageComponent_slicedToArray(t,r){return function MarketLeverageComponent_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function MarketLeverageComponent_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function MarketLeverageComponent_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return MarketLeverageComponent_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return MarketLeverageComponent_arrayLikeToArray(t,r)}(t,r)||function MarketLeverageComponent_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MarketLeverageComponent_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const MarketLeverageComponent=({currentMarketData:t,currentMarketPosition:r,derivedAccountData:a,newPositionData:i,onLeverageControlUse:l,orderbookBuys:c,orderbookSells:d,selectedOrderSide:p,setTradeData:b,stringGetter:y,user:O})=>{const g=MarketLeverageComponent_slicedToArray(Object(u.useState)(!1),2),E=g[0],h=g[1],T=MarketLeverageComponent_slicedToArray(Object(u.useState)(!1),2),S=T[0],I=T[1],k=MarketLeverageComponent_slicedToArray(Object(u.useState)(null),2),j=k[0],R=k[1],A=Object(v.b)().isTablet,P=i||{},x=P.newPositionSize,N=P.newLeverage,L=(a||{}).equity,M=t||{},U=M.initialMarginFraction,G=M.oraclePrice,K=M.stepSize,B=r||{},z=B.size,W=B.side,H=void 0===W?De.a.LONG:W;let q=Object(ie.b)(10);t&&(q=ie.a.ONE.div(U));const Y=Object(tt.c)({accountEquity:L,positionSize:z,oraclePrice:G})||ie.a.ZERO,V=(({currentPositionLeverage:t,currentPositionSide:r,newLeverage:a,newPositionSize:i})=>{let l;return l=a&&i?a.lt(0)||!a.isFinite()?ie.a.ZERO:i.lt(0)?a.negated():a:t?r===De.a.SHORT?t.negated():t:ie.a.ZERO,l})({currentPositionLeverage:Y,currentPositionSide:H,newLeverage:N,newPositionSize:x}),Z=!j||(null===V||void 0===V?void 0:V.isZero());let $;null!==Y&&void 0!==Y&&Y.isZero()&&null!==V&&void 0!==V&&V.isZero()?$=p===he.a.BUY:S||null!==V&&void 0!==V&&V.isZero()?$=j===De.a.LONG:null!==V&&void 0!==V&&V.gt(0)?$=!0:null!==V&&void 0!==V&&V.lt(0)&&($=!1);const storePositionSide=t=>{null!==t&&void 0!==t&&t.gt(0)?R(De.a.LONG):null!==t&&void 0!==t&&t.lt(0)&&R(De.a.SHORT)},setLeverage=({newLeverageAmount:r})=>{const a=Object(ie.b)(r||0);storePositionSide(a),l(),G&&L&&et({accountEquity:L,currentMarketData:t,currentPositionLeverage:Y||0,currentPositionSide:H||De.a.LONG,currentPositionSize:z||0,newLeverage:N,newLeverageAmount:a,oraclePrice:G,orderbookBuys:c,orderbookSells:d,orderSide:p,setTradeData:b,stepSize:K,user:O})},positionSideToggle=()=>{let t=y($?{key:Q.a.LONG_POSITION_SHORT}:{key:Q.a.SHORT_POSITION_SHORT});return Z&&(t=y({key:Q.a.NONE})),m.a.createElement("div",{className:_()(Et,{[_t]:!E,[ht]:Z||E}),role:"button",tabIndex:0,onClick:()=>{setLeverage({newLeverageAmount:V.negated()})}},m.a.createElement(D.a,{marginLeft:!0,compact:!0,className:_()(Tt,{[St]:!$&&!Z,[vt]:$&&!Z})},t))};return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:ct},m.a.createElement("div",{className:st}),m.a.createElement("span",null,y({key:Q.a.OR})),m.a.createElement("div",{className:st})),m.a.createElement(C.a,{indented:!0,label:m.a.createElement(w.a,{className:ft,top:8,left:-48,tooltip:"leverage-slider"},m.a.createElement("div",{className:Ot},y({key:Q.a.LEVERAGE}),t&&(E?positionSideToggle():m.a.createElement("span",{className:gt},y({key:Q.a.UP_TO_X,params:{LEVERAGE:q.toFixed(0)}}))),!A&&m.a.createElement("div",{className:yt},m.a.createElement("label",{htmlFor:"leverage-toggle",className:gt},y({key:Q.a.SLIDER}),m.a.createElement(Ee.a,{id:"leverage-toggle",checked:E,onToggle:t=>h(t),size:Ee.b.ExtraSmall})))))},E&&!A?m.a.createElement(qe,{currentPositionLeverage:Y,currentPositionSide:H,selectedOrderSide:p,leverageAmount:V,maxLeverage:q,setLeverage:setLeverage}):m.a.createElement(Xe,{currentPositionLeverage:Y,interactiveTag:positionSideToggle(),isEditingInput:S,isPositionLong:$,leverageAmount:V,maxLeverage:q,setIsEditingInput:I,setLeverage:setLeverage,storePositionSide:storePositionSide})))};MarketLeverageComponent.propTypes={currentMarketData:b.a.object,currentMarketPosition:b.a.object,derivedAccountData:b.a.object,newPositionData:b.a.object,onLeverageControlUse:b.a.func.isRequired,orderbookBuys:b.a.array,orderbookSells:b.a.array,selectedOrderSide:b.a.string,setTradeData:b.a.func.isRequired,stringGetter:b.a.func.isRequired,user:b.a.object};var It=Object(T.c)(Object(y.c)(t=>({currentMarketData:Object(B.c)(t),currentMarketPosition:Object(W.b)(t),derivedAccountData:Object(V.a)(t),newPositionData:Object(Z.d)(t),orderbookBuys:Object(Qe.a)(t),orderbookSells:Object(Qe.b)(t),user:Object(q.g)(t)}),t=>Object(O.b)({setTradeData:M.a},t))(MarketLeverageComponent)),kt=a(592),jt=a(101);function asyncGeneratorStep(t,r,a,i,l,c,d){try{var u=t[c](d),m=u.value}catch(p){return void a(p)}u.done?r(m):Promise.resolve(m).then(i,l)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,l){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,l,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,l,_next,_throw,"throw",t)}_next(void 0)}))}}var Rt=Object(T.c)(({reduceOnlyWarningType:t,setShowReduceOnlyWarning:r,stringGetter:a})=>{const i=Object(y.e)(),l=Object(y.f)(q.o,y.d),c=(l||{}).hasSeenReduceOnlyWarning||{},d=c.disableWarning,u=void 0!==d&&d,p=c.enableWarning,b=void 0!==p&&p,O=t===h.i.EnablingReduceOnly,g=O?b:u,E={disableWarning:!O||u,enableWarning:!!O||b},_=O?Q.a.REDUCE_ONLY_WILL_ENABLE:Q.a.REDUCE_ONLY_WILL_DISABLE;return g?null:m.a.createElement(jt.g,{onClickOutside:()=>r(!1)},m.a.createElement(jt.h,null,m.a.createElement(kt.a,{noBorder:!0,title:a({key:Q.a.REDUCE_ONLY_SUPPORT}),closeModal:()=>r(!1)}),m.a.createElement(jt.b,null,m.a.createElement(jt.a,null,m.a.createElement(jt.a,null,a({key:_})),m.a.createElement(jt.d,null,m.a.createElement(k.a,{fullWidth:!0,onClick:_asyncToGenerator((function*(){if(l){const t=(yield re.c.updateUser({userData:{preferences:{[h.k.HasSeenReduceOnlyWarning]:E}}})).user;i(Object(U.i)(t))}r(!1)}))},a({key:Q.a.CONTINUE})))))))}),At=a(189),Pt=a.n(At),xt="_358tW2F4iTrQBdPMXpMSGO",Nt="_17t9EznuD6fIGqhk-RqoQg",Dt="_3BbM9NSocG0n5m5kRfZUL5",Lt="_2phfrA-PdnJjnwr8ZCy3FD",Ct="ApH82JTY4rU24_ylOe3eo";const TradeSideToggle=({className:t,onClickToggle:r,selectedOrderSide:a,stringGetter:i})=>m.a.createElement("div",{className:_()(xt,{[Nt]:a===he.a.BUY},t)},m.a.createElement("div",{role:"button",tabIndex:0,className:_()(Dt,{[Ct]:a===he.a.SELL}),onClick:()=>r(he.a.SELL)},i({key:Q.a.SELL})),m.a.createElement("div",{role:"button",tabIndex:0,className:_()(Dt,{[Lt]:a===he.a.BUY}),onClick:()=>r(he.a.BUY)},i({key:Q.a.BUY})));TradeSideToggle.propTypes={className:b.a.string,onClickToggle:b.a.func.isRequired,selectedOrderSide:b.a.oneOf(Pt()(he.a)).isRequired,stringGetter:b.a.func.isRequired};var wt=Object(T.c)(TradeSideToggle);function TradeboxDismissableCard_slicedToArray(t,r){return function TradeboxDismissableCard_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function TradeboxDismissableCard_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function TradeboxDismissableCard_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return TradeboxDismissableCard_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return TradeboxDismissableCard_arrayLikeToArray(t,r)}(t,r)||function TradeboxDismissableCard_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TradeboxDismissableCard_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const Mt={};Mt.IconButton=Object(g.c)(ge.b)`
  margin: -6px -10px -6px auto;

  @media ${I.a.tablet} {
    margin: -10px -12px -10px auto;

    && {
      & > svg {
        height: 18px;
        width: 18px;
      }
    }
  }
`,Mt.TradeboxDismissableCardContainer=g.c.div`
  background-color: var(--color-layer-lighter);
  border-radius: 4px;
  padding: 12px;
  display: grid;
  margin-bottom: 14px;

  @media ${I.a.tablet} {
    padding: 12px 16px;
  }
`,Mt.Title=g.c.h3`
  display: flex;
  align-items: center;
  ${I.e.size15}
  color: var(--color-text-light);
  margin-bottom: 6px;

  @media ${I.a.tablet} {
    ${I.e.size17}
  }
`,Mt.Description=g.c.p`
  ${I.e.size13}
  color: var(--color-text-base);

  @media ${I.a.tablet} {
    ${I.e.size15}
  }
`;var trade_box_TradeboxDismissableCard=({body:t,href:r,icon:a,localStorageKey:i,title:l})=>{const c=TradeboxDismissableCard_slicedToArray(Object(u.useState)(!1),2),d=c[0],p=c[1];if(d)return null;return m.a.createElement(Mt.TradeboxDismissableCardContainer,null,m.a.createElement(Mt.Title,null,a,l,m.a.createElement(Mt.IconButton,{iconUsesStroke:!0,noBackgroundHover:!0,icon:m.a.createElement(S.q,null),onClick:t=>{t.stopPropagation(),Object(ne.d)({key:i,value:!0}),p(!0)}})),m.a.createElement(Mt.Description,null,t,r&&m.a.createElement(P.a,{href:r})))};const Ft={};Ft.GiftboxIcon=Object(g.c)(S.J)`
  height: 14px;
  width: 14px;
  margin-right: 6px;

  @media ${I.a.tablet} {
    height: 16px;
    width: 16px;
  }
`;var trade_box_TradingRewardsCard=()=>{const t=Object(v.u)();return m.a.createElement(trade_box_TradeboxDismissableCard,{body:m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement(L.a,{color:"light"},t({key:Q.a.EARN_DYDX_REWARDS}))),m.a.createElement("span",{dangerouslySetInnerHTML:{__html:t({key:Q.a.REWARDS_MADE_AVAILABLE,params:{FOUNDATION_LINK:Oe.a.renderToString(m.a.createElement("span",null,"dYdX Foundation"))}})}})),href:"https://docs.dydx.community/dydx-governance/rewards/trading-rewards",icon:m.a.createElement(Ft.GiftboxIcon,null),localStorageKey:ne.a.SEEN_TRADING_REWARDS_CARD,title:t({key:Q.a.TRADING_REWARDS})})};function UsdToggle_slicedToArray(t,r){return function UsdToggle_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function UsdToggle_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function UsdToggle_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return UsdToggle_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return UsdToggle_arrayLikeToArray(t,r)}(t,r)||function UsdToggle_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UsdToggle_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const Ut={},Gt=`\n  ${I.f.medium}\n  ${I.e.size10}\n  color: var(--color-text-base);\n  border-radius: 2px;\n  padding: 0 3px 0 4px;\n  margin: -2px 0 -2px 6px;\n  height: 16px;\n  letter-spacing: 0.06em;\n\n  @media ${I.a.tablet} {\n    ${I.e.size12}\n  }\n`;Ut.Button=g.c.div`
  ${I.e.size13}
  display: flex;
  background-color: var(--color-layer-lighter);
  align-items: center;
  border-radius: 6px;
  cursor: pointer;
  height: 36px;
  padding: 0 10px;

  @media ${I.a.tablet} {
    ${I.e.size17}
    height: 44px;
  }
`,Ut.UsdContainer=g.c.div`
  display: flex;
  flex-direction: row;
  border-radius: 6px;
  align-items: center;
  overflow: hidden;
  height: 100%;
  width: 100%;
`,Ut.UsdDisplay=g.c.div`
  flex: 1;
  opacity: 0%;
  width: 0;

  @media ${I.a.tablet} {
    ${I.e.size20}
  }
`,Ut.UsdToggleContainer=g.c.div`
  --animation-speed: 200ms;
  display: flex;
  flex-direction: row;
  height: 40px;
  margin-left: 6px;
  flex: ${({isOpen:t})=>t?"1":"0"};
  transition: var(--animation-speed) linear;

  @media ${I.a.tablet} {
    height: 54px;
  }

  ${Ut.UsdContainer} {
    ${({isOpen:t})=>t&&"\n  background-color: var(--color-layer-light);\n  padding-right: 12px;\n"}
    transition: var(--animation-speed) linear;
  }

  ${Ut.UsdDisplay} {
    ${({isOpen:t})=>t?"\n  opacity: 100%;\n  display: flex;\n  width: 50%;\n":""}
    transition: var(--animation-speed) linear;
  }

  ${Ut.Button} {
    ${({isOpen:t})=>t&&""+Gt}
    transition: var(--animation-speed) linear;
  }

  ${Ut.Button}:hover {
    ${({isOpen:t})=>!t&&"\n      filter: brightness(1.1);\n    "}
  }
`;var UsdToggle_UsdToggle=({currentOrderPriceData:t,lastEditedAmountInput:r,setLastEditedAmountInput:a})=>{var i;const l=UsdToggle_slicedToArray(Object(u.useState)(!1),2),c=l[0],d=l[1],p=UsdToggle_slicedToArray(Object(u.useState)(!1),2),b=p[0],O=p[1],g=Object(y.e)(),E=Object(y.f)(B.c,y.d),_=Object(y.f)(K.a,y.d),h=Object(y.f)($.e),T=null===_||void 0===_?void 0:_.amountInput,v=null===_||void 0===_?void 0:_.selectedTradeType,S=null===_||void 0===_?void 0:_.limitPriceInput,I=null===_||void 0===_?void 0:_.stopPriceInput,k=r===ee.a.USD_INPUT,j=null===t||void 0===t?void 0:t.marketOrderPrice,R=null!==(i=null===_||void 0===_?void 0:_.usdAmountInput)&&void 0!==i?i:"",setUsdInput=t=>g(Object(M.a)({usdAmountInput:t})),dispatchSetTradeData=({amountInput:t})=>g(Object(M.a)({amountInput:t}));Object(u.useEffect)(()=>{!T&&h===R||b||k||setUsdInput(null!==h&&void 0!==h?h:"")},[h,T]),Object(u.useEffect)(()=>{k&&Object(oe.a)({currentMarketData:E,currentTradeData:_,marketOrderPrice:j,newUsdInputAmount:R,setTradeData:dispatchSetTradeData})},[v,j]),Object(u.useEffect)(()=>{S&&k&&!ee.E.includes(v)&&Object(oe.a)({currentMarketData:E,currentTradeData:_,newUsdInputAmount:R,setTradeData:dispatchSetTradeData})},[S]),Object(u.useEffect)(()=>{ee.E.includes(v)&&I&&k&&Object(oe.a)({currentMarketData:E,currentTradeData:_,newUsdInputAmount:R,setTradeData:dispatchSetTradeData})},[I]);return m.a.createElement(Ut.UsdToggleContainer,{isOpen:c},m.a.createElement(Ut.UsdContainer,null,m.a.createElement(Ut.UsdDisplay,null,m.a.createElement(A.c,{maxDecimals:J.h,onBlur:()=>{O(!1),R||a(ee.a.AMOUNT_INPUT)},onChange:t=>{setUsdInput(t),t?Object(oe.a)({currentMarketData:E,currentTradeData:_,newUsdInputAmount:t,setTradeData:dispatchSetTradeData}):dispatchSetTradeData({amountInput:""})},onFocus:()=>{O(!0),a(ee.a.USD_INPUT)},tabIndex:c?0:-1,value:R})),m.a.createElement(Ut.Button,{onClick:()=>{d(!c)}},"USD")))};const Kt={};Kt.Lightbulb=Object(g.c)(S.T)`
  height: 14px;
  width: 14px;
  margin-right: 6px;
  color: var(--color-text-light);

  @media ${I.a.tablet} {
    height: 16px;
    width: 16px;
  }
`;var trade_box_TriggerableLimitOrderCard=()=>{const t=Object(v.u)();return m.a.createElement(trade_box_TradeboxDismissableCard,{body:t({key:Q.a.STOP_AND_PROFIT_LIMIT_BODY}),href:"https://www.dydxacademy.info/educational-video-series/stop-market-stop-limit-and-trailing-stop-orders-on-dydx",icon:m.a.createElement(Kt.Lightbulb,null),localStorageKey:ne.a.SEEN_STOP_PROFIT_LIMIT_EDUCATION_LINK,title:t({key:Q.a.STOP_AND_PROFIT_LIMIT_TITLE})})};function trade_box_asyncGeneratorStep(t,r,a,i,l,c,d){try{var u=t[c](d),m=u.value}catch(p){return void a(p)}u.done?r(m):Promise.resolve(m).then(i,l)}function trade_box_ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function trade_box_objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?trade_box_ownKeys(Object(a),!0).forEach((function(r){trade_box_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):trade_box_ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function trade_box_defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function trade_box_slicedToArray(t,r){return function trade_box_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function trade_box_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function trade_box_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return trade_box_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return trade_box_arrayLikeToArray(t,r)}(t,r)||function trade_box_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function trade_box_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const Bt=Object(u.lazy)(()=>a.e(103).then(a.bind(null,1975))),zt=Object(u.lazy)(()=>Promise.all([a.e(10),a.e(98)]).then(a.bind(null,1910))),Wt=Object(u.lazy)(()=>Promise.all([a.e(22),a.e(116)]).then(a.bind(null,2159))),Ht=Object(u.lazy)(()=>Promise.all([a.e(24),a.e(88)]).then(a.bind(null,2025)));let qt=!0,Yt=!1;const TradeBox=({account:t,accountData:r,currentMarketConfig:a,currentMarketData:i,currentMarketOrders:c,currentOrderPrice:p,currentOrderPriceData:b,currentPosition:O,currentTradeData:g,isUserGeoBlocked:E,newPositionData:T,postTradeAccountData:I,preferences:L,scrollToBottom:M,setTradeData:U,stringGetter:G,updateUser:K})=>{const B=m.a.useRef(),z=m.a.useRef(),W=m.a.useRef(),H=trade_box_slicedToArray(Object(u.useState)(!1),2),q=H[0],V=H[1],$=trade_box_slicedToArray(Object(u.useState)(null),2),le=$[0],ce=$[1],se=trade_box_slicedToArray(Object(u.useState)(null),2),de=se[0],ue=se[1],me=trade_box_slicedToArray(Object(u.useState)(!1),2),pe=me[0],be=me[1],fe=trade_box_slicedToArray(Object(u.useState)(),2),Oe=fe[0],ge=fe[1],Ee=trade_box_slicedToArray(Object(u.useState)(!1),2),_e=Ee[0],he=Ee[1],Te=trade_box_slicedToArray(Object(u.useState)(""),2),ve=Te[0],Se=Te[1],Ie=Object(y.f)(Z.a),je=Object(y.f)(Y.l),Re=a.baseSymbol,Ae=a.quoteSymbol,Pe=i||{},xe=Pe.market,Ne=Pe.status,De=Pe.stepSize,Le=Pe.tickSize,Ce=g.selectedOrderSide,we=g.selectedTradeType,Me=g.amountInput,Fe=g.bracketOrders,Ue=g.limitPriceInput,Ge=g.stopPriceInput,Ke=g.takeProfitPriceInput,Be=g.trailingPercentInput,ze=g.reduceOnlyChecked,We=g.selectedTimeInForceOption,He=g.showInlineDepositModal,qe=g.showInlineWithdrawModal,Ye=g.showInlineClosePositionModal,Ve=g.usdAmountInput,Ze=Object(v.r)({reduceOnlyChecked:ze,selectedTimeInForceOption:We,selectedTradeType:we}),$e=Object(v.b)(),Xe=$e.isNotTablet,Qe=$e.isMobile,Je=Ze||{},et=Je.reduceOnlyChecked,tt=Je.selectedTimeInForceOption,ct=Je.selectedTradeType,handleExecutionChanges=({onReduceOnlyChanged:t,onTimeInForceChanged:r,onTradeTypeChanged:a})=>{const i=ct!==we;ze===et||i||null===t||void 0===t||t(),tt===We||i||null===r||void 0===r||r(),i&&(null===a||void 0===a||a())},st=(()=>{const t=Object(ne.b)({key:ne.a.USER_TRADE_OPTIONS}),r=(null===L||void 0===L?void 0:L.userTradeOptions)||t||{};return d()(r)})();Object(u.useEffect)(()=>{const t=null===st||void 0===st?void 0:st[we];if(t){const r=void 0===t.reduceOnlyChecked&&![ee.D.MARKET,ee.D.LIMIT].includes(we);r&&(t.selectedTimeInForceOption=ee.C.IOC),U(trade_box_objectSpread({reduceOnlyChecked:r},t))}qt||te.a.trackEvent(X.a.SelectedTradeType,{tradeType:we})},[we]),Object(u.useEffect)(()=>{we!==ee.D.MARKET&&he(!1)},[we,_e]),Object(u.useEffect)(()=>{if(qt){let t=null===st||void 0===st?void 0:st.lastPlacedTradeType;"TAKE_PROFIT_LIMIT"===t&&(t=ee.D.TAKE_PROFIT_LIMIT);const r=null===st||void 0===st?void 0:st[t];t&&r&&(U(trade_box_objectSpread(trade_box_objectSpread({},r),{},{selectedTradeType:t})),qt=!1),Yt=!0}},[L]),Object(u.useEffect)(()=>{!Yt||!L||null!==st&&void 0!==st&&st.lastPlacedTradeType||te.a.trackEvent(X.a.SelectedTradeType,{tradeType:we})},[we,L]);const yt=(L||{}).hasSeenReduceOnlyWarning||{},ft=yt.disableWarning,Ot=void 0!==ft&&ft,gt=yt.enableWarning,Et=Ot,_t=void 0!==gt&&gt;Object(u.useEffect)(()=>{const t=![ee.C.FOK,ee.C.IOC].includes(We),r=ze&&t;switch(we){case ee.D.MARKET:U({selectedTimeInForceOption:ee.C.FOK});break;case ee.D.TRAILING_STOP:t&&U({selectedTimeInForceOption:ee.C.IOC});break;case ee.D.LIMIT:handleExecutionChanges({onReduceOnlyChanged:()=>{r&&(U({selectedTimeInForceOption:ee.C.FOK}),_t||(ge(h.i.EnablingReduceOnly),be(!0)))},onTimeInForceChanged:()=>{r&&(U({reduceOnlyChecked:!1}),Et||(ge(h.i.DisablingReduceOnly),be(!0)))},onTradeTypeChanged:()=>{r&&U({reduceOnlyChecked:!1})}});break;case ee.D.STOP_LIMIT:case ee.D.TAKE_PROFIT_LIMIT:handleExecutionChanges({onReduceOnlyChanged:()=>{r&&(U({selectedTimeInForceOption:ee.C.IOC,postOnlyChecked:!1}),_t||(ge(h.i.EnablingReduceOnly),be(!0)))},onTimeInForceChanged:()=>{r&&(U({reduceOnlyChecked:!1}),Et||(ge(h.i.DisablingReduceOnly),be(!0)))},onTradeTypeChanged:()=>{r&&U({reduceOnlyChecked:!1})}})}},[ze,We,we]);const scrollToDisplayModal=()=>{if(pe){if(!_t&&Oe===h.i.EnablingReduceOnly||!Et&&Oe===h.i.DisablingReduceOnly)if(Qe)null===M||void 0===M||M();else if(Xe){var t,r;null===(t=W.current)||void 0===t||null===(r=t.scrollIntoView)||void 0===r||r.call(t,{block:"start",behavior:"smooth"})}}},ht=function(){var t=function trade_box_asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,l){var c=t.apply(r,a);function _next(t){trade_box_asyncGeneratorStep(c,i,l,_next,_throw,"next",t)}function _throw(t){trade_box_asyncGeneratorStep(c,i,l,_next,_throw,"throw",t)}_next(void 0)}))}}((function*(){if(L){const r=Object(oe.h)(g);if(!L[h.k.UserTradeOptions]||(null===st||void 0===st?void 0:st.lastPlacedTradeType)!==we||!l()(st[we],r)){delete st.TAKE_PROFIT_LIMIT,st.lastPlacedTradeType=we,st[we]=r;try{const t=(yield re.c.updateUser({userData:{preferences:{[h.k.UserTradeOptions]:st}}})).user;K(t),(()=>{const t=Object(oe.h)(g),r=st;r.TAKE_PROFIT_LIMIT&&(r.TAKE_PROFIT=r.TAKE_PROFIT_LIMIT,delete r.TAKE_PROFIT_LIMIT),r[we]=t,Object(ne.d)({key:ne.a.USER_TRADE_OPTIONS,value:r})})()}catch(t){ae.b.notify({error:t,location:ae.a.UPDATE_USER_TRADE_OPTIONS})}}}}));return function saveUserTradeOptionsOnOrderPlaced(){return t.apply(this,arguments)}}(),Tt=Object(ie.d)(Le),clearAuxillaryInputs=()=>{Se("")},onLimitPriceInputChange=({inputType:t,value:r,triggerPrice:a})=>{switch(t){case A.b.NUMBER:{if(U({limitPriceInput:r.trim()}),""===a.trim()||""===r.trim()){Se("");break}const t=Object(oe.d)({currentTradeData:trade_box_objectSpread(trade_box_objectSpread({},g),{},{limitPriceInput:r})});Se(t.gte(0)?t.toFixed(J.d):"");break}case A.b.PERCENT:{const t=Object(oe.e)({currentTradeData:g,percentage:r,tickSizeDecimals:Tt});if(""===r.trim())Se(r),U({limitPriceInput:""});else if(Object(ie.b)(t).lte(0)){const t=Object(oe.d)({currentTradeData:trade_box_objectSpread(trade_box_objectSpread({},g),{},{limitPriceInput:Le.toString()})});Se(t.toFixed(J.d)),U({limitPriceInput:Le.toString()})}else Se(r),U({limitPriceInput:Object(ie.b)(t).gt(0)?t:"0"});break}}ce(null)},onLimitTriggerPriceInputChange=({value:t})=>{switch(we){case ee.D.STOP_LIMIT:{if(U({stopPriceInput:t}),""===Ue.trim())break;if(""===t.trim()||"0"===t.trim()){Se("");break}const r=Object(oe.d)({currentTradeData:trade_box_objectSpread(trade_box_objectSpread({},g),{},{stopPriceInput:t})});Se(r.gte(0)?r.toFixed(J.d):"");break}case ee.D.TAKE_PROFIT_LIMIT:{if(U({takeProfitPriceInput:t}),""===Ue.trim())break;if(""===t.trim()||"0"===t.trim()){Se("");break}const r=Object(oe.d)({currentTradeData:trade_box_objectSpread(trade_box_objectSpread({},g),{},{takeProfitPriceInput:t})});Se(r.gte(0)?r.toFixed(J.d):"");break}}ce(null)},renderTradeInputs=()=>{const l=Object(oe.k)({account:t,accountData:r,currentMarketData:i,currentOrderPrice:p,currentOrderPriceData:b,currentPosition:O,currentTradeData:g}),d=Object(oe.j)({account:t,accountData:r,currentMarketConfig:a,currentMarketData:i,currentMarketLiquidationPrice:Ie,currentMarketOrders:c,currentOrderPrice:p,currentOrderPriceData:b,currentPosition:O,currentTradeData:g,newPositionData:T,postTradeAccountData:I,warningMessageData:l});let u,y,_=j.a.ERROR;E?u=m.a.createElement(m.a.Fragment,null,G({key:Q.a.PERPETUALS_UNAVAILABLE_IN_US}),m.a.createElement("a",{className:bt,href:"https://dydx.exchange/terms",target:"_blank",rel:"noopener noreferrer"},m.a.createElement(S.W,null))):d?u=G({key:d.stringKey,params:d.stringParams}):le?u=G({key:le.stringKey,params:le.stringParams}):l?(_=j.a.WARNING,u=m.a.createElement("span",null,G({key:l.stringKey,params:l.stringParams}),(null===l||void 0===l?void 0:l.learnMoreLink)&&m.a.createElement(P.a,{href:l.learnMoreLink})),y=null===l||void 0===l?void 0:l.onDismiss):Ne===h.f.CloseOnly&&(_=j.a.WARNING,u=G({key:Q.a.MARKET_STATUS_CLOSE_ONLY,params:{MARKET:xe}}));const v=we===ee.D.MARKET,x=""!==Me||""!==Ue||""!==Ke||""!==Be||""!==Ve||Fe.length>0;return m.a.createElement(Vt.TradeInputsContainer,{showBracketOrderOptions:_e},m.a.createElement(R.a,{fullWidthTabs:!0,className:nt,onClickTab:t=>{const r={selectedTradeType:t,limitPriceInput:"",stopPriceInput:"",takeProfitPriceInput:"",trailingPercentInput:""},a=(null===st||void 0===st?void 0:st[t])?{}:{reduceOnlyChecked:![ee.D.MARKET,ee.D.LIMIT].includes(t),selectedTimeInForceOption:[ee.D.STOP_LIMIT,ee.D.STOP_MARKET,ee.D.TAKE_PROFIT_LIMIT,ee.D.TAKE_PROFIT_MARKET].includes(t)?ee.C.IOC:ee.C.GTT};U(trade_box_objectSpread(trade_box_objectSpread({},r),a)),clearAuxillaryInputs(),ce(null)},selectedTabKey:we,tabConfig:[{key:ee.D.LIMIT,label:G({key:Q.a.LIMIT_ORDER_SHORT})},{key:ee.D.MARKET,label:G({key:Q.a.MARKET_ORDER_SHORT})},{key:"STOP",label:G({key:Q.a.STOP_ORDER_SHORT}),dropdownConfig:[{key:ee.D.STOP_LIMIT,label:G({key:Q.a.STOP_LIMIT})},{key:ee.D.STOP_MARKET,label:G({key:Q.a.STOP_MARKET})},{key:ee.D.TRAILING_STOP,label:G({key:Q.a.TRAILING_STOP})},{key:ee.D.TAKE_PROFIT_LIMIT,label:G({key:Q.a.TAKE_PROFIT_LIMIT})},{key:ee.D.TAKE_PROFIT_MARKET,label:G({key:Q.a.TAKE_PROFIT_MARKET})}]}]}),m.a.createElement("div",{className:it},m.a.createElement("div",null,m.a.createElement(wt,{className:lt,onClickToggle:t=>{U({selectedOrderSide:t}),(({orderSide:t})=>{switch(we){case ee.D.STOP_LIMIT:case ee.D.TAKE_PROFIT_LIMIT:{if(""===Ue.trim())break;const r=Object(oe.d)({currentTradeData:trade_box_objectSpread(trade_box_objectSpread({},g),{},{selectedOrderSide:t})});Se(r.gte(0)?r.toFixed(J.d):"");break}}})({orderSide:t}),ce(null)},selectedOrderSide:Ce}),(()=>{switch(we){case ee.D.MARKET:case ee.D.LIMIT:case ee.D.STOP_LIMIT:case ee.D.STOP_MARKET:case ee.D.TAKE_PROFIT_LIMIT:case ee.D.TAKE_PROFIT_MARKET:return m.a.createElement(C.a,{indented:!0,label:m.a.createElement(w.a,{longDelay:!0,tooltip:"order-amount",stringParams:{SYMBOL:Re},left:-36,bottom:12},G({key:Q.a.AMOUNT}),m.a.createElement(Vt.AmountSecondaryLabel,null,G({key:Q.a.SET_ORDER_SIZE})))},m.a.createElement("div",{className:ot},m.a.createElement(Vt.AmountInputContainer,null,m.a.createElement(A.c,{ref:z,innerComponent:m.a.createElement(Vt.TagContainer,null,m.a.createElement(D.a,{marginLeft:!0,compact:!0},Re)),onChange:t=>{U({amountInput:t}),ce(null)},maxDecimals:Object(ie.d)(De),onFocus:()=>ue(ee.a.AMOUNT_INPUT),value:Me})),m.a.createElement(UsdToggle_UsdToggle,{currentOrderPriceData:b,lastEditedAmountInput:de,setLastEditedAmountInput:ue})));case ee.D.TRAILING_STOP:return m.a.createElement(C.a,{indented:!0,label:m.a.createElement(w.a,{longDelay:!0,tooltip:"order-amount",stringParams:{SYMBOL:Re},left:-36,bottom:12},G({key:Q.a.AMOUNT}),m.a.createElement(D.a,{marginLeft:!0,compact:!0},Re))},m.a.createElement(A.c,{ref:B,onChange:t=>{U({amountInput:t}),ce(null)},maxDecimals:Object(ie.d)(De),value:Me}));default:return null}})(),(()=>{switch(we){case ee.D.MARKET:return m.a.createElement(It,{selectedOrderSide:Ce,onLeverageControlUse:()=>ue(ee.a.AMOUNT_INPUT)});case ee.D.LIMIT:return m.a.createElement(C.a,{indented:!0,label:m.a.createElement(m.a.Fragment,null,m.a.createElement(w.a,{longDelay:!0,tooltip:"limit-price",left:-36,bottom:12},G({key:Q.a.LIMIT_PRICE}),m.a.createElement(D.a,{marginLeft:!0,compact:!0},Ae)))},m.a.createElement(A.c,{onChange:t=>{U({limitPriceInput:t}),ce(null)},maxDecimals:Tt,value:Ue}));case ee.D.STOP_LIMIT:return m.a.createElement(m.a.Fragment,null,m.a.createElement(C.a,{indented:!0,label:m.a.createElement(w.a,{longDelay:!0,tooltip:"trigger-price",left:-36,bottom:12},G({key:Q.a.TRIGGER_PRICE}),m.a.createElement(D.a,{marginLeft:!0,compact:!0},Ae))},m.a.createElement(A.c,{onChange:t=>onLimitTriggerPriceInputChange({value:t}),maxDecimals:Tt,value:Ge})),m.a.createElement(Vt.DualInputsContainer,null,m.a.createElement(C.a,{indented:!0,label:m.a.createElement(w.a,{longDelay:!0,tooltip:"limit-price",left:-36,bottom:12},G({key:Q.a.LIMIT_PRICE}),m.a.createElement(D.a,{marginLeft:!0,compact:!0},Ae))},m.a.createElement(A.c,{onChange:t=>onLimitPriceInputChange({inputType:A.b.NUMBER,value:t,triggerPrice:Ge}),maxDecimals:Tt,value:Ue})),m.a.createElement(C.a,{indented:!0,label:m.a.createElement(w.a,{longDelay:!0,tooltip:"limit-price-slippage",right:-48,bottom:12},G({key:Q.a.MAX_SLIPPAGE}))},m.a.createElement(A.c,{disabled:""===Ge.trim(),onChange:t=>onLimitPriceInputChange({inputType:A.b.PERCENT,value:t,triggerPrice:Ge}),maxDecimals:J.d,placeholder:"0.00%",type:A.b.PERCENT,value:ve}))));case ee.D.STOP_MARKET:case ee.D.TAKE_PROFIT_MARKET:return m.a.createElement(m.a.Fragment,null,m.a.createElement(C.a,{indented:!0,label:m.a.createElement(w.a,{longDelay:!0,tooltip:"trigger-price",left:-36,bottom:12},G({key:Q.a.TRIGGER_PRICE}),m.a.createElement(D.a,{marginLeft:!0,compact:!0},Ae))},m.a.createElement(A.c,{onChange:t=>{U({stopPriceInput:t}),ce(null)},maxDecimals:Tt,value:Ge})));case ee.D.TAKE_PROFIT_LIMIT:return m.a.createElement(m.a.Fragment,null,m.a.createElement(C.a,{indented:!0,label:m.a.createElement(w.a,{longDelay:!0,tooltip:"trigger-price",left:-36,bottom:12},G({key:Q.a.TRIGGER_PRICE}),m.a.createElement(D.a,{marginLeft:!0,compact:!0},Ae))},m.a.createElement(A.c,{onChange:t=>onLimitTriggerPriceInputChange({value:t}),maxDecimals:Tt,value:Ke})),m.a.createElement(Vt.DualInputsContainer,null,m.a.createElement(C.a,{indented:!0,label:m.a.createElement(w.a,{longDelay:!0,tooltip:"limit-price",left:-36,bottom:12},G({key:Q.a.LIMIT_PRICE}),m.a.createElement(D.a,{marginLeft:!0,compact:!0},Ae))},m.a.createElement(A.c,{onChange:t=>onLimitPriceInputChange({inputType:A.b.NUMBER,value:t,triggerPrice:Ke}),maxDecimals:Tt,value:Ue})),m.a.createElement(C.a,{indented:!0,label:m.a.createElement(w.a,{longDelay:!0,tooltip:"limit-price-slippage",right:-48,bottom:12},G({key:Q.a.MAX_SLIPPAGE}))},m.a.createElement(A.c,{disabled:""===Ke.trim(),onChange:t=>onLimitPriceInputChange({inputType:A.b.PERCENT,value:t,triggerPrice:Ke}),maxDecimals:J.d,placeholder:"0.00%",type:A.b.PERCENT,value:ve}))));case ee.D.TRAILING_STOP:return m.a.createElement(C.a,{indented:!0,label:m.a.createElement(w.a,{longDelay:!0,tooltip:"trailing-percent",left:-36,bottom:12},G({key:Q.a.TRAILING_PERCENT}))},m.a.createElement(A.c,{type:A.b.PERCENT,maxDecimals:J.d,onChange:t=>{U({trailingPercentInput:t}),ce(null)},placeholder:"0.00%",value:Be}));default:return null}})(),m.a.createElement(ye,{scrollToDisplayModal:scrollToDisplayModal}),(()=>{const t=Object(ne.b)({key:ne.a.SEEN_TRADING_REWARDS_CARD});return[ee.D.STOP_LIMIT,ee.D.TAKE_PROFIT_LIMIT,ee.D.STOP_MARKET,ee.D.TAKE_PROFIT_MARKET,ee.D.TRAILING_STOP].includes(we)&&!Object(ne.b)({key:ne.a.SEEN_STOP_PROFIT_LIMIT_EDUCATION_LINK})?m.a.createElement(trade_box_TriggerableLimitOrderCard,null):t?null:m.a.createElement(trade_box_TradingRewardsCard,null)})(),u&&m.a.createElement(j.b,{type:_,noMarginTop:!0,onDismiss:y},u)),m.a.createElement("div",{className:dt},!q&&m.a.createElement("div",{className:ut},m.a.createElement("div",{className:mt},v&&m.a.createElement(k.a,{disabled:""===Me,onClick:()=>he(!0),shape:k.c.Pill,size:k.d.ExtraSmall},m.a.createElement(S.nb,null)," ",G({key:Q.a.TRIGGERS}))),x&&m.a.createElement(k.a,{color:k.b.RedText,onClick:()=>{U(trade_box_objectSpread({},ee.d)),clearAuxillaryInputs(),ce(null)},shape:k.c.Pill,size:k.d.ExtraSmall},G({key:Q.a.CLEAR})),m.a.createElement(k.a,{className:pt,onClick:()=>V(!0),shape:k.c.Pill,size:k.d.ExtraSmall},m.a.createElement(S.S,null))),m.a.createElement(N.a,{handleErrorOnPlaceOrder:t=>ce(t),handleOrderPlaced:()=>{var t;null===(t=B.current)||void 0===t||t.focus(),clearAuxillaryInputs()},setDefaultLastEditedAmountInput:()=>ue(ee.a.AMOUNT_INPUT),saveUserTradeOptionsOnOrderPlaced:ht,setShowExpandedReceipt:V,showExpandedReceipt:q,tradeHasError:!!d}))),pe&&m.a.createElement(Rt,{reduceOnlyWarningType:Oe,setShowReduceOnlyWarning:be}))};let vt;return vt=He?je?m.a.createElement(Wt,{inTradeBox:!0,closeModal:()=>U({showInlineDepositModal:!1})}):m.a.createElement(zt,{inTradeBox:!0,closeModal:()=>U({showInlineDepositModal:!1})}):qe?m.a.createElement(Ht,{inTradeBox:!0,closeModal:()=>U({showInlineWithdrawModal:!1})}):Ye?m.a.createElement(Bt,{closeModal:()=>U({showInlineClosePositionModal:!1})}):m.a.createElement("div",null,renderTradeInputs(),m.a.createElement(ke,{showBracketOrderOptions:_e,setShowBracketOrderOptions:he})),m.a.createElement("div",{className:_()(rt,{[at]:Xe&&pe})},m.a.createElement(u.Suspense,{fallback:m.a.createElement(x.a,{id:"trade-box-inline-modal"})},vt))},Vt={};Vt.TradeInputsContainer=g.c.div`
  position: relative;

  ${({showBracketOrderOptions:t})=>t&&g.b`
      display: none;
    `}
`,Vt.TagContainer=g.c.div`
  display: grid;
  align-self: center;
  padding-right: 12px;
`,Vt.AmountSecondaryLabel=g.c.span`
  ${I.e.size13}
  margin-left: 4px;
  color: var(--color-text-dark);

  @media ${I.a.tablet} {
    ${I.e.size15}
  }
`,Vt.DualInputsContainer=g.c.div`
  display: grid;
  grid-template-columns: 1.5fr 1fr;
  gap: 8px;
`,Vt.InputPrefix=Object(g.c)(L.a)`
  ${I.e.size15}
  margin-right: 4px;
`,Vt.AmountInputContainer=g.c.div`
  display: flex;
  flex: 1;
  margin-right: 6px;
`,TradeBox.propTypes={account:b.a.object,accountData:b.a.object,currentMarketConfig:b.a.object.isRequired,currentMarketData:b.a.object,currentMarketOrders:b.a.array,currentOrderPrice:b.a.object,currentOrderPriceData:b.a.object,currentPosition:b.a.object,currentTradeData:b.a.object.isRequired,isUserGeoBlocked:b.a.bool.isRequired,newPositionData:b.a.object,postTradeAccountData:b.a.object,preferences:b.a.object,scrollToBottom:b.a.func,setTradeData:b.a.func.isRequired,stringGetter:b.a.func.isRequired,updateUser:b.a.func.isRequired};r.a=Object(T.c)(Object(y.c)(t=>({account:Object(G.a)(t),accountData:Object(V.a)(t),currentMarketConfig:Object(B.b)(t),currentMarketData:Object(B.c)(t),currentMarketOrders:Object(z.b)(t),currentOrderPrice:Object($.c)(t),currentOrderPriceData:Object($.a)(t),currentPosition:Object(W.b)(t),currentTradeData:Object(K.a)(t),isUserGeoBlocked:Object(H.a)(t),newPositionData:Object(Z.d)(t),postTradeAccountData:Object(V.b)(t),preferences:Object(q.o)(t)}),t=>Object(O.b)({setTradeData:M.a,updateUser:U.i},t))(TradeBox))},1882:function(t,r,a){"use strict";var i=a(211),l=a.n(i),c=a(191),d=a.n(c),u=a(225),m=a.n(u),p=a(0),b=a.n(p),y=a(2),O=a.n(y),g=a(10),E=a(16),_=a.n(E),h=a(9),T=a(32),v=a(68),S=a(15),I=a(17),k=a(95),j=a(612),R=a(1758),A=a(127),P=a(243),x=a(35),N=a(62),D=a(326),L=a(597),C=a(1771),w=a(37),M=a(1762),U=a(1),G=a(20),K=a(30),B=a(621),z=a.n(B),W=a(1835),H=a(60),q=a.n(H),Y=a(61),V=a(94),Z=a.n(V),$=a(91),X=a(36),Q=a(1777),J=a(1725),ee=a(226),te=a(283),re=a(173),ae=a(102),ne=a(76),ie=a(8),oe=a(1772);const PositionDetailFields=({currentMarketData:t,currentMarketPosition:r,currentTradeData:{showInlineClosePositionModal:a},setTradeData:i,stringGetter:l})=>{const c=r||{},d=c.entryPrice,u=c.exitPrice,m=c.market,p=c.netFunding,y=c.status,O=(t||{}).tickSize,g=Object(ie.d)(O),E=q()([ae.b.CLOSED,ae.b.LIQUIDATED],y),h=Object(ie.b)(p);return b.a.createElement("div",{className:oe.a.detailFields},b.a.createElement("div",{className:oe.a.mobileSectionHeader},l({key:U.a.OTHER_DETAILS})),b.a.createElement("div",{className:oe.a.detailRow},b.a.createElement("div",{className:oe.a.detailLabel},l({key:U.a.AVERAGE_OPEN})),b.a.createElement("div",{className:oe.a.detailValue},!E&&d?b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(ie.b)(d).toFixed(g||ne.h)}):"-")),b.a.createElement("div",{className:oe.a.detailRow},b.a.createElement("div",{className:oe.a.detailLabel},l({key:U.a.AVERAGE_CLOSE})),b.a.createElement("div",{className:oe.a.detailValue},E||Object(ie.b)(u).isZero()?"-":b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(ie.b)(u).toFixed(g||ne.h)}))),b.a.createElement("div",{className:oe.a.detailRow},b.a.createElement("div",{className:oe.a.detailLabel},b.a.createElement(J.a,{tooltip:"net-funding",top:14,left:-40},l({key:U.a.NET_FUNDING}))),b.a.createElement("div",{className:_()(oe.a.detailValue,{[oe.a.red]:h.lt(0),[oe.a.green]:h.gt(0)})},p&&!E?b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:h.toFixed(ne.h,h.lt(0)?Z.a.ROUND_FLOOR:Z.a.ROUND_CEIL)}):"-")),!E&&r&&b.a.createElement("div",{className:oe.a.positionButtonsContainer},b.a.createElement("div",{className:oe.a.sharePositionButton},b.a.createElement(Q.a,{currentMarket:m})),b.a.createElement(X.a,{fullWidth:!0,active:a,className:oe.a.closePositionButton,color:X.b.RedText,onClick:()=>i({showInlineClosePositionModal:!a}),size:X.d.Medium},l({key:U.a.CLOSE_POSITION}))))};PositionDetailFields.propTypes={currentMarketData:O.a.object,currentMarketPosition:O.a.object,currentTradeData:O.a.object.isRequired,setTradeData:O.a.func.isRequired,stringGetter:O.a.func.isRequired};var le=Object(T.c)(Object(g.c)(t=>({currentMarketData:Object(N.c)(t),currentMarketPosition:Object(te.b)(t),currentTradeData:Object(re.a)(t)}),t=>Object(Y.b)({setTradeData:ee.a},t))(PositionDetailFields)),ce=a(66),se=a(1730),de=a(42),ue="_1gKN9AVUaPQKK1boo34cI8",me="_1k0e3JTduphtNi86RF29rN",pe="_2LhASYiPa_Ph7_eP4Td8CK",be="_2mwna21TxKR6w5dx7GZmjm",ye="S2Q8NNojaDUQOiR-eKhvC",fe="_3oKvFNaieV3ytE0j1Y-JRi",Oe="_15U-2EJk6jcwxd5fCRmPCA",ge="mTBiVnriI4BC16L7tQ7bt",Ee="Ehvm3ybWa_5f1ifDIELF5",_e="_2sQKoNeoN7BO3fp-FcwiNJ",he="_21ZSEoYjZZy0AFztBhxudB",Te="_3Qyqcw1srDsO_BTmahigL2",ve="_1gn8wYvgNzdej3RYMrVSJx",Se="_1hIJsyfLzsiiO-8wsrx74T",Ie="_15A03QM5FOnhxFGwpMwHHM",ke="_123nGDkUCXfCr7069UdKEo",je="_2GXdZmLRlq2h_g75JTXnUY";function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}const PositionLiquidated=({closeOverlay:t,latestFill:{id:r,createdAt:a,market:i,price:l,side:c,size:d},stringGetter:u})=>{const m=c===G.a.SELL;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:ue},b.a.createElement("div",{className:me},b.a.createElement(S.Nb,null),u({key:U.a.YOUR_POSITION_WAS_LIQUIDATED})),b.a.createElement("div",{className:pe},b.a.createElement("div",{className:be},b.a.createElement(A.a,{regularFont:!0,large:!0,backgroundLight:!0,className:ye,green:m,red:!m},u({key:m?U.a.LONG_POSITION_SHORT:U.a.SHORT_POSITION_SHORT})),b.a.createElement(se.a,{pointRight:!0,gray:!0,className:fe}),b.a.createElement(A.a,{regularFont:!0,large:!0,backgroundLight:!0,className:ye},u({key:U.a.NONE}))),b.a.createElement("div",{className:Oe},b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",value:Object(ie.b)(d).toFixed(ne.g)}),b.a.createElement("div",{className:ge},b.a.createElement(se.a,{pointRight:!0,red:!0,className:Ee}),b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",value:ie.a.ZERO.toFixed(ne.g)})))),b.a.createElement("div",{className:_e},b.a.createElement("div",{className:he},b.a.createElement("div",{className:Te},u({key:U.a.LIQUIDATION_PRICE})),b.a.createElement("div",{className:ve},b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(ie.b)(l).toFixed(ne.h)}))),b.a.createElement("div",{className:he},b.a.createElement("div",{className:Te},u({key:U.a.TIME})),b.a.createElement("div",{className:ve},ce.DateTime.fromISO(a).toLocaleString(ce.DateTime.DATETIME_SHORT))))),b.a.createElement("div",{className:Se},b.a.createElement("div",{className:Ie},u({key:U.a.WANT_TO_AVOID_LIQUIDATION})),b.a.createElement("div",{className:ke},u({key:U.a.MANAGE_YOUR_RISK_STOP})),b.a.createElement("div",{className:je},b.a.createElement(X.a,{onClick:()=>window.open("https://help.dydx.exchange/articles/4797992-perpetual-order-types","_blank"),size:X.d.Medium},u({key:U.a.LEARN_MORE})),b.a.createElement(X.a,{color:X.b.Purple,onClick:()=>{const a=Object(de.b)({key:de.a.SEEN_FILLS});a?Object(de.d)({key:de.a.SEEN_FILLS,value:_objectSpread(_objectSpread({},a),{},{[i]:r})}):Object(de.d)({key:de.a.SEEN_FILLS,value:{[i]:r}}),t()},size:X.d.Medium},u({key:U.a.DISMISS})))))};PositionLiquidated.propTypes={closeOverlay:O.a.func.isRequired,latestFill:O.a.object.isRequired,stringGetter:O.a.func.isRequired};var Re=Object(T.c)(PositionLiquidated);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const Position=({currentMarketFills:t})=>{const r=_slicedToArray(Object(p.useState)(!1),2),a=r[0],i=r[1],l=z()(t),c=l||{},d=c.id,u=c.type,m=c.market;if(!a&&u===G.e.LIQUIDATED){const t=Object(de.b)({key:de.a.SEEN_FILLS});if(!t||t[m]!==d)return b.a.createElement("div",{className:oe.a.positionContainer},b.a.createElement("div",{className:oe.a.position},b.a.createElement(Re,{latestFill:l,closeOverlay:()=>i(!0)})))}return b.a.createElement("div",{className:oe.a.positionContainer},b.a.createElement("div",{className:oe.a.position},b.a.createElement(W.a,null),b.a.createElement(le,null)))};Position.propTypes={currentMarketFills:O.a.array};var Ae=Object(g.c)(t=>({currentMarketFills:Object(L.b)(t)}))(Position),Pe=a(905),xe=a.n(Pe),Ne=a(189),De=a.n(Ne),Le=a(153),Ce=a.n(Le),we=a(174),Me=a.n(we),Fe=a(596),Ue=a.n(Fe),Ge=a(227),Ke=a.n(Ge),Be=a(82),ze=a.n(Be),We=a(1786),He=a(1803),qe=a(604),Ye=a.n(qe),Ve="wXOcrO9toSgzRRtYlBiUH",Ze="_2-LbrWiXqZmvI4vglBXcyc",$e="_3uaAL6GMfEDqGUg2Ef_zuT",Xe="_1NL69H29oMUYLVjSNIMtIj";const PaginationDots=({className:t,numPages:r,paginationIndex:a,setPaginationIndex:i})=>{const l=[];return Ye()(r,t=>{l.push(b.a.createElement("div",{key:t,className:_()($e,{[Xe]:a===t})}))}),b.a.createElement("div",{className:_()(Ve,t)},b.a.createElement("div",{role:"button",tabIndex:0,className:Ze,onClick:()=>i(a+1>=r?0:a+1)},l))};PaginationDots.propTypes={className:O.a.string,numPages:O.a.number.isRequired,paginationIndex:O.a.number.isRequired,setPaginationIndex:O.a.func.isRequired};var Qe=PaginationDots,Je=a(1736),et=a(236),tt=a(33),rt=a(131),at=a(115),nt=a(13),it="KppR3Fmfb5DtjqHBvq0_h",ot="_1tKGP2FGCUh6cxrk-YWdeo";function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function asyncGeneratorStep(t,r,a,i,l,c,d){try{var u=t[c](d),m=u.value}catch(p){return void a(p)}u.done?r(m):Promise.resolve(m).then(i,l)}function orders_table_slicedToArray(t,r){return function orders_table_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function orders_table_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function orders_table_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return orders_table_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return orders_table_arrayLikeToArray(t,r)}(t,r)||function orders_table_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function orders_table_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const OrdersTable=({areKeyPairsValid:t,clearOrder:r,currentMarketConfig:a,currentMarketData:i,hasUnseenOrderUpdates:l,isWalletConnecting:c,openSidebarModal:d,orders:u,selectedLocale:m,stringGetter:y,viewedOrders:O})=>{const g=Object(v.b)().isTablet;Object(p.useEffect)(()=>{l&&O()},[l]);const E=orders_table_slicedToArray(Object(p.useState)(null),2),_=E[0],h=E[1],T=orders_table_slicedToArray(Object(p.useState)(null),2),S=T[0],I=T[1],k=orders_table_slicedToArray(Object(p.useState)(0),2),R=k[0],A=k[1],P=orders_table_slicedToArray(Object(p.useState)(new Set),2),x=P[0],N=P[1],D=orders_table_slicedToArray(Object(p.useState)(!0),2),L=D[0],C=D[1];Object(p.useEffect)(()=>{A(0)},[a]);const w=function(){var t=function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,l){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,l,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,l,_next,_throw,"throw",t)}_next(void 0)}))}}((function*({id:t,market:r,side:a}){const i=new Set(x);i.add(t),N(i),yield K.c.cancelActiveOrders({id:t,market:r,side:a}),i.delete(t),N(i)}));return function onCancelOrder(r){return t.apply(this,arguments)}}(),M=(({orders:t,sortDirection:r,sortedByKey:a})=>{let i=[];if(ze()(t,({id:t,expiresAt:r,size:a,side:l,status:c,type:d,reduceOnlySize:u,remainingSize:m,price:p,market:b,timeInForce:y,trailingPercent:O,triggerPrice:g,cancelReason:E})=>{const _=y===nt.C.FOK,h=c===G.c.CANCELED,T=c===G.c.FILLED,v=c===G.c.PENDING,S=G.g.includes(d),I=!h&&c!==G.c.FILLED&&(S||!_);i.push({cancelReason:E,expiresAtDT:ce.DateTime.fromISO(r),filledAmount:Object(ie.b)(null!==u&&void 0!==u?u:a).minus(m),fillOrKill:_,id:t,isCanceledOrder:h,isFilledOrder:T,isPendingOrder:v,isStopOrder:S,market:b,price:Object(ie.b)(p),showGoodTil:I,side:l,size:Object(ie.b)(null!==u&&void 0!==u?u:a),status:c,trailingPercent:Object(ie.b)(O),triggerPrice:Object(ie.b)(g),type:d})}),a){switch(a){case"STATUS":i=Ke()(i,({status:t,type:r})=>t+r);break;case"SIDE":i=Ke()(i,({side:t})=>t===G.a.BUY?1:0);break;case"AMOUNT":i=Ke()(i,({size:t})=>t.toNumber());break;case"FILLED":i=Ke()(i,({filledAmount:t})=>t.toNumber());break;case"PRICE":i=Ke()(i,({price:t})=>t.toNumber());break;case"GOOD_TIL":i=Ke()(i,({expiresAtDT:t})=>t.toSeconds())}r===Je.c.DECREASING&&(i=Ue()(i))}return i})({orders:g&&u?u.slice(5*R,5*R+5):u,sortDirection:S,sortedByKey:_,stringGetter:y}),B=a.baseSymbol,z=null===i||void 0===i?void 0:i.market,W=g?{STATUS_DETAILS:{titleKey:U.a.STATUS,secondaryTitleKey:U.a.DETAILS,width:"36%"},AMOUNT_FILLED:{titleKey:U.a.AMOUNT,secondaryTitleKey:U.a.AMOUNT_FILLED,width:"32%",rightAlign:!0},PRICE_TRIGGER:{titleKey:U.a.PRICE,secondaryTitleKey:U.a.TRIGGER_PRICE_SHORT,width:"32%",rightAlign:!0}}:(({baseSymbol:t})=>({STATUS:{sortKey:"STATUS",titleKey:U.a.STATUS,width:"15%"},SIDE:{sortKey:"SIDE",titleKey:U.a.SIDE,width:"10%"},AMOUNT_FILLED:{titleKey:U.a.AMOUNT,secondaryTitleKey:U.a.AMOUNT_FILLED,tag:t,width:"28%"},PRICE:{sortKey:"PRICE",titleKey:U.a.PRICE,width:"18%"},TRIGGER:{titleKey:U.a.TRIGGER_PRICE_SHORT,width:"17%",tooltipConfig:{tooltip:"trigger-price",left:-180}},GOOD_TIL:{sortKey:"GOOD_TIL",titleKey:U.a.GOOD_TIL_DATE_ABBREVIATED,width:"8%",tooltipConfig:{tooltip:"good-til",right:-16}},CANCEL:{rightAlign:!0,width:"4%"}}))({baseSymbol:B}),H=g?[G.d.STATUS_DETAILS,G.d.AMOUNT_FILLED,G.d.PRICE_TRIGGER]:[G.d.STATUS,G.d.SIDE,G.d.AMOUNT_FILLED,G.d.PRICE,G.d.TRIGGER,G.d.GOOD_TIL,G.d.CANCEL];Me()(M)&&R>0&&A(R-1);const q=Me()(u)?b.a.createElement("div",{className:ot},y({key:U.a.ORDERS_EMPTY_STATE})):M.map(t=>b.a.createElement(He.a,{key:t.id,data:t,awaitedCancellations:x,clearOrder:r,columns:H,currentMarketData:i,displayCard:g,isTablet:g,onCancelOrder:w,openSidebarModal:d,selectedLocale:m,stringGetter:y,tableConfig:W})),Y=c||t&&!u||!i;let V;const Z=Ce()(W);g?V=De()(Z):(V=De()(xe()(Z,"CANCEL")),V[V.length-1].width="12%");const $=Math.min(Math.ceil((null===u||void 0===u?void 0:u.length)/5),12);let X={};return g&&(X=Object(We.useSwipeable)({onSwipedRight:()=>A(0===R?$-1:R-1),onSwipedLeft:()=>A(R+1>=$?0:R+1)})),b.a.createElement(b.a.Fragment,null,b.a.createElement(Je.d,{cardStyles:g,isLoading:Y,tableConfig:V,sortableTableConfig:{sortedByKey:_,sortDirection:S,onClickTableHeader:t=>{_!==t?(h(t),I(Je.c.DECREASING)):_===t&&S===Je.c.DECREASING?I(Je.c.INCREASING):(h(null),I(null))}}},b.a.createElement("div",_extends({className:it},X),q)),b.a.createElement(lt.FooterContainer,null,!!$&&g&&(L?b.a.createElement(lt.PaginationDots,{numPages:$,paginationIndex:R,setPaginationIndex:A}):b.a.createElement("div",null)),g&&b.a.createElement(j.a,{market:z,onDisplayConfirm:()=>C(!1),onRejectConfirm:()=>C(!0)})))},lt={};lt.FooterContainer=h.c.div`
  display: flex;
  height: 36px;
  flex-direction: row;
  margin: 0 12px;
  justify-content: space-between;
`,lt.PaginationDots=Object(h.c)(Qe)`
  && {
    margin: 0;
    align-self: center;
  }
`,OrdersTable.propTypes={areKeyPairsValid:O.a.bool.isRequired,clearOrder:O.a.func.isRequired,currentMarketConfig:O.a.object.isRequired,currentMarketData:O.a.object,hasUnseenOrderUpdates:O.a.bool.isRequired,isWalletConnecting:O.a.bool.isRequired,openSidebarModal:O.a.func.isRequired,orders:O.a.array,selectedLocale:O.a.string.isRequired,stringGetter:O.a.func.isRequired,viewedOrders:O.a.func.isRequired};var ct=Object(T.c)(Object(g.c)(t=>({areKeyPairsValid:Object(at.a)(t),currentMarketConfig:Object(N.b)(t),currentMarketData:Object(N.c)(t),hasUnseenOrderUpdates:Object(D.d)(t),isWalletConnecting:Object(w.e)(t),orders:Object(D.b)(t),selectedLocale:Object(rt.c)(t)}),t=>Object(Y.b)({clearOrder:et.b,openSidebarModal:tt.d,viewedOrders:et.c},t))(OrdersTable)),st=a(1735),dt=a.n(st),ut=a(360),mt=a(1798),pt=a(23),bt=a(374),yt={tableContent:"_25T6No-cV-KmjD0Wbf2Tu_",cursorPointer:"_3rdR0C7YxJ5BAj2FNvhCYP",emptyState:"xiTYdMJmEpSCEBoJnT2SO",sideTypeCell:"_3nHEwgVpdHUZIZ0SRU0dbl",sideAndType:"_2UYa15JebP11HEdMm8LJdp",green:"_3lf1WX7czQuF5-KpKe9J2R",red:"_3w2y0rSrU93GUzInEbtSeS"};function fills_table_extends(){return(fills_table_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function fills_table_slicedToArray(t,r){return function fills_table_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function fills_table_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function fills_table_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return fills_table_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fills_table_arrayLikeToArray(t,r)}(t,r)||function fills_table_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fills_table_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const FillsTable=({areKeyPairsValid:t,currentMarketConfig:r,currentMarketData:a,fills:i,hasUnseenFillUpdates:c,isWalletConnecting:d,selectedLocale:u,stringGetter:m,viewedFills:y})=>{const O=Object(v.b)().isTablet,E=Object(g.e)();Object(p.useEffect)(()=>{c&&y()},[c]);const h=fills_table_slicedToArray(Object(p.useState)(0),2),T=h[0],S=h[1];Object(p.useEffect)(()=>{S(0)},[r]);const I=r.baseSymbol,k=O?{SIDE_TYPE:{titleKey:U.a.SIDE,secondaryTitleKey:U.a.TYPE,width:"38%"},AMOUNT_PRICE:{titleKey:U.a.AMOUNT,secondaryTitleKey:U.a.PRICE,width:"28%",rightAlign:!0},TOTAL_FEE:{titleKey:U.a.TOTAL,secondaryTitleKey:U.a.FEE,width:"34%",rightAlign:!0}}:(({baseSymbol:t})=>({TIME:{titleKey:U.a.TIME,width:"7%"},TYPE:{titleKey:U.a.TYPE,width:"14%"},SIDE:{titleKey:U.a.SIDE,width:"11%"},AMOUNT:{titleKey:U.a.AMOUNT,tag:t,width:"20%"},PRICE:{titleKey:U.a.PRICE,width:"20%"},TOTAL_FEE:{titleKey:U.a.TOTAL,secondaryTitleKey:U.a.FEE,width:"15%"},LIQUIDITY:{titleKey:U.a.LIQUIDITY,width:"13%",tooltipConfig:{tooltip:"liquidity",right:-40}}}))({baseSymbol:I}),j=(({fills:t})=>{const r=[];return ze()(t,({id:t,side:a,liquidity:i,price:l,size:c,fee:d,createdAt:u,type:m})=>{r.push({createdAtDT:ce.DateTime.fromISO(u),fee:Object(ie.b)(d),id:t,liquidity:i,price:Object(ie.b)(l),side:a,size:Object(ie.b)(c),type:m})}),r})({fills:O?dt()(i,5*T,5*T+5):i});let R=[];Me()(j)?R=b.a.createElement("div",{className:yt.emptyState},m({key:U.a.FILLS_EMPTY_STATE})):ze()(j,t=>R.push((({currentMarketData:t,data:{createdAtDT:r,fee:a,id:i,liquidity:l,price:c,side:d,size:u,type:m},isTablet:p,onClick:y,selectedLocale:O,stringGetter:g,tableConfig:E})=>{const h=(t||{}).tickSize,T=Object(ie.b)(h).decimalPlaces(),v=Object(bt.c)({dateTime:r,stringGetter:g}),S=v.timeString,I=v.unitString,k=g({key:d===G.a.BUY?U.a.BUY:U.a.SELL}),j=g({key:l===mt.a.MAKER?U.a.MAKER:U.a.TAKER});return b.a.createElement(Je.b,{key:i,cardStyles:p,greenGradient:p&&d===G.a.BUY,redGradient:p&&d===G.a.SELL,onClick:y},p?b.a.createElement(b.a.Fragment,null,b.a.createElement(Je.a,{regularFont:!0,className:yt.sideTypeCell,width:E.SIDE_TYPE.width},b.a.createElement(P.b,{disableLabel:!0,label:r.setLocale(O).toLocaleString(ce.DateTime.DATETIME_FULL),position:P.a.RIGHT},b.a.createElement("div",{className:yt.cursorPointer},S,I)),b.a.createElement("div",{className:yt.sideAndType},b.a.createElement("span",{className:_()({[yt.green]:d===G.a.BUY,[yt.red]:d===G.a.SELL})},k),b.a.createElement("span",{className:yt.type},g({key:G.f[m]})))),b.a.createElement(Je.a,{stacked:!0,rightAlign:!0,width:E.AMOUNT_PRICE.width},b.a.createElement("span",null,b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",value:u.toFixed(ne.g)})),b.a.createElement("span",null,b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:c.toFixed(T)})))):b.a.createElement(b.a.Fragment,null,b.a.createElement(Je.a,{regularFont:!0,width:E.TIME.width},b.a.createElement(P.b,{disableLabel:!0,label:r.setLocale(O).toLocaleString(ce.DateTime.DATETIME_FULL),position:P.a.RIGHT},b.a.createElement("div",{className:yt.cursorPointer},S,I))),b.a.createElement(Je.a,{regularFont:!0,width:E.TYPE.width},g({key:G.f[m]})),b.a.createElement(Je.a,{width:E.SIDE.width},b.a.createElement(A.a,{regularFont:!0,large:!0,green:d===G.a.BUY,red:d===G.a.SELL},k)),b.a.createElement(Je.a,{width:E.AMOUNT.width},b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",value:u.toFixed(ne.g)})),b.a.createElement(Je.a,{width:E.PRICE.width},b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:c.toFixed(T)}))),b.a.createElement(Je.a,{stacked:!0,rightAlign:p,width:E.TOTAL_FEE.width},b.a.createElement("span",null,b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:u.times(c).toFixed(ne.h)})),b.a.createElement("span",null,b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:a.toFixed(ne.h)}))),!p&&b.a.createElement(Je.a,{regularFont:!0,width:E.LIQUIDITY.width},j))})({data:t,currentMarketData:a,isTablet:O,onClick:()=>{E(Object(tt.d)({modalType:pt.b.FILL_DETAILS,modalProps:{fillId:t.id}}))},selectedLocale:u,stringGetter:m,tableConfig:k})));const x=d||t&&!i||!a,N=Math.min(Math.ceil(l()(i)/5),12);let D={};return O&&(D=Object(We.useSwipeable)({onSwipedRight:()=>S(0===T?N-1:T-1),onSwipedLeft:()=>S(T+1>=N?0:T+1)})),b.a.createElement(b.a.Fragment,null,b.a.createElement(Je.d,{cardStyles:O,isLoading:x,tableConfig:De()(k)},b.a.createElement("div",fills_table_extends({className:yt.tableContent},D),R)),!!N&&O&&b.a.createElement(Qe,{numPages:N,paginationIndex:T,setPaginationIndex:S}))};FillsTable.propTypes={areKeyPairsValid:O.a.bool.isRequired,currentMarketConfig:O.a.object.isRequired,currentMarketData:O.a.object,fills:O.a.array,hasUnseenFillUpdates:O.a.bool.isRequired,isWalletConnecting:O.a.bool.isRequired,selectedLocale:O.a.string.isRequired,stringGetter:O.a.func.isRequired,viewedFills:O.a.func.isRequired};var ft=Object(T.c)(Object(g.c)(t=>({areKeyPairsValid:Object(at.a)(t),currentMarketConfig:Object(N.b)(t),currentMarketData:Object(N.c)(t),fills:Object(L.b)(t),hasUnseenFillUpdates:Object(L.c)(t),isWalletConnecting:Object(w.e)(t),selectedLocale:Object(rt.c)(t)}),t=>Object(Y.b)({viewedFills:ut.b},t))(FillsTable)),Ot=a(25),gt=a(282),Et="_1DSd1wLRh65TTPFYpn2pyt",_t="_3jIVhuqJAslSOvJUJGwKS3",ht="_3MnYNPqOaOpPpXkBsk2Civ",Tt="_1zjTU4OVD2bIqfRSykxf_U",vt="_3DAgr47vhkLCgXiw4-Dw-_",St="XYSBw8ZI1E9IslHdMx_xC",It="_1gDiTphkDihRCgAQdxFZLN",kt="_2uq2Hn8Sa0c4rWczB3GbV6",jt="_256Er_2oV-Xb04k7toIifi";function FundingPaymentsTable_extends(){return(FundingPaymentsTable_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function FundingPaymentsTable_slicedToArray(t,r){return function FundingPaymentsTable_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function FundingPaymentsTable_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function FundingPaymentsTable_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return FundingPaymentsTable_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return FundingPaymentsTable_arrayLikeToArray(t,r)}(t,r)||function FundingPaymentsTable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FundingPaymentsTable_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const FundingPaymentsTable=({fundingPaymentsByMarket:t,areKeyPairsValid:r,currentMarketConfig:a,isWalletConnecting:i,stringGetter:l})=>{var c;const d=Object(v.b)().isTablet,u=FundingPaymentsTable_slicedToArray(Object(p.useState)(0),2),m=u[0],y=u[1];Object(p.useEffect)(()=>{y(0)},[a]);const O=null===a||void 0===a?void 0:a.market,g=i||r&&!(null!==t&&void 0!==t&&t[O]),E=d?{MARKET_FUNDING_RATE:{titleKey:U.a.MARKET,secondaryTitleKey:U.a.FUNDING_RATE,width:"40%"},PAYMENT:{titleKey:U.a.PAYMENT,width:"20%",rightAlign:!0},POSITION:{titleKey:U.a.POSITION,width:"40%",rightAlign:!0}}:{TIME:{titleKey:U.a.TIME,width:"7%"},MARKET:{titleKey:U.a.MARKET,width:"23%"},PAYMENT:{titleKey:U.a.PAYMENT,width:"15%"},FUNDING_RATE:{titleKey:U.a.FUNDING_RATE,width:"20%"},POSITION:{titleKey:U.a.POSITION,width:"20%"},ORACLE_PRICE:{titleKey:U.a.ORACLE_PRICE,width:"15%"}};let h=null===t||void 0===t?void 0:t[O];d&&h&&(h=h.slice(0,M.b));const T=(t=>{if(!t)return[];const r=[];t.forEach(({effectiveAt:t,payment:a,positionSize:i,price:l,rate:c})=>{r.push({effectiveAt:t,market:O,payment:Object(ie.b)(a),positionSize:Object(ie.b)(i),price:Object(ie.b)(l),rate:Object(ie.b)(c)})});return d?r.slice(5*m,5*m+5):r})(h);let S=[];T&&0!==T.length?T.forEach(t=>S.push((({data:{effectiveAt:t,market:r,payment:a,positionSize:i,price:l,rate:c},currentMarketConfig:d,elementsToShow:u,isTablet:m,stringGetter:p,tableConfig:y})=>{const O=d.baseSymbol,g=d.baseSymbolName,E=Object(bt.c)({dateTime:ce.DateTime.fromISO(t),stringGetter:p}),h=E.timeString,T=E.unitString,v=p({key:i.gte(0)?U.a.LONG_POSITION_SHORT:U.a.SHORT_POSITION_SHORT}),S=b.a.createElement(Je.a,{key:"payment",rightAlign:m,className:_()({[kt]:a.gte(0),[jt]:a.lt(0)}),width:y.PAYMENT.width},b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",prefix:a.lt(0)?"-$":"+$",value:a.abs().toFixed(ne.g,Z.a.ROUND_UP)})),I=b.a.createElement(Je.a,{stacked:!0,rightAlign:m,key:"position",width:y.POSITION.width},b.a.createElement("span",null,b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",value:i.abs().toFixed(ne.g)}),b.a.createElement(A.a,{compact:!0,marginLeft:!0},O)),b.a.createElement("span",{className:_()({[kt]:i.gte(0),[jt]:i.lt(0)})},v)),k=m?[b.a.createElement(Je.a,{key:"market-funding-rate",className:_()(ht,It),width:y.MARKET_FUNDING_RATE.width},b.a.createElement("div",{className:St},h,T),b.a.createElement("div",{className:_()(Tt,vt)},b.a.createElement("span",null,r),b.a.createElement("span",{className:_()({[kt]:c.gte(0),[jt]:c.lt(0)})},b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",suffix:"%",value:c.abs().times(100).toFixed(ne.e)})))),S,I]:[b.a.createElement(Je.a,{regularFont:!0,key:"time",width:y.TIME.width},h,T),b.a.createElement(Je.a,{key:"market",regularFont:!0,className:ht,width:y.MARKET.width},b.a.createElement(gt.a,{symbol:O}),b.a.createElement("div",{className:_()(Tt,vt)},b.a.createElement("span",null,g),b.a.createElement("span",null,r))),S,b.a.createElement(Je.a,{key:"funding-rate",className:_()({[kt]:c.gte(0),[jt]:c.lt(0)}),width:y.FUNDING_RATE.width},b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",suffix:"%",value:c.abs().times(100).toFixed(ne.f)})),I,b.a.createElement(Je.a,{key:"oracle-price",width:y.ORACLE_PRICE.width},b.a.createElement($.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:l.toFixed(ne.h)}))];return b.a.createElement(Je.b,{cardStyles:m,greenGradient:m&&a.isPositive(),redGradient:m&&a.isNegative(),key:t+r},k.slice(0,u))})({data:t,currentMarketConfig:a,isTablet:d,stringGetter:l,tableConfig:E}))):S=b.a.createElement("div",{className:_t},l({key:U.a.FUNDING_PAYMENTS_EMPTY_STATE}));const I=Math.min(Math.ceil((null===(c=h)||void 0===c?void 0:c.length)/5),12);let k={};d&&(k=Object(We.useSwipeable)({onSwipedRight:()=>y(0===m?I-1:m-1),onSwipedLeft:()=>y(m+1>=I?0:m+1)}));const j=Object.keys(E).map(t=>E[t]);return b.a.createElement(b.a.Fragment,null,b.a.createElement(Je.d,{cardStyles:d,isLoading:g,tableConfig:j},b.a.createElement("div",FundingPaymentsTable_extends({className:Et},k),S)),!!I&&d&&b.a.createElement(Qe,{numPages:I,paginationIndex:m,setPaginationIndex:y}))};FundingPaymentsTable.propTypes={fundingPaymentsByMarket:O.a.object,areKeyPairsValid:O.a.bool.isRequired,currentMarketConfig:O.a.object,isWalletConnecting:O.a.bool.isRequired,stringGetter:O.a.func.isRequired};var Rt=Object(T.c)(Object(Ot.i)(Object(g.c)(t=>({fundingPaymentsByMarket:Object(C.c)(t),areKeyPairsValid:Object(at.a)(t),currentMarketConfig:Object(N.b)(t),isWalletConnecting:Object(w.e)(t)}))(FundingPaymentsTable))),At="_1lPTxBZv67ql3BUo93WzQg",Pt="_3boAnrvjqJGW7QzqvrX6a3",xt="_3umrhNVkaa5nfUn7PZwa2G",Nt="_3WdyyAAClWXoslDj3cecDl",Dt="_6Os2qE401fbTslkS6f1WV",Lt="_1YFelugjqRbxWyW3Gyp8Ox";function trade_info_asyncGeneratorStep(t,r,a,i,l,c,d){try{var u=t[c](d),m=u.value}catch(p){return void a(p)}u.done?r(m):Promise.resolve(m).then(i,l)}function trade_info_asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,l){var c=t.apply(r,a);function _next(t){trade_info_asyncGeneratorStep(c,i,l,_next,_throw,"next",t)}function _throw(t){trade_info_asyncGeneratorStep(c,i,l,_next,_throw,"throw",t)}_next(void 0)}))}}function trade_info_slicedToArray(t,r){return function trade_info_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function trade_info_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function trade_info_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return trade_info_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return trade_info_arrayLikeToArray(t,r)}(t,r)||function trade_info_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function trade_info_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const Ct={POSITION:"POSITION",ORDERS:"ORDERS",FILLS:"FILLS",PAYMENTS:"PAYMENTS"},wt={[Ct.POSITION]:U.a.POSITION,[Ct.ORDERS]:U.a.ORDERS,[Ct.FILLS]:U.a.FILLS,[Ct.PAYMENTS]:U.a.PAYMENTS},TradeInfo=({currentMarketConfig:t,currentMarketFills:r,currentMarketOrders:a,fetchedMarkets:i,fundingPaymentsByMarket:c,hasUnseenFillUpdates:u,hasUnseenOrderUpdates:y,hideTradeInfo:O,setHideTradeInfo:E,stringGetter:h,walletAddress:T})=>{const I=trade_info_slicedToArray(Object(p.useState)(Ct.POSITION),2),N=I[0],D=I[1],L=trade_info_slicedToArray(Object(p.useState)(!0),2),C=L[0],w=L[1],B=Object(v.b)().isTablet,z=Object(g.e)();let W;switch(Object(p.useEffect)(trade_info_asyncToGenerator((function*(){if(T){const a=null===t||void 0===t?void 0:t.market;if((null===c||void 0===c||!c[a])&&!i.includes(a))try{const t=yield K.c.getFundingPayments({market:a}),r=null===t||void 0===t?void 0:t.fundingPayments;r&&z(Object(x.c)({market:a,fundingPayments:r}))}catch(r){}}})),[t,T]),N){case Ct.POSITION:W=b.a.createElement(Ae,null);break;case Ct.ORDERS:W=b.a.createElement(ct,null);break;case Ct.FILLS:W=b.a.createElement(ft,null);break;case Ct.PAYMENTS:W=b.a.createElement(Rt,null)}const H=null===t||void 0===t?void 0:t.market;return b.a.createElement("div",{className:At},b.a.createElement("div",{className:Pt},b.a.createElement(R.a,{tabConfig:m()(Ct,t=>{let i;if(t===Ct.ORDERS){const r=d()(a,(t,{status:r})=>r!==G.c.CANCELED?t+1:t,0);i=b.a.createElement(b.a.Fragment,null,h({key:wt[t]}),b.a.createElement(A.a,{marginLeft:!0,className:_()(Dt,{[Lt]:y&&N!==Ct.ORDERS}),darkText:N!==Ct.ORDERS},r>99?"99+":r))}else if(t===Ct.FILLS){const a=l()(r);i=b.a.createElement(b.a.Fragment,null,h({key:wt[t]}),b.a.createElement(A.a,{marginLeft:!0,className:_()(Dt,{[Lt]:u&&N!==Ct.FILLS}),darkText:N!==Ct.FILLS},a>99?"99+":a))}else if(t===Ct.PAYMENTS){var m;const r=(null===c||void 0===c||null===(m=c[H])||void 0===m?void 0:m.length)||0,a=Math.min(M.b,r),l=B?a:r;i=b.a.createElement(b.a.Fragment,null,h({key:wt[t]}),b.a.createElement(A.a,{marginLeft:!0,className:Dt,darkText:N!==Ct.PAYMENTS},l>99?"99+":l))}else i=h({key:wt[t]});return{key:t,label:i}}),selectedTabKey:N,onClickTab:t=>{D(t),null===E||void 0===E||E(!1)}}),N===Ct.ORDERS&&!B&&!O&&b.a.createElement(j.a,{market:H,onDisplayConfirm:()=>w(!1),onRejectConfirm:()=>w(!0)}),C&&b.a.createElement(Mt.WithHoverLabel,{label:h({key:O?U.a.EXPAND:U.a.HIDE}),position:P.a.LEFT},b.a.createElement(Mt.IconButton,{size:k.a.EXTRA_SMALL,hideTradeInfo:O,icon:b.a.createElement(S.m,null),onClick:()=>null===E||void 0===E?void 0:E(!O)}))),b.a.createElement("div",{className:_()(xt,{[Nt]:O})},W))},Mt={};Mt.WithHoverLabel=Object(h.c)(P.b)`
  height: 28px;
  margin-left: 8px;
`,Mt.IconButton=Object(h.c)(k.b)`
  && {
    width: 28px;
    height: 28px;
    border-radius: 14px;
  }

  > svg {
    width: 14px;
    transform: rotate(180deg);

    path {
      stroke: var(--color-text-dark);
    }
  }

  &:hover {
    > svg path {
      stroke: var(--color-text-light);
    }
  }

  @media ${I.a.tablet} {
    display: none;
  }

  ${({hideTradeInfo:t})=>t&&h.b`
      > svg {
        transform: rotate(0deg);
      }
    `}
`,TradeInfo.propTypes={currentMarketConfig:O.a.object.isRequired,currentMarketFills:O.a.array,currentMarketOrders:O.a.array,fetchedMarkets:O.a.array,fundingPaymentsByMarket:O.a.object,hasUnseenFillUpdates:O.a.bool.isRequired,hasUnseenOrderUpdates:O.a.bool.isRequired,hideTradeInfo:O.a.bool,setHideTradeInfo:O.a.func,stringGetter:O.a.func.isRequired,walletAddress:O.a.string};r.a=Object(T.c)(Object(g.c)(t=>({currentMarketConfig:Object(N.b)(t),currentMarketFills:Object(L.b)(t),fetchedMarkets:Object(C.b)(t),fundingPaymentsByMarket:Object(C.c)(t),currentMarketOrders:Object(D.b)(t),hasUnseenFillUpdates:Object(L.c)(t),hasUnseenOrderUpdates:Object(D.d)(t),walletAddress:Object(w.o)(t)}))(TradeInfo))},1884:function(t,r,a){"use strict";a.d(r,"a",(function(){return Ke})),a.d(r,"b",(function(){return Xe}));var i=a(604),l=a.n(i),c=a(1735),d=a.n(c),u=a(227),m=a.n(u),p=a(376),b=a.n(p),y=a(60),O=a.n(y),g=a(242),E=a.n(g),_=a(82),h=a.n(_),T=a(117),v=a.n(T),S=a(191),I=a.n(S),k=a(211),j=a.n(k),R=a(174),A=a.n(R),P=a(0),x=a.n(P),N=a(91),D=a(16),L=a.n(D),C=a(2),w=a.n(C),M=a(10),U=a(61),G=a(94),K=a.n(G),B=a(9),z=a(32),W=a(17),H=a(373),q=a(127),Y=a(613),V=a(226),Z=a(327),$=a(62),X=a(326),Q=a(173),J=a(56),ee=a(1750),te=a(1),re=a(13),ae=a(20),ne=a(76),ie=a(8);var oe="_3zhDTrkiD2aZbl97c3BSNG",le="_2b0a15kJ4hRVPIR9ZUwTBK",ce="_24PXPmtUTObMWTkZKYSzf",se="_2jE1HfZwIjJ8f2YtTUB11g",de="_26Jvw4-5_8-7j20DDAzMdw",ue="_2M5LtOFp23Ktlv_yalTqXC",me="_2HBsZHzzuffKZf5XqqnzSc",pe="_1J8gVannOBNjGIlino1-DQ",be="xxuQUfKHjAyLhZe4TZglS",ye="_3oJWZIKm0j4wb2UBP4lfC1",fe="ISZkR8Ko5NOxcts0zwK-g",Oe="h5Ocj84Ba6UvgYroUBbVI",ge="_1OsG7SHdQO5dMoUgBh71UT",Ee="_3vyOJ83C9yxEzDZbeX0JEg",_e="_1kztD06gfWA-WcSNidGh06",he="_3IQD7L1mc6Y-60h2q3WSpO",Te="_1kh-KjmgT4jFhZBNmhe03f",ve="uzSaTQQAYYX0Wpo9VoKG7",Se="_3pxsofzS19hNKlj5kdDca1",Ie="Q5QJ-laWVFZAJCBztpt8w",ke="_2N4bWi5IAvAzoYPPzev0oL",je="_2uWU39kUu219youmJn0jCT",Re="_3jQY7_55xJmFfiomPNldDa",Ae="_3V74-0BYGjH3B1Xe-uqSil",Pe="SDLpMPorCCdexg0Mr3Js0",xe="_3Z2l_QvTZ8wp5NNT7kiz73",Ne="_3R3VJYHRyyJagHqKyOijkQ",De="QpT5C-GxCx4RsEeNhFEjy",Le="_1Io-xGeWSmRodp84w_CceQ";function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}const Ce={updatedOrderIds:[],animatingRemovedOrders:[],hasCenteredOrderbook:!1};let we,Me,Fe;class Ue extends P.Component{constructor(){super(),this.setState=(t,r=null)=>{Fe&&super.setState(t,r)},this.centerOrderbook=()=>{if(this.containerRef.current&&this.bookRef.current){const r=this.bookRef.current.clientHeight;if(r>0){this.setState({hasCenteredOrderbook:!0});try{const t=r/2-this.containerRef.current.clientHeight/2+12;this.containerRef.current.scrollTo({top:t})}catch(t){}}}},this.renderOrder=(t,r,a)=>{const i=a+t,l=this.state.updatedOrderIds,c=this.props,d=c.currentMarketData,u=c.currentMarketZoomValues,m=c.currentTradeData,p=c.setTradeData,b=c.totalOrderbookSize,y=c.userOrders,g=c.zoomValue,E=d||{},_=E.stepSize,h=E.tickSize,T=r.isBlank,S=r.removed,I=u[g];if(T)return x.a.createElement("div",{className:L()(Pe,Ne),key:i});const k=r.price,j=r.side,R=r.size,A=r.totalSize,P=m.selectedTradeType,D=Object(ie.d)(_),C=Object(ie.d)(h),w=Object(ie.g)({number:R,factor:_,roundingMode:K.a.ROUND_UP}).toFixed(D),M=Object(ie.b)(w),U=Object(ie.g)({number:k,factor:I&&0!==g?I:h,roundingMode:j===ae.a.SELL||0!==g?K.a.ROUND_UP:K.a.ROUND_DOWN}).toFixed(C);let G;const B=v()(y,t=>t.price===k&&t.side===a);if(B.length>0){const t=function calculateUserSize(t){let r=ie.a.ZERO;return t.forEach(t=>{r=r.plus(Object(ie.b)(t.remainingSize))}),r}(B);G=Object(ie.g)({number:t,factor:_,roundingMode:K.a.ROUND_UP}).toFixed(D)}const z=L()(Pe,{[Re]:O()(l,k),[xe]:S}),W=Object(ie.b)(100).multipliedBy(Object(ie.b)(A).div(b)),H=W.toFixed(),q=W.multipliedBy(M.div(A)).toFixed();return x.a.createElement("div",{className:z,role:"button",tabIndex:0,key:i,onClick:()=>{p({limitPriceInput:U,selectedTradeType:[re.D.MARKET,re.D.TRAILING_STOP].includes(P)?re.D.LIMIT:P})}},x.a.createElement(x.a.Fragment,null,x.a.createElement("div",{className:ke,style:{width:Math.min(100,Math.max(1,Number(q)))+"px"}}),x.a.createElement("div",{className:je,style:{width:Math.min(100,Math.max(1,H))+"px"}})),x.a.createElement("div",{className:ce},x.a.createElement("div",{className:L()(pe,ve)},x.a.createElement(N.a,{thousandSeparator:!0,displayType:"text",value:w})),x.a.createElement("div",{className:L()(pe,Se)},U),x.a.createElement("div",{className:L()(pe,Ie)},G||"-")))},this.state=_objectSpread({},Ce),this.containerRef=x.a.createRef(),this.bookRef=x.a.createRef()}componentDidMount(){this.centerOrderbook(),Fe=!0}componentWillUnmount(){Fe=!1,we&&clearTimeout(we),Me&&clearTimeout(Me)}componentDidUpdate(t){const r=this.state,a=r.updatedOrderIds,i=r.hasCenteredOrderbook,l=this.props,c=l.currentMarketConfig,d=l.recentlyRemovedOrders,u=l.sellOrders,m=l.buyOrders,p=l.isPageVisible,b=l.orderbookVersion,y=l.userPreferences,g=(void 0===y?{}:y).orderbookAnimations,_=void 0!==g&&g,T=l.viewportDimensions,S=t.currentMarketConfig,k=t.orderbookVersion,R=t.viewportDimensions,P=t.buyOrders,x=_&&p;if((c.market!==S.market||!i||A()(P)&&j()(m)||T.height!==R.height||T.width!==R.width)&&this.centerOrderbook(),k!==b){0===b&&this.setState(_objectSpread({},Ce));const t=I()([...m,...u],(t,{price:r,version:a})=>(0!==a&&a===b&&t.push(r),t),[]);if(x&&d.length>0){const t=Date.now();this.setState(({animatingRemovedOrders:r})=>{const a=v()(r,({animatedAt:r})=>t-r<400);return h()(d,r=>{r.market===c.market&&a.push(_objectSpread(_objectSpread({},r),{},{animatedAt:t}))}),{animatingRemovedOrders:a}}),we=setTimeout(()=>{this.containerRef&&this.setState(({animatingRemovedOrders:t})=>({animatingRemovedOrders:v()(t,t=>!E()(d,r=>t.price===r.price))}))},400)}if(t.length>0){this.setState({updatedOrderIds:[...a,...t]});const updateOrders=()=>{if(this.containerRef){const r=this.state.updatedOrderIds;this.setState({updatedOrderIds:v()(r,r=>!O()(t,r))})}};x?Me=setTimeout(updateOrders,400):updateOrders()}}}renderOrders(t,r){if(!t)return null;const a=[];return b()(t,(t,i)=>a.push(this.renderOrder(i,t,r))),a}renderBook(){const t=this.props,r=t.currentMarketConfig,a=t.currentMarketData,i=t.currentMarketZoomValues,c=t.buyOrders,u=t.sellOrders,p=t.setOrderbookZoomValue,b=t.spread,y=t.spreadPercent,O=t.stringGetter,g=t.zoomValue,E=this.state.animatingRemovedOrders,_=(a||{}).tickSize,h=Object(ie.d)(_);let T=[...c],v=[...u];const S={},I={},k=g>0&&i[g];E.forEach(t=>{const r=t.price,a=t.side,i=t.size,l=a!==ae.a.SELL&&k?K.a.ROUND_DOWN:K.a.ROUND_UP,c=Object(ie.g)({number:r,factor:k&&0!==g?k:_,roundingMode:l}).toString(),d=Object(ie.b)(i);if(a===ae.a.BUY)if(S[c]&&0!==g){const t=S[c],r=t.size,a=t.totalSize,i=Object(ie.b)(a).plus(d);S[c].size=Object(ie.b)(r).plus(d),S[c].totalSize=i,S[c].totalSizeFixed=i.toFixed()}else S[c]=_objectSpread(_objectSpread({},t),{},{removed:!0});else if(I[c]&&0!==g){const t=I[c],r=t.size,a=t.totalSize,i=Object(ie.b)(a).plus(d);I[c].size=Object(ie.b)(r).plus(d),I[c].totalSize=i,I[c].totalSizeFixed=i.toFixed()}else I[c]=_objectSpread(_objectSpread({},t),{},{removed:!0})}),T=T.concat(Object.values(S)),v=v.concat(Object.values(I)),c.length!==T.length&&(T=m()(T,t=>parseFloat(t.price,10))),u.length!==v.length&&(v=m()(v,t=>parseFloat(t.price,10)));const j=b&&b.toFixed(h)||"-";if(T.length>35&&(T=d()(T,Math.max(T.length-35,0),T.length)),v.length>35)v=d()(v,0,35);else{const t=35-v.length;l()(t,()=>{v.push({isBlank:!0})})}const R=y?y.times(100).abs().toFixed(ne.d,K.a.ROUND_UP)+"%":"-";return x.a.createElement(x.a.Fragment,null,x.a.createElement("div",{className:le},x.a.createElement("div",{className:L()(se,de)},O({key:te.a.ORDERBOOK_ORDER_SIZE})+" ",x.a.createElement(q.a,{compact:!0,className:Le},r.baseSymbol)),x.a.createElement("div",{className:L()(se,ue)},O({key:te.a.PRICE})+" ",x.a.createElement(q.a,{compact:!0,className:Le},r.quoteSymbol)),x.a.createElement("div",{className:L()(se,me)},O({key:te.a.ORDERBOOK_MY_ORDER_SIZE}))),x.a.createElement("div",{className:Ee,ref:this.containerRef},x.a.createElement("div",{className:ge,ref:this.bookRef}),x.a.createElement("div",{className:_e},x.a.createElement("div",{className:L()(he,Te)},this.renderOrders(v,ae.a.SELL)),x.a.createElement("div",{className:be},x.a.createElement("div",{className:L()(pe,ye)},O({key:te.a.ORDERBOOK_SPREAD})),x.a.createElement("div",{className:L()(pe,fe)},j),x.a.createElement("div",{className:L()(pe,Oe)},""+R)),x.a.createElement("div",{className:L()(he,Ae)},this.renderOrders(T,ae.a.BUY)))),i&&x.a.createElement(Ge.OrderbookZoomContainer,null,x.a.createElement(Ge.OrderbookZoomButtonContainer,null,x.a.createElement(Ge.OrderbookZoomButton,{disabled:0===g,role:"button",tabIndex:0,onClick:()=>{g>0&&p(g-1)}},"-")),x.a.createElement(Ge.OrderbookZoomButtonContainer,null,x.a.createElement(Ge.OrderbookZoomButton,{disabled:g===i.length-1,role:"button",tabIndex:0,onClick:()=>{g<i.length-1&&p(g+1)}},"+")),x.a.createElement(Ge.OrderbookStepSpan,null,x.a.createElement(N.a,{displayType:"text",value:Object(ie.b)(i[g]).toFixed(h)}))))}render(){const t=this.props,r=t.isOrderbookLoaded,a=t.isMarketsLoaded;return x.a.createElement("div",{className:oe},r&&a?this.renderBook():x.a.createElement(H.a,{className:De}))}}const Ge={};Ge.OrderbookZoomContainer=B.c.div`
  color: var(--color-text-dark);
  display: flex;
  align-items: center;
  justify-content: flex-start;
  height: ${"36px"};
  padding: 0 24px 0 0;
  cursor: default;
  border-top: solid 1px var(--color-border-grey);
  user-select: none;
`,Ge.OrderbookZoomButtonContainer=B.c.div`
  display: flex;
  border-right: solid 1px var(--color-border-grey);
  align-items: center;
  justify-content: center;
  height: 100%;
  width: ${"36px"};
  padding: 2px;
`,Ge.OrderbookZoomButton=B.c.div`
  ${W.e.size20}
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  cursor: pointer;
  width: 100%;
  border-radius: 2px;

  &:hover {
    color: var(--color-text-light);
    background-color: var(--color-layer-lighter);
  }

  ${({disabled:t})=>t&&B.b`
      cursor: not-allowed;

      &:hover {
        color: var(--color-text-dark);
        background-color: transparent;
      }
    `}
`,Ge.OrderbookStepSpan=B.c.span`
  ${W.e.size12}
  display: flex;
  flex: 1;
  justify-content: flex-end;
  align-items: center;
`,Ue.propTypes={isMarketsLoaded:w.a.bool,currentMarketConfig:w.a.object,currentMarketData:w.a.object,currentMarketZoomValues:w.a.array.isRequired,currentTradeData:w.a.object.isRequired,userOrders:w.a.array,buyOrders:w.a.array,sellOrders:w.a.array,totalOrderbookSize:w.a.object,recentlyRemovedOrders:w.a.array,isOrderbookLoaded:w.a.bool,isPageVisible:w.a.bool,orderbookVersion:w.a.number,spread:w.a.object,spreadPercent:w.a.object,setOrderbookZoomValue:w.a.func.isRequired,setTradeData:w.a.func.isRequired,stringGetter:w.a.func,userPreferences:w.a.object,zoomValue:w.a.number.isRequired,viewportDimensions:w.a.object},Ue.defaultProps={buyOrders:[],sellOrders:[]};var Ke=Object(z.c)(Object(M.c)(t=>({isMarketsLoaded:Object($.d)(t),currentMarketConfig:Object($.b)(t),currentMarketData:Object($.c)(t),currentMarketZoomValues:Object(ee.e)(t),currentTradeData:Object(Q.a)(t),userOrders:Object(X.c)(t),buyOrders:Object(ee.a)(t),sellOrders:Object(ee.b)(t),totalOrderbookSize:Object(ee.h)(t),recentlyRemovedOrders:Object(Z.f)(t),isOrderbookLoaded:Object(Z.c)(t),orderbookVersion:Object(Z.d)(t),spread:Object(ee.c)(t),spreadPercent:Object(ee.d)(t),userPreferences:Object(J.o)(t),zoomValue:Object(Z.e)(t)}),t=>Object(U.b)({setOrderbookZoomValue:Y.a,setTradeData:V.a},t))(Ue)),Be=a(596),ze=a.n(Be);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}let We;const OrderbookZoom=({tickSizeDecimals:t,top:r})=>{const a=_slicedToArray(Object(P.useState)(!1),2),i=a[0],l=a[1],c=Object(M.e)(),d=Object(M.f)(Z.e),u=Object(M.f)(ee.e),m=!!t||0===t;if(Object(P.useEffect)(()=>(i&&(We=setTimeout(()=>l(!1),400)),()=>{We&&clearTimeout(We)}),[i]),!u||!m)return null;const p=u[d];return x.a.createElement(He.ZoomColumn,{top:r},x.a.createElement(He.ZoomHeader,{highlight:i},x.a.createElement(N.a,{displayType:"text",value:Object(ie.b)(p).toFixed(t)})),x.a.createElement(He.ZoomButton,{disabled:0===d,role:"button",tabIndex:0,onClick:()=>{d>0&&(l(!0),c(Object(Y.a)(d-1)))}},x.a.createElement(He.ZoomButtonLabel,null,"-")),x.a.createElement(He.ZoomButton,{disabled:d===u.length-1,role:"button",tabIndex:0,onClick:()=>{d<u.length-1&&(l(!0),c(Object(Y.a)(d+1)))}},x.a.createElement(He.ZoomButtonLabel,null,"+")))},He={};He.ZoomColumn=B.c.div`
  display: flex;
  position: absolute;
  right: 20px;
  ${({top:t})=>t&&B.b`
      top: ${t}px;
    `}
  align-items: center;
`,He.ZoomHeader=B.c.span`
  ${W.e.size15}
  ${W.f.regular}
  margin-right: 4px;
  transition: 200ms color ease-out;

  ${({highlight:t})=>t?B.b`
          color: var(--color-text-base);
        `:B.b`
          color: var(--color-text-dark);
        `}
`,He.ZoomButtonLabel=B.c.span`
  ${W.e.size24}
  ${W.f.monoRegular}
  margin-bottom: 2px;
  user-select: none;
`,He.ZoomButton=B.c.div`
  color: var(--color-text-dark);
  background-color: var(--color-layer-light);
  width: 32px;
  height: 32px;
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: 8px;
  cursor: pointer;

  &:hover {
    color: var(--color-text-light);
    background-color: var(--color-layer-lighter);
  }

  ${({disabled:t})=>t&&B.b`
      cursor: not-allowed;

      &:hover {
        color: var(--color-text-dark);
        background-color: var(--color-layer-light);
      }
    `}
`,OrderbookZoom.propTypes={tickSizeDecimals:w.a.number,top:w.a.number};var qe=OrderbookZoom,Ye={componentOrderbook:"_1GDfzZF_f528QGQ4O75idM",loading:"_3SP7dkCbzNhwsoW92188ya",headerInfo:"zuipUF7zj5Tr6lpVFn6zI",colMobileHeader:"_1gA99f2X2uWI7uhOV2YXAw",spread:"_2kyJUJMSm3ILneOOqt9zXc",headerLabel:"Y6HP7nvGHtKbYsYx4kMjp",headerValue:"iYTHW2ihhUGbX6OGhZ585",orderbookHeader:"_356FU0K175I2M2vzIB34Dq",colHeader:"_3tc5RJqJxO90QoGrDCyf83",bookContainer:"_2fHHzirfO2X1ihgPlypa-A",book:"_3leH4UlijL6qEgx_SGorMJ",orders:"_3GCbN2fS-B30757ee8_P-G",buy:"K7us8b-_RfurM2N0TYqoz",order:"_1s0VQsNlQUNE6ZMwF_mXvN",row:"_3N1fUyGl5SK2B7P6vtPjk2",col:"_2jpxSUuVzoS_M2cIaTGw-E",bar:"_3xgE2ZiUqBL2MZdLXc7Lis",barOrderSize:"_1V2R1I7skmDU3QdEHpE8Ij",orderUpdated:"_26N-B5acPr-s0GAAn11SSt",colSize:"_5kwOuL6BaltkN1esd1z_1",colPrice:"m-AzQV8jRnKpG78ED4zYD","buy-order-updated":"_2rP6zdA6K8BGFY13vnHxZx",sell:"s5dTApBR7QCfSEJwIZvcs","sell-order-updated":"_3aEoWa11Npa74IuKP82jS9",orderRemoved:"_3Vp6J0tOOwOL1IZKYUxTZy","remove-order":"_1CxnO5RhDldHQvVcDKn-mC",spinner:"_3nbYCB9kQ2Xom6lot-wEVd",assetTag:"_2Iwyf_22YjjEAkV60Nv8Cc"};function orderbook_mobile_ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function orderbook_mobile_objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?orderbook_mobile_ownKeys(Object(a),!0).forEach((function(r){orderbook_mobile_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):orderbook_mobile_ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function orderbook_mobile_defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}const Ve={updatedOrderIds:[],animatingRemovedOrders:[],hasCenteredOrderbook:!1};class Ze extends P.Component{constructor(){super(),this.renderOrder=(t,r,a)=>{const i=this.state.updatedOrderIds,l=this.props,c=l.currentMarketZoomValues,d=l.setTradeData,u=l.currentMarketData,m=l.totalOrderbookSize,p=l.zoomValue,b=u||{},y=b.stepSize,g=b.tickSize,E=r.price,_=r.removed,h=r.size,T=r.side,v=r.totalSize,S=c[p],I=Object(ie.d)(y),k=Object(ie.d)(g),j=Object(ie.g)({number:h,factor:y,roundingMode:K.a.ROUND_UP}).toFixed(I),R=Object(ie.b)(j),A=Object(ie.g)({number:E,factor:S&&0!==p?S:g,roundingMode:T===ae.a.SELL||0!==p?K.a.ROUND_UP:K.a.ROUND_DOWN}).toFixed(k),P=L()(Ye.order,{[Ye.orderUpdated]:O()(i,E),[Ye.orderRemoved]:_}),D=Object(ie.b)(100).multipliedBy(Object(ie.b)(v).div(m)),C=D.toFixed(),w=D.multipliedBy(R.div(v)).toFixed();return x.a.createElement("div",{className:P,role:"button",tabIndex:0,key:a+t,onClick:()=>d({selectedTradeType:re.D.LIMIT,limitPriceInput:A})},x.a.createElement(x.a.Fragment,null,x.a.createElement("div",{className:Ye.barOrderSize,style:{width:Math.min(100,Math.max(1,Number(w)))+"px"}}),x.a.createElement("div",{className:Ye.bar,style:{width:Math.min(100,Math.max(1,C))+"px"}})),x.a.createElement("div",{className:Ye.row},x.a.createElement("div",{className:L()(Ye.col,Ye.colSize)},x.a.createElement(N.a,{thousandSeparator:!0,displayType:"text",value:j})),x.a.createElement("div",{className:L()(Ye.col,Ye.colPrice)},A)))},this.state=orderbook_mobile_objectSpread({},Ve),this.containerRef=x.a.createRef()}componentDidUpdate(t){const r=this.state.updatedOrderIds,a=this.props,i=a.currentMarketConfig,l=a.recentlyRemovedOrders,c=a.sellOrders,d=a.buyOrders,u=a.orderbookVersion,m=a.isPageVisible,p=a.userPreferences,b=(void 0===p?{}:p).orderbookAnimations,y=(void 0===b||b)&&m;if(t.orderbookVersion!==u){0===u&&this.setState(orderbook_mobile_objectSpread({},Ve));const t=I()([...d,...c],(t,{price:r,version:a})=>(0!==a&&a===u&&t.push(r),t),[]);if(y&&l.length>0){const t=Date.now();this.setState(({animatingRemovedOrders:r})=>{const a=v()(r,({animatedAt:r})=>t-r<400);return h()(l,r=>{r.market===i.market&&a.push(orderbook_mobile_objectSpread(orderbook_mobile_objectSpread({},r),{},{animatedAt:t}))}),{animatingRemovedOrders:a}}),setTimeout(()=>{this.containerRef&&this.setState(({animatingRemovedOrders:t})=>({animatingRemovedOrders:v()(t,t=>!E()(l,r=>t.price===r.price))}))},400)}if(t.length>0){this.setState({updatedOrderIds:[...r,...t]});const updateOrders=()=>{if(this.containerRef){const r=this.state.updatedOrderIds;this.setState({updatedOrderIds:v()(r,r=>!O()(t,r))})}};y?setTimeout(updateOrders,400):updateOrders()}}}renderOrders(t,r){if(!t)return null;const a=[];return b()(t,(t,i)=>a.push(this.renderOrder(i,t,r))),a}renderBook(){const t=this.props,r=t.currentMarketConfig,a=t.currentMarketData,i=t.currentMarketZoomValues,l=t.buyOrders,c=t.sellOrders,u=t.spread,p=t.spreadPercent,b=t.stringGetter,y=t.zoomValue,O=this.state.animatingRemovedOrders,g=this.props.isMobile,E=g?11:17,_=(a||{}).tickSize,h=Object(ie.d)(_);let T=[...l],v=[...c];const S={},I={},k=i[y];O.forEach(t=>{const r=t.price,a=t.side,i=t.size,l=Object(ie.g)({number:r,factor:k&&0!==y?k:_,roundingMode:a===ae.a.SELL||0!==y?K.a.ROUND_UP:K.a.ROUND_DOWN}).toString(),c=Object(ie.b)(i);if(a===ae.a.BUY)if(S[l]&&0!==y){const t=S[l],r=t.size,a=t.totalSize,i=Object(ie.b)(a).plus(c);S[l].size=Object(ie.b)(r).plus(c),S[l].totalSize=i,S[l].totalSizeFixed=i.toFixed()}else S[l]=orderbook_mobile_objectSpread(orderbook_mobile_objectSpread({},t),{},{removed:!0});else if(I[l]&&0!==y){const t=I[l],r=t.size,a=t.totalSize,i=Object(ie.b)(a).plus(c);I[l].size=Object(ie.b)(r).plus(c),I[l].totalSize=i,I[l].totalSizeFixed=i.toFixed()}else I[l]=orderbook_mobile_objectSpread(orderbook_mobile_objectSpread({},t),{},{removed:!0})}),T=T.concat(Object.values(S)),v=v.concat(Object.values(I)),l.length!==T.length&&(T=m()(T,t=>parseFloat(t.price,10))),c.length!==v.length&&(v=m()(v,t=>parseFloat(t.price,10)));const j=u&&u.toFixed(h)||"-";return T.length>E&&(T=d()(T,Math.max(T.length-E,0),T.length)),v=ze()(v),v.length>E&&(v=d()(v,Math.max(v.length-E,0),v.length)),x.a.createElement(x.a.Fragment,null,x.a.createElement("div",{className:Ye.headerInfo},x.a.createElement("div",{className:L()(Ye.colMobileHeader,Ye.spread)},x.a.createElement("div",{className:Ye.headerLabel},b({key:te.a.ORDERBOOK_SPREAD})),x.a.createElement("div",{className:L()(Ye.spreadValue,Ye.headerValue)},x.a.createElement(N.a,{thousandSeparator:!0,prefix:"$",displayType:"text",value:j})," ",x.a.createElement($e.SpreadPercentSpan,null,p&&x.a.createElement(N.a,{thousandSeparator:!0,prefix:"(",suffix:"%)",displayType:"text",value:p.times(100).abs().toFixed(ne.d,K.a.ROUND_UP)})))),x.a.createElement(qe,{tickSizeDecimals:h,top:g?11:null})),x.a.createElement("div",{className:Ye.orderbookHeader},x.a.createElement("div",{className:L()(Ye.colHeader,Ye.bidPrice)},b({key:te.a.ORDERBOOK_BID_PRICE})+" "),x.a.createElement("div",{className:L()(Ye.colHeader,Ye.orderSize)},b({key:te.a.ORDERBOOK_ORDER_SIZE})+" ",x.a.createElement(q.a,{compact:!0,className:Ye.assetTag},r.baseSymbol)),x.a.createElement("div",{className:L()(Ye.colHeader,Ye.askPrice)},b({key:te.a.ORDERBOOK_ASK_PRICE}))),x.a.createElement("div",{className:Ye.bookContainer},x.a.createElement("div",{className:Ye.book},x.a.createElement("div",{className:L()(Ye.orders,Ye.buy)},this.renderOrders(T,ae.a.BUY))),x.a.createElement("div",{className:Ye.book},x.a.createElement("div",{className:L()(Ye.orders,Ye.sell)},this.renderOrders(v,ae.a.SELL)))))}render(){const t=this.props,r=t.isOrderbookLoaded,a=t.isMarketsLoaded;return x.a.createElement("div",{className:Ye.componentOrderbook},r&&a?this.renderBook():x.a.createElement(H.a,{className:Ye.spinner}))}}const $e={};$e.SpreadPercentSpan=B.c.span`
  color: var(--color-text-base);
  margin-left: 2px;
`,Ze.propTypes={isMarketsLoaded:w.a.bool,currentMarketConfig:w.a.object,currentMarketData:w.a.object,currentMarketZoomValues:w.a.array.isRequired,buyOrders:w.a.array,sellOrders:w.a.array,totalOrderbookSize:w.a.object,recentlyRemovedOrders:w.a.array,isMobile:w.a.bool,isPageVisible:w.a.bool,isOrderbookLoaded:w.a.bool,orderbookVersion:w.a.number,spread:w.a.object,spreadPercent:w.a.object,setTradeData:w.a.func.isRequired,stringGetter:w.a.func,userPreferences:w.a.object,zoomValue:w.a.number.isRequired},Ze.defaultProps={buyOrders:[],sellOrders:[]};var Xe=Object(z.c)(Object(M.c)(t=>({isMarketsLoaded:Object($.d)(t),currentMarketConfig:Object($.b)(t),currentMarketData:Object($.c)(t),currentMarketZoomValues:Object(ee.e)(t),buyOrders:Object(ee.a)(t),sellOrders:Object(ee.b)(t),totalOrderbookSize:Object(ee.h)(t),recentlyRemovedOrders:Object(Z.f)(t),isOrderbookLoaded:Object(Z.c)(t),orderbookVersion:Object(Z.d)(t),spread:Object(ee.c)(t),spreadPercent:Object(ee.d)(t),userPreferences:Object(J.o)(t),zoomValue:Object(Z.e)(t)}),t=>Object(U.b)({setTradeData:V.a},t))(Ze))},1885:function(t,r,a){"use strict";var i=a(465),l=a.n(i),c=a(599),d=a.n(c),u=a(16),m=a.n(u),p=a(2),b=a.n(p),y=a(0),O=a.n(y),g=a(91),E=a(10),_=a(61),h=a(9),T=a(4),v=a(32),S=a(15),I=a(282),k=a(601),j=a(127),R=a(55),A=a(62),P=a(56),x=a(1750),N=a(76),D=a(1),L=a(13),C=a(30),w=a(24),M=a(42),U=a(606),G=a(8),K=a(68),B=a(17),z="OAkslzXxvtnLzmoNZmsLt",W="_30_dV41WvMclCi77kevilg",H="_3kxlwrAELU8bAzRcWY5C4U",q="_30CFAEwoCaJLtTWSr1YyU4",Y="FBt8qvP79qHbiEK82rR2D",V="_3pGruZPfSWgYmRnxWilCnw",Z="_3TcfXW9zOvs5Y857gZVxgv",$="_3Bx-FZIaBbVKssHb-LYGou",X="AZo34VCmA4oZOJ3Yp3mqn",Q="_2JsEUUssaQhHp3oz89-xZs",J="_2--YeWeGbEUMgsw9R2DY3k",ee="_2cyXv8wkNUlu1jK7ew9mbh",te="_3StR6TTgk24jFt7er0ultP",re="_2t_9_doDTgWfPI9mUDyyMA",ae="_2yRu-Q8Rjc-0Cqngkj3KIJ",ne="_1mz8Nb45MGIqQucIDzrj_R",ie="_3lyImX_3S3UWyZKEDByqGI",oe="_2XlBSro5H_oBYLrOzZWfdk",le="JHTyneF4BSYv66DAW_eK2",ce="_35wCd7NBCfp6uDJEFtphF9",se="_1SubHz9kmXqDqWGxY8nyh3",de=a(1914),ue=a(373),me=a(284),pe=a(602),be="_1SXDratzN8ZhozmiMfrg-G",ye="oCok9Dp9E4v06SeoRPDEa",fe="_2US2KZe-5VFQGvw4qs5J-u",Oe="_2NDJOGLmdhptKbA-MmpTgv",ge="nCsEG3NmiXi6RVhdny4RJ",Ee="_175D7iQVbwwXn9m7oLZUrw",_e="_3AJmdbV3Q7vq9FA_nrmQ25",he="Q78pi88vl35J16Bk-tvyU",Te="_3y_t4wYVJzHLYMARLPUNNd",ve="ImriLdngBwCitOpu6_kc2",Se="_1Y3IL0J7XGRyDiPX5l4OuU",Ie="_20BTVYU6rZFgkEphFYMQM4";const MarketStatsMenuItem=({menuItem:t,index:r,label:a,onCheckboxInteraction:i})=>O.a.createElement("div",{className:Te,title:a,key:t.key},O.a.createElement(pe.a,{checked:t.isVisible,onClick:()=>i(r),className:ve}),O.a.createElement("div",{className:Se},a),O.a.createElement("div",{className:Ie},O.a.createElement(S.M,null)));MarketStatsMenuItem.propTypes={index:b.a.number.isRequired,label:b.a.string.isRequired,menuItem:b.a.object.isRequired,onCheckboxInteraction:b.a.func.isRequired};var ke=MarketStatsMenuItem;function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}let je=!1;const MarketStatsMenu=({onCheckboxInteraction:t,onSaveMarketStats:r,statsList:a,setStatsList:i,stringGetter:l})=>{const c=Object(y.useRef)(),d=Object(y.useRef)(),u=_slicedToArray(Object(y.useState)(!1),2),p=u[0],b=u[1],g=Object(K.f)();Object(K.i)({onClickOutside:t=>{p&&!je&&t.target!==d.current&&b(!p)},ref:c,dependencies:[p,je]}),Object(y.useEffect)(()=>{g||p||r()},[p]),Object(y.useEffect)(()=>()=>{je=!1},[]);return O.a.createElement("div",{className:be},O.a.createElement("div",{ref:d,className:m()(ye,{[fe]:p}),role:"button",onClick:()=>b(!p),tabIndex:0},"+"),p&&O.a.createElement("div",{className:Oe,ref:c},O.a.createElement("div",{className:ge},O.a.createElement(me.a,{textDark:!0,label:l({key:D.a.VIEW_OPTIONS})},c.current?O.a.createElement(de.List,{container:c.current,values:a,onChange:({oldIndex:t,newIndex:r})=>i(Object(de.arrayMove)(a,t,r)),renderList:({children:t,props:r,isDragged:a})=>(je=a,O.a.createElement("ul",r,t)),renderItem:({value:r,props:a,index:i,isDragged:c})=>{const d=a.style;return O.a.createElement("li",_extends({},a,{className:m()(_e,{[he]:c}),style:_objectSpread({},d)}),((r,a)=>O.a.createElement(ke,{key:r.key,index:a,menuItem:r,label:l({key:D.a[r.key]}),onCheckboxInteraction:t}))(r,i))}}):O.a.createElement("div",{className:Ee},O.a.createElement(ue.a,{compact:!0}))))))};MarketStatsMenu.propTypes={onCheckboxInteraction:b.a.func.isRequired,onSaveMarketStats:b.a.func.isRequired,statsList:b.a.array.isRequired,setStatsList:b.a.func.isRequired,stringGetter:b.a.func.isRequired};var Re=Object(v.c)(MarketStatsMenu),Ae=a(1810);const NextFundingModule=({stringGetter:t})=>{const r=Object(K.a)({updateInterval:1e3}),a=Object(Ae.a)({currentTimestamp:r});return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:oe},t({key:D.a.NEXT_FUNDING})),O.a.createElement("div",{className:le},a))};NextFundingModule.propTypes={stringGetter:b.a.func.isRequired};var Pe=Object(v.c)(NextFundingModule);function asyncGeneratorStep(t,r,a,i,l,c,d){try{var u=t[c](d),m=u.value}catch(p){return void a(p)}u.done?r(m):Promise.resolve(m).then(i,l)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,l){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,l,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,l,_next,_throw,"throw",t)}_next(void 0)}))}}function market_selector_and_stats_ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function market_selector_and_stats_defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function market_selector_and_stats_slicedToArray(t,r){return function market_selector_and_stats_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function market_selector_and_stats_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function market_selector_and_stats_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return market_selector_and_stats_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return market_selector_and_stats_arrayLikeToArray(t,r)}(t,r)||function market_selector_and_stats_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function market_selector_and_stats_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const MarketSelectorAndStats=({currentMarketConfig:t,currentMarketData:r,isMarketSelectionMenuOpen:a,midMarketPrice:i,preferences:c,setIsMarketSelectionMenuOpen:u,stringGetter:p,updateUser:b})=>{const E=market_selector_and_stats_slicedToArray(Object(y.useState)(null),2),_=E[0],h=E[1],v=market_selector_and_stats_slicedToArray(Object(y.useState)(null),2),j=v[0],R=v[1],A=market_selector_and_stats_slicedToArray(Object(y.useState)(Object.keys(L.l).map(t=>({key:t,isVisible:!0}))),2),P=A[0],x=A[1],B=t||{},ne=B.market,oe=B.baseSymbol,le=B.baseSymbolName,de=market_selector_and_stats_slicedToArray(Object(K.t)(),1)[0].includes(ne);Object(y.useEffect)(()=>{_&&_.eq(i)||(R(_),h(i))},[i]);const getStoredMarketStatsVisibilityInfo=()=>{var t;const r=Object(M.b)({key:M.a.MARKET_STATS_VISIBILITY}),a=(null===c||void 0===c||null===(t=c.marketStatsVisibility)||void 0===t?void 0:t.map(t=>function market_selector_and_stats_objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?market_selector_and_stats_ownKeys(Object(a),!0).forEach((function(r){market_selector_and_stats_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):market_selector_and_stats_ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}({},t)))||r||Object.keys(L.l).map(t=>({key:t,isVisible:!0}));return{shouldUpdateLocalStorage:!d()(r,a),marketStats:a}};Object(y.useEffect)(()=>{const t=getStoredMarketStatsVisibilityInfo(),r=t.marketStats,a=t.shouldUpdateLocalStorage;x(r),a&&Object(M.d)({key:M.a.MARKET_STATS_VISIBILITY,value:r})},[c]);const ue=r||{},me=ue.indexPrice,pe=ue.nextFundingRate,be=ue.openInterest,ye=ue.oraclePrice,fe=ue.priceChange24H,Oe=ue.tickSize,ge=ue.trades24H,Ee=ue.volume24H,_e=Object(U.a)({indexPrice:me,priceChange24H:fe}),he=Object(G.d)(Oe),Te=l()(_asyncToGenerator((function*(){const t=getStoredMarketStatsVisibilityInfo().marketStats;if(Object(M.d)({key:M.a.MARKET_STATS_VISIBILITY,value:P}),!d()(P,t)&&c)try{const t=(yield C.c.updateUser({userData:{preferences:{[T.k.MarketStatsVisibility]:P}}})).user;b(t)}catch(r){w.b.notify({error:r,location:w.a.UPDATE_MARKET_STATS})}})),500);return O.a.createElement("div",{className:z},O.a.createElement("div",{role:"button",tabIndex:0,className:W,onClick:()=>u(!a)},O.a.createElement("div",{className:H},a?O.a.createElement("span",{className:q},p({key:D.a.SELECT_MARKET})):O.a.createElement("span",null,de&&O.a.createElement(xe.StarIcon,null),O.a.createElement(I.a,{medium:!0,className:Y,symbol:oe}),O.a.createElement("span",{className:V},O.a.createElement("span",{className:Z},le),O.a.createElement("span",{className:$},ne))),O.a.createElement("span",{className:m()(X,{[Q]:a})},O.a.createElement("span",null,p({key:a?D.a.TAP_TO_CLOSE:D.a.ALL_MARKETS})),O.a.createElement(S.Ib,null)))),O.a.createElement("div",{className:J},O.a.createElement("div",{className:ee},O.a.createElement("span",{className:m()(te,{[ce]:j&&j.lt(i),[se]:j&&j.gt(i)})},i?O.a.createElement(g.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:i.toFixed(he)}):"-"),_e&&O.a.createElement("span",{className:m()(re,{[ce]:_e.gt(0),[se]:_e.lt(0)})},O.a.createElement(k.a,{marginRight:!0,positive:_e.gt(0),negative:_e.lt(0)}),O.a.createElement(g.a,{thousandSeparator:!0,displayType:"text",suffix:"%",value:_e.abs().times(100).toFixed(N.d)}))),O.a.createElement("div",{className:ae},P.map((t,r)=>{const a=renderInfoModule({baseSymbol:oe,indexPrice:me,moduleKey:t.key,nextFundingRate:pe,openInterest:be,oraclePrice:ye,priceChange24H:fe,statsList:P,stringGetter:p,tickDecimals:he,trades24H:ge,volume24H:Ee,idx:r});return a?O.a.createElement("div",{key:t.key,className:ie},a):null})),O.a.createElement(Re,{onCheckboxInteraction:t=>{const r=[...P];r[t].isVisible=!r[t].isVisible,x(r)},statsList:P,setStatsList:x,onSaveMarketStats:Te})))},renderInfoModule=({baseSymbol:t,indexPrice:r,moduleKey:a,nextFundingRate:i,openInterest:l,oraclePrice:c,priceChange24H:d,statsList:u,stringGetter:p,tickDecimals:b,trades24H:y,volume24H:E,idx:_})=>{if(!u[_].isVisible)return null;switch(a){case L.l.INDEX_PRICE:return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:oe},p({key:D.a.INDEX_PRICE})),O.a.createElement("div",{className:le},r?O.a.createElement(g.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(G.b)(r).toFixed(b||N.h)}):"-"));case L.l.ORACLE_PRICE:return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:oe},p({key:D.a.ORACLE_PRICE})),O.a.createElement("div",{className:le},c?O.a.createElement(g.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(G.b)(c).toFixed(b||N.h)}):"-"));case L.l.CHANGE_24H:{const t=Object(G.b)(d),a=Object(U.a)({indexPrice:r,priceChange24H:d});return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:oe},p({key:D.a.CHANGE_24H})),O.a.createElement("div",{className:m()(le,{[ce]:t.gt(0),[se]:t.lt(0)})},d&&r?O.a.createElement(O.a.Fragment,null,O.a.createElement(k.a,{marginRight:!0,positive:t.gt(0),negative:t.lt(0)}),O.a.createElement(g.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:t.abs().toFixed(b||N.h)}),O.a.createElement("span",{className:ne},"(",O.a.createElement(g.a,{thousandSeparator:!0,displayType:"text",suffix:"%",value:a.abs().times(100).toFixed(N.d)}),")")):"-"))}case L.l.VOLUME_24H:return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:oe},p({key:D.a.VOLUME_24H})),O.a.createElement("div",{className:le},E?O.a.createElement(g.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(G.b)(E).toFixed(0)}):"-"));case L.l.TRADES_24H:return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:oe},p({key:D.a.TRADES_24H})),O.a.createElement("div",{className:le},y?O.a.createElement(g.a,{thousandSeparator:!0,displayType:"text",value:y}):"-"));case L.l.OPEN_INTEREST:return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:oe},p({key:D.a.OPEN_INTEREST})),O.a.createElement("div",{className:le},l?O.a.createElement(O.a.Fragment,null,O.a.createElement(g.a,{thousandSeparator:!0,displayType:"text",value:Object(G.b)(l).toFixed(N.b)}),O.a.createElement(j.a,{marginLeft:!0,compact:!0},t)):"-"));case L.l.FUNDING_RATE:{const t=Object(G.b)(i);return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:oe},p({key:D.a.FUNDING_RATE_1H_SHORT})),O.a.createElement("div",{className:m()(le,{[ce]:t.gt(0),[se]:t.lt(0)})},i?O.a.createElement(g.a,{thousandSeparator:!0,displayType:"text",suffix:"%",value:t.times(100).toFixed(N.f)}):"-"))}case L.l.NEXT_FUNDING:return O.a.createElement(Pe,null);default:return null}};MarketSelectorAndStats.propTypes={currentMarketConfig:b.a.object.isRequired,currentMarketData:b.a.object,isMarketSelectionMenuOpen:b.a.bool.isRequired,midMarketPrice:b.a.object,preferences:b.a.object,setIsMarketSelectionMenuOpen:b.a.func.isRequired,stringGetter:b.a.func.isRequired,updateUser:b.a.func.isRequired};r.a=Object(v.c)(Object(E.c)(t=>({currentMarketConfig:Object(A.b)(t),currentMarketData:Object(A.c)(t),midMarketPrice:Object(x.f)(t),preferences:Object(P.o)(t)}),t=>Object(_.b)({updateUser:R.i},t))(MarketSelectorAndStats));const xe={};xe.StarIcon=Object(h.c)(S.Ab)`
  margin-right: 9px;

  & * {
    fill: var(--color-yellow);
    stroke: var(--color-yellow);
  }

  @media ${B.a.tablet} {
    display: none;
  }
`},1889:function(t,r,a){"use strict";a.d(r,"a",(function(){return K}));var i=a(0),l=a.n(i),c=a(9),d=a(10),u=a(1842),m=a.n(u),p=a(1921),b=a(2164),y=a(2174),O=a(2175),g=a(2192),E=a(2178),_=a(2170),h=a(1750),T=a(62),v=a(327),S=a(32),I=a(68),k=a(91),j=a(127),R=a(8),A=a(1),P=a(69),x=a(76),N=a(17),D=a(2193),L=a(2042),C=a(1766),w=a(1843);function getScaleBandwidth(t){var r;return t&&"bandwidth"in t&&null!==(r=null===t||void 0===t?void 0:t.bandwidth())&&void 0!==r?r:0}function isValidNumber(t){return null!=t&&"number"===typeof t&&!Number.isNaN(t)&&Number.isFinite(t)}function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _objectWithoutProperties(t,r){if(null==t)return{};var a,i,l=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var a,i,l={},c=Object.keys(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||(l[a]=t[a]);return l}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(l[a]=t[a])}return l}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}const M={position:"absolute",pointerEvents:"none",fontSize:0,lineHeight:0};function DefaultGlyph(t){const r=(Object(i.useContext)(C.a)||{}).theme;return l.a.createElement("circle",_extends({cx:t.x,cy:t.y,r:t.size,fill:t.color,stroke:null===r||void 0===r?void 0:r.backgroundColor,strokeWidth:1.5,paintOrder:"fill"},t.glyphStyle))}function defaultRenderGlyph(t){return l.a.createElement(DefaultGlyph,t)}function ChartTooltip(t){const r=Object(i.useContext)(w.a);return null!==r&&void 0!==r&&r.tooltipOpen?l.a.createElement(TooltipInner,t):null}function TooltipInner(t){var r,a,c,d,u,m,p,b,y,O,g,E,_,h,T,v,S,I,k,j,R;let A=t.containerHeight,P=t.containerWidth,x=t.horizontalCrosshairStyle,N=t.glyphStyle,U=t.renderTooltip,G=t.renderGlyph,K=void 0===G?defaultRenderGlyph:G,B=t.showDatumGlyph,z=void 0!==B&&B,W=t.showHorizontalCrosshair,H=void 0!==W&&W,q=t.showSeriesGlyphs,Y=void 0!==q&&q,V=t.showVerticalCrosshair,Z=void 0!==V&&V,$=t.snapTooltipToDatumX,X=void 0!==$&&$,Q=t.snapTooltipToDatumY,J=void 0!==Q&&Q,ee=t.verticalCrosshairStyle,te=_objectWithoutProperties(t,["containerHeight","containerWidth","horizontalCrosshairStyle","glyphStyle","renderTooltip","renderGlyph","showDatumGlyph","showHorizontalCrosshair","showSeriesGlyphs","showVerticalCrosshair","snapTooltipToDatumX","snapTooltipToDatumY","verticalCrosshairStyle"]);const re=Object(i.useContext)(C.a)||{},ae=re.colorScale,ne=re.theme,ie=re.innerHeight,oe=re.innerWidth,le=re.margin,ce=re.xScale,se=re.yScale,de=re.dataRegistry,ue=Object(i.useContext)(w.a),me=null!==ue&&void 0!==ue&&ue.tooltipOpen?U(_objectSpread(_objectSpread({},ue),{},{colorScale:ae})):null,pe=(null===ue||void 0===ue?void 0:ue.tooltipOpen)&&null!=me,be=Object(i.useRef)(!1);Object(i.useEffect)(()=>{be.current=pe},[pe]);let ye=null===ue||void 0===ue?void 0:ue.tooltipLeft,fe=null===ue||void 0===ue?void 0:ue.tooltipTop;const Oe=ce?getScaleBandwidth(ce):0,ge=se?getScaleBandwidth(se):0,Ee=Object(i.useCallback)((t,r)=>{var a,i;const l=null===de||void 0===de?void 0:de.get(t),c=null===l||void 0===l?void 0:l.xAccessor,d=null===l||void 0===l?void 0:l.yAccessor;return{left:ce&&c?null!==(a=Number(ce(c(r)))+Oe/2)&&void 0!==a?a:0:void 0,top:se&&d?null!==(i=Number(se(d(r)))+ge/2)&&void 0!==i?i:0:void 0}},[de,Oe,ge,ce,se]),_e=null===ue||void 0===ue||null===(r=ue.tooltipData)||void 0===r?void 0:r.nearestDatum,he=null!==(a=null===_e||void 0===_e?void 0:_e.key)&&void 0!==a?a:"";if(pe&&_e&&(X||J)){const t=Ee(he,_e.datum),r=t.left,a=t.top;ye=X&&isValidNumber(r)?r:ye,fe=J&&isValidNumber(a)?a:fe}const Te=[];if(pe&&(z||Y)){var ve;const t=Number(null!==(ve=null===N||void 0===N?void 0:N.radius)&&void 0!==ve?ve:4);var Se,Ie;if(Y)Object.values(null!==(Se=null===ue||void 0===ue||null===(Ie=ue.tooltipData)||void 0===Ie?void 0:Ie.datumByKey)&&void 0!==Se?Se:{}).forEach(({key:r,datum:a,index:i})=>{var l,c,d;const u=null!==(l=null!==(c=null===ae||void 0===ae?void 0:ae(r))&&void 0!==c?c:null===ne||void 0===ne||null===(d=ne.htmlLabel)||void 0===d?void 0:d.color)&&void 0!==l?l:"#222",m=Ee(r,a),p=m.left,b=m.top;isValidNumber(p)&&isValidNumber(b)&&Te.push({key:r,color:u,datum:a,index:i,size:t,x:p,y:b,glyphStyle:N,isNearestDatum:!!_e&&_e.key===r})});else if(_e){const r=Ee(he,_e.datum),a=r.left,i=r.top;if(isValidNumber(a)&&isValidNumber(i)){var ke,je,Re,Ae,Pe,xe;const r=null!==(ke=null!==(je=null!==(Re=null!==(Ae=he&&(null===ae||void 0===ae?void 0:ae(he)))&&void 0!==Ae?Ae:null)&&void 0!==Re?Re:null===ne||void 0===ne||null===(Pe=ne.gridStyles)||void 0===Pe?void 0:Pe.stroke)&&void 0!==je?je:null===ne||void 0===ne||null===(xe=ne.htmlLabel)||void 0===xe?void 0:xe.color)&&void 0!==ke?ke:"#222";Te.push({key:he,color:r,datum:_e.datum,index:_e.index,size:t,x:a,y:i,glyphStyle:N,isNearestDatum:!0})}}}const Ne=document.getElementById("depth-chart-tooltip-content");fe-=120,fe=Math.max(Math.min(fe,A-(null!==(c=null===le||void 0===le?void 0:le.bottom)&&void 0!==c?c:0)-(null!==(d=null===le||void 0===le?void 0:le.top)&&void 0!==d?d:0)-(null!==(u=null===Ne||void 0===Ne?void 0:Ne.clientHeight)&&void 0!==u?u:0)),null!==(m=null===le||void 0===le?void 0:le.top)&&void 0!==m?m:0);const De=Math.max(Math.min(ye,P-(null!==(p=null===le||void 0===le?void 0:le.left)&&void 0!==p?p:0)-(null!==(b=null===le||void 0===le?void 0:le.right)&&void 0!==b?b:0)-(null!==(y=null===Ne||void 0===Ne?void 0:Ne.clientWidth)&&void 0!==y?y:0)),null!==(O=null===le||void 0===le?void 0:le.left)&&void 0!==O?O:0);return l.a.createElement("foreignObject",{style:{left:0,top:0,width:"100%",height:"100%"}},pe&&l.a.createElement(l.a.Fragment,null,Z&&l.a.createElement(D.a,{className:"visx-crosshair visx-crosshair-vertical",left:ye,top:null===le||void 0===le?void 0:le.top,offsetLeft:0,offsetTop:0,detectBounds:!1,style:M},l.a.createElement("svg",{width:"1",height:ie,overflow:"visible"},l.a.createElement("line",_extends({x1:0,x2:0,y1:0,y2:ie,strokeWidth:1.5,stroke:null!==(g=null!==(E=null===ne||void 0===ne||null===(_=ne.gridStyles)||void 0===_?void 0:_.stroke)&&void 0!==E?E:null===ne||void 0===ne||null===(h=ne.htmlLabel)||void 0===h?void 0:h.color)&&void 0!==g?g:"#222"},ee)))),H&&l.a.createElement(D.a,{className:"visx-crosshair visx-crosshair-horizontal",left:null===le||void 0===le?void 0:le.left,top:fe,offsetLeft:0,offsetTop:0,detectBounds:!1,style:M},l.a.createElement("svg",{width:oe,height:"1",overflow:"visible"},l.a.createElement("line",_extends({x1:0,x2:oe,y1:0,y2:0,strokeWidth:1.5,stroke:null!==(T=null!==(v=null===ne||void 0===ne||null===(S=ne.gridStyles)||void 0===S?void 0:S.stroke)&&void 0!==v?v:null===ne||void 0===ne||null===(I=ne.htmlLabel)||void 0===I?void 0:I.color)&&void 0!==T?T:"#222"},x)))),"MidMarket"!==he&&Te.map((t,r)=>{let a=t.x,i=t.y,c=_objectWithoutProperties(t,["x","y"]);return l.a.createElement(D.a,{key:r,className:"visx-tooltip-glyph",left:a,top:i,offsetLeft:0,offsetTop:0,detectBounds:!1,style:M},l.a.createElement("svg",{overflow:"visible",width:"1",height:"1"},K(_objectSpread({x:0,y:0},c))))}),l.a.createElement(L.a,_extends({left:De,top:fe,style:_objectSpread(_objectSpread({},L.b),{},{background:null!==(k=null===ne||void 0===ne?void 0:ne.backgroundColor)&&void 0!==k?k:"white",boxShadow:"0 1px 2px "+(null!==ne&&void 0!==ne&&null!==(j=ne.htmlLabel)&&void 0!==j&&j.color?(null===ne||void 0===ne||null===(R=ne.htmlLabel)||void 0===R?void 0:R.color)+"55":"#22222255")},null===ne||void 0===ne?void 0:ne.htmlLabel)},te),me)))}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function DepthChart_ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function DepthChart_objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?DepthChart_ownKeys(Object(a),!0).forEach((function(r){DepthChart_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):DepthChart_ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function DepthChart_defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}const U=Object(p.a)(DepthChart_objectSpread(DepthChart_objectSpread({},b.a),{},{colors:["var(--color-green)","var(--color-red)","white"]})),clamp=(t,r,a)=>Math.max(r,Math.min(a,t));var G;!function(t){t.Buys="Buys",t.Sells="Sells",t.MidMarket="MidMarket"}(G||(G={}));const K=Object(S.c)(({stringGetter:t,selectedLocale:r})=>{var a,c,u;const p=Object(I.b)().isMobile,b=Object(d.f)(h.g).filter(t=>t),S=Object(d.f)(v.a),j=Object(d.f)(v.b),N=null!==(a=Object(d.f)(T.c))&&void 0!==a?a:{},D=N.market,L=N.tickSize,C=N.stepSize,w=(null!==(c=P.c[D])&&void 0!==c?c:{}).baseSymbol,M=Object(R.b)(null!==(u=Object(d.f)(h.f))&&void 0!==u?u:0).toNumber(),K=(Object(d.f)(h.c),Object(d.f)(h.d),_slicedToArray(Object(i.useState)(),2)),z=K[0],W=K[1];if(Object(i.useEffect)(()=>{M?z||W(.015*M):W(void 0)},[M]),!z||null===S||void 0===S||!S.length||null===j||void 0===j||!j.length)return null;const H=S[0],q=S[S.length-1],Y=j[0],V=j[j.length-1],onDepthChartZoom=({deltaY:t,wheelDelta:r=t})=>{W(clamp(Math.max(1e-320,Math.min(Number.MAX_SAFE_INTEGER,z*Math.exp(r/1e3))),Math.min(M-q.price,Y.price-M),Math.max(M-H.price,V.price-M)))},Z=[clamp(M-z,0,S[S.length-1].price),clamp(M+z,j[0].price,j[j.length-1].price)],$=[0,b.filter(t=>t.price>=Z[0]&&t.price<=Z[1]).map(t=>t.totalBuySize||t.totalSellSize||0).reduce((t,r)=>Math.max(t,r),0)];return l.a.createElement(m.a,null,({width:a,height:i})=>l.a.createElement(B.Container,{onWheel:onDepthChartZoom},l.a.createElement(y.a,{theme:U,margin:{left:16,right:16,top:20,bottom:32},xScale:{type:"linear",clamp:!1,nice:!1,zero:!1,domain:Z},yScale:{type:"linear",clamp:!0,nice:!0,zero:!0,domain:$}},l.a.createElement(O.a,{orientation:"bottom",numTicks:5,tickFormat:t=>((t,r,a=t>=1e4)=>{const i=Intl.NumberFormat(r).format(t),l=Intl.NumberFormat(r,{compactDisplay:"short",notation:"compact",minimumSignificantDigits:2}).format(t);return a&&l.length<i.length?l:i})(t,r,z>=500)}),l.a.createElement(g.a,{numTicks:4,lineStyle:{stroke:"var(--color-border-grey)",strokeWidth:"1px"}}),l.a.createElement(E.a,{dataKey:G.Buys,data:[...b.filter(t=>t.totalBuySize),DepthChart_objectSpread(DepthChart_objectSpread({},[...b].reverse().find(t=>t.totalBuySize)),{},{y:0})],xAccessor:t=>null===t||void 0===t?void 0:t.price,yAccessor:t=>"y"in t?t.y:null===t||void 0===t?void 0:t.totalBuySize,curve:_.b,lineProps:{strokeWidth:1.5},fillOpacity:.2}),l.a.createElement(E.a,{dataKey:G.Sells,data:[DepthChart_objectSpread(DepthChart_objectSpread({},b.find(t=>t.totalSellSize)),{},{y:0}),...b.filter(t=>t.totalSellSize)],xAccessor:t=>null===t||void 0===t?void 0:t.price,yAccessor:t=>"y"in t?t.y:null===t||void 0===t?void 0:t.totalSellSize,curve:_.a,lineProps:{strokeWidth:1.5},fillOpacity:.2}),l.a.createElement(E.a,{dataKey:G.MidMarket,data:[{price:M,size:0,cost:0,y:2*$[1]},{price:M,size:0,cost:0,y:0}],enableEvents:!1,lineProps:{strokeWidth:.25},xAccessor:t=>null===t||void 0===t?void 0:t.price,yAccessor:t=>null===t||void 0===t?void 0:t.y,y0Accessor:()=>0}),(({containerHeight:r,containerWidth:a})=>l.a.createElement(ChartTooltip,{unstyled:!0,applyPositionStyle:!0,containerHeight:r,containerWidth:a,horizontalCrosshairStyle:{strokeWidth:1,strokeDasharray:"5 5",opacity:.7},glyphStyle:{radius:6,opacity:.8},showVerticalCrosshair:!0,snapTooltipToDatumX:!0,snapTooltipToDatumY:p,showDatumGlyph:!0,renderTooltip:({tooltipData:r,colorScale:a})=>{const i=(r||{}).nearestDatum;if(!i)return null;const c=i.datum,d=c.price,u=c.cost,m=c.totalBuySize,p=c.totalSellSize;let b;if(m&&null!==S&&void 0!==S&&S.length){const t=S[S.length-1].price;b=Object(R.b)(t).minus(d).div(t)}else if(p&&null!==j&&void 0!==j&&j.length){const t=j[0].price;b=Object(R.b)(d).minus(t).div(t)}const y=Object(R.d)(L);return l.a.createElement(B.TooltipContent,{id:"depth-chart-tooltip-content",tooltipColor:null===a||void 0===a?void 0:a(i.key)},l.a.createElement("div",null,l.a.createElement("dt",null,t({key:A.a.PRICE})),l.a.createElement("dd",null,l.a.createElement(k.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(R.b)(d).toFixed(y)}))),l.a.createElement("div",null,l.a.createElement("dt",null,t({key:A.a.TOTAL_SIZE}),l.a.createElement(B.Tag,{marginLeft:!0},w)),l.a.createElement("dd",null,l.a.createElement(k.a,{thousandSeparator:!0,displayType:"text",value:Object(R.b)(m||p||0).toFixed(Object(R.d)(C))}))),l.a.createElement("div",null,l.a.createElement("dt",null,t({key:A.a.TOTAL_COST})),l.a.createElement("dd",null,l.a.createElement(k.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(R.b)(u).toFixed(y)}))),l.a.createElement("div",null,l.a.createElement("dt",null,t({key:A.a.PRICE_IMPACT})),l.a.createElement("dd",null,b?l.a.createElement(k.a,{thousandSeparator:!0,displayType:"text",suffix:"%",value:b.times(100).toFixed(x.d)}):"-")))},verticalCrosshairStyle:{strokeWidth:1,strokeDasharray:"5 5",opacity:.7}}))({containerHeight:i,containerWidth:a}))))}),B={};B.Container=c.c.div`
  width: 100%;
  height: 100%;
  overflow: hidden;

  user-select: none;

  cursor: crosshair;

  text {
    ${N.f.monoRegular}
  }
`,B.Tag=Object(c.c)(j.a)``,B.TooltipContent=c.c.dl`
  ${N.e.size13}
  display: grid;
  gap: 0.5em;
  border-radius: 4px;
  overflow: hidden;
  padding: 12px;

  @media ${N.a.mobile} {
    ${N.e.size14}
  }

  ${({tooltipColor:t})=>c.b`
    background-image: linear-gradient(
      to right,
      ${t},
      ${t} 2px,
      var(--color-layer-light) 2px
    );
  `}

  filter: drop-shadow(0 0 44px rgba(23, 23, 34, 0.2));
  white-space: nowrap;

  > * {
    display: flex;
    justify-content: space-between;
    gap: 1.5em;

    dt {
      color: var(--color-text-dark);
    }

    dd {
      ${N.f.monoRegular}
      color: var(--color-text-light);
    }
  }
`},1893:function(t,r,a){"use strict";var i=a(189),l=a.n(i),c=a(60),d=a.n(c),u=a(0),m=a.n(u),p=a(2),b=a.n(p),y=a(10),O=a(61),g=a(32),E=a(373),_=a(36),h=a(33),T=a(37),v=a(148),S=a(115),I=a(1),k=a(12),j=a(23),R=a(94),A=a.n(R),P=a(91),x=a(16),N=a.n(x),D=a(1730),L=a(1725),C=a(226),w=a(62),M=a(173),U=a(595),G=a(56),K=a(593),B=a(76),z="_2H3sOJjzMw_owm6SvEzqPo",W="_2K4RzXtyjJS8MGGh8GhByb",H="_1WwkcxTzl-09aDCpRhYU1u",q="_2spyQWl67msp6IoLBmLmFx",Y="jNmuIXr44klaGEPuN0VSt",V="AKx1uxwS5ulDPfeckehV6",Z="_11q3usdRiDFiUilfPMyvnQ",$="_2S_Mq0_44SkllEIZhdehXE",X="_3aLFk9kzetoDPlqjOi5fCx",Q="_3dZ1jryrXARMKJ6KPD_iE0",J="_1ZxqxjMGc4Yu1qy0LOOKFN",ee="Ogziy9izsif2IZpRC7jK1";const ConnectedAccountInfoSection=({currentMarketConfig:{market:t},currentTradeData:{showInlineDepositModal:r,showInlineWithdrawModal:a},derivedAccountData:i,isUserGeoBlocked:l,openModal:c,postTradeAccountData:d,setTradeData:u,stringGetter:p})=>{const b=Object(y.f)(G.q,y.d).canDeposit,O=i||{},g=O.equity,E=O.buyingPower,h=O.leverage,T=O.marginUsage,v=O.freeCollateral,S=d||{},k=S.newLeverage,R=S.newEquity,x=S.newFreeCollateral,C=S.newMarginUsage,w=S.newBuyingPower,M=h&&!h.isZero()&&(null===v||void 0===v?void 0:v.isZero()),U=k&&!k.isFinite()||x&&x.lt(0);return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:q},p({key:I.a.ACCOUNT}),m.a.createElement("div",{className:Y},m.a.createElement(_.a,{active:a,onClick:()=>{u({showInlineWithdrawModal:!a})},shape:_.c.Pill,size:_.d.ExtraSmall},p({key:I.a.WITHDRAW})),m.a.createElement(_.a,{active:r,color:g&&g.isZero()?_.b.Purple:_.b.Lighter,disabled:l||!b,onClick:()=>{u({showInlineDepositModal:!r})},shape:_.c.Pill,size:_.d.ExtraSmall},p({key:I.a.DEPOSIT})))),m.a.createElement("div",{className:Z},m.a.createElement(L.a,{className:$,tooltip:"buying-power",left:-42,top:12,stringParams:{MARKET:t}},m.a.createElement("span",{className:X},p({key:I.a.BUYING_POWER}))),m.a.createElement("span",{className:Q},w&&m.a.createElement("span",{className:N()({[ee]:w.lt(0)})},m.a.createElement("span",{className:J},m.a.createElement(P.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:w.toFixed(B.h)})),m.a.createElement(D.a,{pointRight:!0,marginRight:!0,marginLeft:!0,green:w.gt(E),red:w.lt(E)})),E?m.a.createElement(P.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:E.toFixed(B.h)}):"-")),m.a.createElement("div",{className:Z},m.a.createElement(L.a,{className:$,tooltip:"equity",left:-42,top:12},m.a.createElement("span",{className:X},p({key:I.a.EQUITY}))),m.a.createElement("span",{className:Q},R&&m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:N()(J,{[ee]:R.lte(0)})},m.a.createElement(P.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:R.toFixed(B.h)})),m.a.createElement(D.a,{pointRight:!0,marginRight:!0,marginLeft:!0,green:R.gt(g),red:R.lt(g)})),g?m.a.createElement(P.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:g.toFixed(B.h)}):"-")),m.a.createElement("div",{className:Z},m.a.createElement(L.a,{className:$,tooltip:"margin-usage",left:-42,top:12},m.a.createElement("span",{className:X},p({key:I.a.MARGIN_USAGE}))),m.a.createElement("span",{className:Q},C&&m.a.createElement("span",{className:N()({[ee]:C.gte(1)})},m.a.createElement("span",null,m.a.createElement(P.a,{thousandSeparator:!0,displayType:"text",suffix:"%",value:C.times(100).toFixed(B.d)})),m.a.createElement(D.a,{pointRight:!0,marginRight:!0,marginLeft:!0,green:C.lt(T),red:C.gt(T)})),T?m.a.createElement("span",{className:N()({[ee]:T.gte(1)})},m.a.createElement(P.a,{thousandSeparator:!0,displayType:"text",suffix:"%",value:T.times(100).toFixed(B.d)})):"-")),m.a.createElement("div",{className:Z},m.a.createElement(L.a,{className:$,tooltip:"account-leverage",left:-42,top:12},m.a.createElement("span",{className:X},p({key:I.a.ACCOUNT_LEVERAGE}))),m.a.createElement("span",{className:Q},k&&m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:N()(J,{[ee]:U})},!k.isFinite()||k.isZero()?"-":k.toFixed(B.c,A.a.ROUND_UP)+"\xd7"),m.a.createElement(D.a,{pointRight:!0,marginRight:!0,marginLeft:!0,green:h&&!U&&k.lt(h),red:!h||U||k.gt(h)})),m.a.createElement("span",{className:N()(J,{[ee]:M})},h?h.toFixed(B.c,A.a.ROUND_UP)+"\xd7":"-"))),m.a.createElement("div",{className:V},m.a.createElement(_.a,{onClick:()=>c({modalType:j.a.TRANSFER,modalProps:{setInitialWithdraw:!0}})},p({key:I.a.WITHDRAW})),m.a.createElement(_.a,{color:g&&g.isZero()?_.b.Purple:_.b.Lighter,disabled:l,onClick:()=>c({modalType:j.a.TRANSFER})},p({key:I.a.DEPOSIT}))))};ConnectedAccountInfoSection.propTypes={currentMarketConfig:b.a.object.isRequired,currentTradeData:b.a.object.isRequired,derivedAccountData:b.a.object,isUserGeoBlocked:b.a.bool.isRequired,openModal:b.a.func.isRequired,postTradeAccountData:b.a.object,setTradeData:b.a.func.isRequired,stringGetter:b.a.func.isRequired};var te=Object(g.c)(Object(y.c)(t=>({currentMarketConfig:Object(w.b)(t),currentTradeData:Object(M.a)(t),derivedAccountData:Object(K.a)(t),isUserGeoBlocked:Object(U.a)(t),postTradeAccountData:Object(K.b)(t)}),t=>Object(O.b)({openModal:h.c,setTradeData:C.a},t))(ConnectedAccountInfoSection));const AccountInfoSection=({account:t,areKeyPairsValid:r,isWalletReady:a,openModal:i,stringGetter:l,walletOnboardingState:c})=>c===k.a.LOADING||a&&r&&!t?m.a.createElement("div",{className:z},m.a.createElement("div",{className:W},m.a.createElement(E.a,{id:"account-info-section"}))):c===k.a.INCORRECT_NETWORK?m.a.createElement("div",{className:z},m.a.createElement("div",{className:W},m.a.createElement("div",{className:H},l({key:I.a.WRONG_NETWORK_EXPLANATION_PRODUCTION})))):d()([k.a.EXISTING_USER_MISSING_KEYS,k.a.NEW_USER_INCOMPLETE_ONBOARDING],c)?m.a.createElement("div",{className:z},m.a.createElement("div",{className:W},m.a.createElement("div",{className:H},l({key:c===k.a.EXISTING_USER_MISSING_KEYS?I.a.MISSING_KEYS_DESCRIPTION:I.a.FINISH_ONBOARDING_DESCRIPTION})),m.a.createElement(_.a,{color:_.b.Purple,size:_.d.Small,onClick:()=>i({modalType:j.a.ONBOARDING})},l({key:c===k.a.EXISTING_USER_MISSING_KEYS?I.a.RECOVER_KEYS:I.a.COMPLETE_ONBOARDING})))):c===k.a.NOT_CONNECTED?m.a.createElement("div",{className:z},m.a.createElement("div",{className:W},m.a.createElement("div",{className:H},l({key:I.a.CONNECT_YOUR_WALLET_EXTENDED})),m.a.createElement(_.a,{color:_.b.Purple,size:_.d.Small,onClick:()=>i({modalType:j.a.ONBOARDING})},l({key:I.a.CONNECT_WALLET})))):m.a.createElement("div",{className:z},m.a.createElement(te,null));AccountInfoSection.propTypes={account:b.a.object,areKeyPairsValid:b.a.bool.isRequired,isWalletReady:b.a.bool.isRequired,openModal:b.a.func.isRequired,stringGetter:b.a.func.isRequired,walletOnboardingState:b.a.oneOf(l()(k.a)).isRequired};r.a=Object(g.c)(Object(y.c)(t=>({account:Object(v.a)(t),areKeyPairsValid:Object(S.a)(t),isWalletReady:Object(T.h)(t),walletOnboardingState:Object(S.e)(t)}),t=>Object(O.b)({openModal:h.c},t))(AccountInfoSection))},1894:function(t,r,a){"use strict";var i=a(27),l=a.n(i),c=a(60),d=a.n(c),u=a(82),m=a.n(u),p=a(225),b=a.n(p),y=a(174),O=a.n(y),g=a(0),E=a.n(g),_=a(2),h=a.n(_),T=a(10),v=a(1976),S=a(66),I=a(16),k=a.n(I),j=a(32),R=a(68),A=a(36),P=a(190),x=a(131),N=a(62),D=a(376),L=a.n(D),C=a(48),w=a(444),M=a(76),U=a(1762),G=a(8);const K=Object(C.a)([N.b,w.c],(t,r)=>{const a=r[(t||{}).market].fundingRates,i=[];return L()(a,({rate:t,effectiveAt:r})=>{i.push({time:S.DateTime.fromISO(r).toSeconds(),value:Object(G.b)(t).times(100).times(U.a).toFixed(M.f)})}),i});var B=a(1),z="_1WzIkD7vFr3D5BqMzfTypo",W="_2DGJLbxzqy5Dx4aRUmsd-V",H="sEUex74uyhOOqd3fXb951",q="_2gaWdev3Ehz2qsI-Z-OCiA",Y="_1uOV1g4US4bJjz4i6a5agA",V="_3GGLiELderBNWbVwNxbgxn",Z="_1sZqmMP05diNuAhKPCwjBE",$="_1rXIECa5e2Q1A27VqP4nfI",X="_3Ptd-zwIcOq5io9Z3AEjYQ",Q="_1wNOjS4QgpouSq4ZdRAWH9";function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}let J,ee;const te={RATE_1H:"RATE_1H",RATE_8H:"RATE_8H",ANNUALIZED:"ANNUALIZED"},FundingRateChart=({currentMarketData:t,fundingRateHistory:r,selectedLocale:a,stringGetter:i})=>{if(!t||O()(r))return E.a.createElement("div",{className:z},E.a.createElement(P.a,{id:"funding-rate-history-chart"}));const c=E.a.useRef(),u=_slicedToArray(Object(g.useState)(null),2),p=u[0],y=u[1],_=_slicedToArray(Object(g.useState)(te.RATE_1H),2),h=_[0],T=_[1],I=_slicedToArray(Object(g.useState)(null),2),j=I[0],x=I[1],N=Object(R.v)(),D=h===te.RATE_8H,L=h===te.ANNUALIZED,setLineData=()=>{if(!ee)return;const a=parseInt(Date.now()/1e3,10);let i,l,c;D?i=[...b()(r,({value:t,time:r})=>{const a=Object(G.b)(t).times(8);return l&&!l.gt(a)||(l=a),c&&!c.lt(a)||(c=a),{time:r,value:a.toFixed(M.f)}}),{time:a,value:Object(G.b)(t.nextFundingRate).times(U.a).times(100).times(8).toFixed(M.f)}]:L?i=[...b()(r,({value:t,time:r})=>{const a=Object(G.b)(t).times(24).times(365);return l&&!l.gt(a)||(l=a),c&&!c.lt(a)||(c=a),{time:r,value:a.toFixed(M.f)}}),{time:a,value:Object(G.b)(t.nextFundingRate).times(U.a).times(100).times(8760).toFixed(M.f)}]:(m()(r,({value:t})=>{l&&!l.gt(t)||(l=Object(G.b)(t)),c&&!c.lt(t)||(c=Object(G.b)(t))}),i=[...r,{time:a,value:Object(G.b)(t.nextFundingRate).times(U.a).times(100).toFixed(M.f)}]),ee.setData(i),ee.applyOptions({autoscaleInfoProvider:t=>{const r=t(),a={};return l&&(a.minValue=l.toNumber()),c&&(a.maxValue=c.toNumber()),_objectSpread(_objectSpread({},r),{},{priceRange:_objectSpread(_objectSpread({},r.priceRange),a)})}})};Object(g.useEffect)(()=>()=>{J=null,ee=null},[]),Object(g.useEffect)(()=>{if(J&&c&&c.current){const t=c.current,r=t.offsetWidth,a=t.offsetHeight;J.resize(r,a)}},[N]),Object(g.useEffect)(()=>{J&&J.applyOptions({localization:{locale:B.d[a]}})},[a]),Object(g.useEffect)(()=>{if(t&&!O()(r)){const r=l()(t,"market");J&&r===p?ee&&setLineData():(y(r),J&&ee&&J.remove(ee),J=Object(v.b)(c.current,{width:c.current.offsetWidth,height:c.current.offsetHeight,localization:{priceFormatter:t=>{const r=Object(G.b)(t).div(U.a).toFixed(M.e);return(d()(["0.0000","-0.0000"],r)?"0":r)+"%"}},priceScale:{borderVisible:!1,position:"left"},timeScale:{rightOffset:10},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},layout:{backgroundColor:"#1c1c28",fontFamily:"Relative Pro",textColor:"#6f6e84",fontSize:12}}),ee=J.addLineSeries({color:"#c3c2d4",lineWidth:1.5,priceLineVisible:!1,lastValueVisible:!1}),ee.createPriceLine({price:0,axisLabelVisible:!1,lineWidth:1,lineStyle:v.a.Dashed,color:"#6f6e84"}),setLineData(),J.subscribeCrosshairMove(({time:t,seriesPrices:r,point:a})=>{x(t?{time:t,value:r.get(ee),point:a}:null)}))}},[r,h,t]);let C,w=B.a.CURRENT_RATE_1H;return D?w=B.a.CURRENT_RATE_8H:L&&(w=B.a.CURRENT_ANNUALIZED_RATE),C=D?Object(G.b)(t.nextFundingRate).times(8):L?Object(G.b)(t.nextFundingRate).times(8760):Object(G.b)(t.nextFundingRate),E.a.createElement("div",{className:z},E.a.createElement("div",{className:W},b()(te,t=>E.a.createElement(A.a,{key:t,active:h===t,onClick:()=>{h!==t&&T(t)},shape:A.c.Pill,size:A.d.ExtraSmall},i({key:B.a[t]})))),E.a.createElement("div",{ref:c,id:"funding-history-chart",className:H},(()=>{if(!j)return null;const t=j.time,r=j.value,a=j.point,i=c.current.offsetWidth;let l=a.y-74-10;l<0&&(l=10);let d=a.x;d<10?d=10:d+176+10>i&&(d=i-176-10);const u=Object(G.b)(r);return E.a.createElement("div",{className:q,style:{top:l,left:d}},E.a.createElement("div",{className:Y},S.DateTime.fromSeconds(t).toLocaleString(S.DateTime.DATETIME_SHORT)),E.a.createElement("div",{className:k()(V,{[X]:u.gt(0),[Q]:u.lt(0)})},u.div(U.a).toFixed(M.f),"%"))})(),!j&&t&&E.a.createElement("div",{className:Z},E.a.createElement("div",{className:$},i({key:w})),E.a.createElement("div",{className:k()(V,{[X]:C.gt(0),[Q]:C.lt(0)})},C.times(100).toFixed(M.f)+"%"))))};FundingRateChart.propTypes={currentMarketData:h.a.object,fundingRateHistory:h.a.array.isRequired,selectedLocale:h.a.string.isRequired,stringGetter:h.a.func.isRequired};r.a=Object(j.c)(Object(T.c)(t=>({currentMarketData:Object(N.c)(t),fundingRateHistory:K(t),selectedLocale:Object(x.c)(t)}))(FundingRateChart))},1895:function(t,r,a){"use strict";var i=a(189),l=a.n(i),c=a(153),d=a.n(c),u=a(219),m=a.n(u),p=a(174),b=a.n(p),y=a(211),O=a.n(y),g=a(0),E=a.n(g),_=a(9),h=a(10),T=a(66),v=a(68),S=a(190),I=a(237),k=a(362),j=a(131),R=a(62),A=a(326),P=a(283),x=a(1797),N=a(53),D=a(1),L=a(20),C=a(102),w=a(24),M=a(618),U=a(42),G=a(8);function _createForOfIteratorHelper(t,r){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"===typeof t.length){a&&(t=a);var i=0,l=function F(){};return{s:l,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,d=!0,u=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return d=t.done,t},e:function e(t){u=!0,c=t},f:function f(){try{d||null==a.return||a.return()}finally{if(u)throw c}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function e(t,r){const a=function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}({},t);for(const i in r)"object"!=typeof t[i]||null===t[i]||Array.isArray(t[i])?void 0!==r[i]&&(a[i]=r[i]):a[i]=e(t[i],r[i]);return a}const K={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},B={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};let z=!1;window.TradingView=window.TradingView||{},window.TradingView.version=function o(){return"CL v22.032 (internal id e2a841ff @ 2022-07-06T11:53:07.702Z)"};var W=a(82),H=a.n(W);function tvChartUtils_ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function tvChartUtils_objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?tvChartUtils_ownKeys(Object(a),!0).forEach((function(r){tvChartUtils_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):tvChartUtils_ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function tvChartUtils_defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}const q={container:"tv-price-chart",library_path:"/tv-charting-library/charting_library/",custom_css_url:"/tv-charting-library/custom-styles.css",locale:"en",autosize:!0,toolbar_bg:"#1c1c28",disabled_features:["header_symbol_search","header_compare","symbol_search_hot_key","compare_symbol","symbol_info","go_to_date","timeframes_toolbar"],enabled_features:["remove_library_container_border","hide_last_na_study_output","dont_show_boolean_study_arguments","hide_left_toolbar_by_default"],overrides:{"paneProperties.background":"#1c1c28","paneProperties.horzGridProperties.color":"#252537","paneProperties.vertGridProperties.color":"#252537","paneProperties.crossHairProperties.style":1,"paneProperties.legendProperties.showBarChange":!1,"mainSeriesProperties.style":1,"mainSeriesProperties.candleStyle.upColor":"#3fb68b","mainSeriesProperties.candleStyle.borderUpColor":"#3fb68b","mainSeriesProperties.candleStyle.wickUpColor":"#3fb68b","mainSeriesProperties.candleStyle.downColor":"#ff5353","mainSeriesProperties.candleStyle.borderDownColor":"#ff5353","mainSeriesProperties.candleStyle.wickDownColor":"#ff5353","mainSeriesProperties.statusViewStyle.symbolTextSource":"ticker","scalesProperties.textColor":"#c3c2d4","scalesProperties.backgroundColor":"#1c1c28","scalesProperties.lineColor":"#252537"},studies_overrides:{"volume.volume.color.0":"#ff5353","volume.volume.color.1":"#3fb68b","volume.volume ma.visible":!1,"relative strength index.plot.color":"#5973fe","relative strength index.plot.linewidth":1.5,"relative strength index.hlines background.color":"#134A9F"},loading_screen:{backgroundColor:"#1c1c28",foregroundColor:"#1c1c28"},theme:"dark"},mapCandle=({startedAt:t,open:r,close:a,low:i,high:l,baseTokenVolume:c})=>({time:Number(t),open:parseFloat(r),close:parseFloat(a),high:parseFloat(l),low:parseFloat(i),volume:Math.ceil(Number(c))}),getHistorySlice=({currentMarketCandles:t,from:r,to:a,firstDataRequest:i})=>{const l=1e3*r,c=1e3*a;return!t||!i&&!b()(t)&&c<t[0].startedAt?[]:t.filter(({startedAt:t})=>t>=l).map(mapCandle)},getUpdatedCandleFromTrade=({candleToUpdate:t,indexPrice:r,createdAt:a,price:i,size:l,startingOpenInterest:c})=>{const d=t.baseTokenVolume,u=t.high,m=t.low,p=t.trades,b=t.usdVolume,y=Object(G.b)(i),O=Object(G.b)(l),g=Object(G.b)(d),E=Object(G.b)(b),_=Number(p),h=Object(G.b)(r);return tvChartUtils_objectSpread(tvChartUtils_objectSpread({},t),{},{baseTokenVolume:g.plus(O).toString(),close:i,high:Object(G.b)(u).gt(y)?u:i,low:Object(G.b)(m).lt(y)?m:i,startingOpenInterest:null!==c&&void 0!==c?c:t.startingOpenInterest,trades:""+(_+1),updatedAt:a,usdVolume:E.plus(O.times(h)).toString()})};function asyncGeneratorStep(t,r,a,i,l,c,d){try{var u=t[c](d),m=u.value}catch(p){return void a(p)}u.done?r(m):Promise.resolve(m).then(i,l)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function TvChart_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return TvChart_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return TvChart_arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TvChart_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function TvChart_ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function TvChart_objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?TvChart_ownKeys(Object(a),!0).forEach((function(r){TvChart_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):TvChart_ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function TvChart_defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}const Y={currentMarketCandles:[],currentMarketConfig:null,selectedResolution:null};let V,Z=TvChart_objectSpread({},Y),$="",X={};const Q={},J=_.c.div`
  position: relative;
  height: 100%;
  width: 100%;
`,ee=_.c.div`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
`,te=_.c.div`
  display: flex;
  position: relative;
  flex-direction: row;
  flex: 1 1 auto;
  width: 100%;
  height: 100%;
  opacity: ${({isChartReady:t})=>t?"1":"0"};

  #tv-price-chart {
    flex: 1 1 auto;
    height: 100%;
  }
`;r.a=()=>{const t=Object(U.b)({key:U.a.TV_CHART_DISPLAY_LINES}),r=_slicedToArray(Object(g.useState)(!1),2),a=r[0],i=r[1],c=_slicedToArray(Object(g.useState)(null===t||void 0===t||t),2),u=c[0],p=c[1],y=Object(v.u)(),_=Object(h.e)(),W=Object(h.f)(k.e,h.d),re=Object(h.f)(R.b,h.d),ae=Object(h.f)(R.c,h.d),ne=Object(h.f)(P.b,h.d),ie=Object(h.f)(A.b,h.d),oe=Object(h.f)(x.b,h.d),le=Object(h.f)(j.c),ce=Object(h.f)(k.f),se=(re||{}).chartInfo,de=null===oe||void 0===oe?void 0:oe[0],ue=null===W||void 0===W?void 0:W[(null===W||void 0===W?void 0:W.length)-1],me=E.a.useRef(null),pe=null===me||void 0===me?void 0:me.current,be=null===se||void 0===se?void 0:se.tradingViewSymbol,ye=T.DateTime.local().get("zoneName");Object(v.l)(),Object(g.useEffect)(()=>{V&&(V.onclick=toggleOrderLines)},[u,V]),Object(g.useEffect)(()=>{pe&&pe.onChartReady(()=>{setVisibleRangeForResolution({resolution:ce})})},[ce]),Object(g.useEffect)(()=>{var t;a&&pe&&se&&be!==(null===pe||void 0===pe||null===(t=pe.activeChart())||void 0===t?void 0:t.symbol())&&pe.setSymbol(se.tradingViewSymbol,pe.activeChart().resolution(),()=>null)},[be,a,u]),Object(g.useEffect)(()=>{const t=JSON.parse(Object(U.b)({key:U.a.TV_CHART_CONFIG})),r=(({savedConfig:t})=>{if(!t)return null;let r=null;return H()(t.charts,t=>{if(H()(t.panes,t=>{if(H()(t.sources,t=>{var a;if("MainSeries"===t.type)return r=null===t||void 0===t||null===(a=t.state)||void 0===a?void 0:a.interval,!1}),r)return!1}),r)return!1}),r})({savedConfig:t});r&&be&&_(Object(I.a)({market:be,resolution:r}));const a=TvChart_objectSpread(TvChart_objectSpread({symbol:null!==be&&void 0!==be?be:"",interval:null!==r&&void 0!==r?r:ce,datafeed:getDataFeed()},q),{},{locale:D.d[le],saved_data:t}),l=new class{constructor(t){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error("Datafeed is not defined");if(this._options=e(B,t),t.preset){const r=K[t.preset];r?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(r.disabled_features):this._options.disabled_features=r.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(r.enabled_features):this._options.enabled_features=r.enabled_features):console.warn("Unknown preset: `"+t.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._options.debug&&(z||(z=!0,console.log("Using CL v22.032 (internal id e2a841ff @ 2022-07-06T11:53:07.702Z)"))),this._create()}onChartReady(t){this._ready?t.call(this):this._readyHandlers.push(t)}headerReady(){return this._innerWindowLoaded.then(()=>this._innerWindow().headerReady())}onGrayedObjectClicked(t){this._doWhenInnerApiLoaded(r=>{r.onGrayedObjectClicked(t)})}onShortcut(t,r){this._doWhenInnerWindowLoaded(a=>{a.createShortcutAction(t,r)})}subscribe(t,r){this._doWhenInnerApiLoaded(a=>{a.subscribe(t,r)})}unsubscribe(t,r){this._doWhenInnerApiLoaded(a=>{a.unsubscribe(t,r)})}chart(t){return this._innerAPI().chart(t)}getLanguage(){return this._options.locale}setSymbol(t,r,a){this._innerAPI().changeSymbol(t,r,a)}remove(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)}closePopupsAndDialogs(){this._doWhenInnerApiLoaded(t=>{t.closePopupsAndDialogs()})}selectLineTool(t){this._innerAPI().selectLineTool(t)}selectedLineTool(){return this._innerAPI().selectedLineTool()}save(t){this._innerAPI().saveChart(t)}load(t,r){this._innerAPI().loadChart({json:t,extendedData:r})}getSavedCharts(t){this._innerAPI().getSavedCharts(t)}loadChartFromServer(t){this._innerAPI().loadChartFromServer(t)}saveChartToServer(t,r,a){this._innerAPI().saveChartToServer(t,r,a)}removeChartFromServer(t,r){this._innerAPI().removeChartFromServer(t,r)}onContextMenu(t){this._doWhenInnerApiLoaded(r=>{r.onContextMenu(t)})}createButton(t){return this._innerWindow().createButton(t)}createDropdown(t){return this._innerWindow().createDropdown(t)}showNoticeDialog(t){this._doWhenInnerApiLoaded(r=>{r.showNoticeDialog(t)})}showConfirmDialog(t){this._doWhenInnerApiLoaded(r=>{r.showConfirmDialog(t)})}showLoadChartDialog(){this._innerAPI().showLoadChartDialog()}showSaveAsChartDialog(){this._innerAPI().showSaveAsChartDialog()}symbolInterval(){return this._innerAPI().getSymbolInterval()}mainSeriesPriceFormatter(){return this._innerAPI().mainSeriesPriceFormatter()}getIntervals(){return this._innerAPI().getIntervals()}getStudiesList(){return this._innerAPI().getStudiesList()}getStudyInputs(t){return this._innerAPI().getStudyInputs(t)}addCustomCSSFile(t){this._innerWindow().addCustomCSSFile(t)}applyOverrides(t){this._options=e(this._options,{overrides:t}),this._doWhenInnerWindowLoaded(r=>{r.applyOverrides(t)})}applyStudiesOverrides(t){this._doWhenInnerWindowLoaded(r=>{r.applyStudiesOverrides(t)})}watchList(){return this._innerAPI().watchlist()}news(){return this._innerAPI().news()}widgetbar(){return this._innerAPI().widgetbar()}activeChart(){return this._innerAPI().activeChart()}chartsCount(){return this._innerAPI().chartsCount()}layout(){return this._innerAPI().layout()}setLayout(t){this._innerAPI().setLayout(t)}layoutName(){return this._innerAPI().layoutName()}changeTheme(t,r){return this._innerWindow().changeTheme(t,r)}getTheme(){return this._innerWindow().getTheme()}takeScreenshot(){this._doWhenInnerApiLoaded(t=>{t.takeScreenshot()})}lockAllDrawingTools(){return this._innerAPI().lockAllDrawingTools()}hideAllDrawingTools(){return this._innerAPI().hideAllDrawingTools()}drawOnAllCharts(t){this._innerAPI().drawOnAllCharts(t)}magnetEnabled(){return this._innerAPI().magnetEnabled()}magnetMode(){return this._innerAPI().magnetMode()}undoRedoState(){return this._innerAPI().undoRedoState()}setIntervalLinkingEnabled(t){this._innerAPI().setIntervalLinkingEnabled(t)}setTimeFrame(t){this._innerAPI().setTimeFrame(t)}symbolSync(){return this._innerAPI().symbolSync()}intervalSync(){return this._innerAPI().intervalSync()}crosshairSync(){return this._innerAPI().crosshairSync()}timeSync(){return this._innerAPI().timeSync()}getAllFeatures(){return this._innerWindow().getAllFeatures()}clearUndoHistory(){return this._innerAPI().clearUndoHistory()}undo(){return this._innerAPI().undo()}redo(){return this._innerAPI().redo()}startFullscreen(){this._innerAPI().startFullscreen()}exitFullscreen(){this._innerAPI().exitFullscreen()}takeClientScreenshot(t){return this._innerAPI().takeClientScreenshot(t)}navigationButtonsVisibility(){return this._innerWindow().getNavigationButtonsVisibility()}paneButtonsVisibility(){return this._innerWindow().getPaneButtonsVisibility()}dateFormat(){return this._innerWindow().getDateFormat()}_innerAPI(){return this._innerWindow().tradingViewApi}_innerWindow(){return this._iFrame.contentWindow}_doWhenInnerWindowLoaded(t){this._ready?t(this._innerWindow()):this._innerWindowLoaded.then(()=>{t(this._innerWindow())})}_doWhenInnerApiLoaded(t){this._doWhenInnerWindowLoaded(r=>{r.doWhenApiIsReady(()=>t(this._innerAPI()))})}_autoResizeChart(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")}_create(){const t=this._render();this._options.container_id&&console.warn("`container_id` is now deprecated. Please use `container` instead to either still pass a string or an `HTMLElement`.");const r=this._options.container_id||this._options.container,a="string"==typeof r?document.getElementById(r):r;if(null===a)throw new Error("There is no such element - #"+this._options.container);a.innerHTML=t,this._iFrame=a.querySelector("#"+this._id);const i=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(i.style.width="100%",this._options.fullscreen||(i.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise(t=>{const retry=()=>{i.contentWindow&&void 0!==i.contentWindow.widgetReady?t():setTimeout(retry,100)};retry()}),this._innerWindowLoaded.then(()=>{this._innerWindow().widgetReady(()=>{this._ready=!0;var r,a=_createForOfIteratorHelper(this._readyHandlers);try{for(a.s();!(r=a.n()).done;){const a=r.value;try{a.call(this)}catch(t){console.error(t)}}}catch(i){a.e(i)}finally{a.f()}this._innerWindow().initializationFinished()})})}_render(){const t=window;if(t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter,additionalSymbolInfoFields:this._options.additional_symbol_info_fields,headerWidgetButtonsMode:this._options.header_widget_buttons_mode,customTranslateFunction:this._options.custom_translate_function,symbolSearchComplete:this._options.symbol_search_complete,contextMenu:this._options.context_menu,settingsOverrides:this._options.settings_overrides},this._options.saved_data)t[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(t[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");const r=(this._options.library_path||"")+(encodeURIComponent(this._options.locale)+"-tv-chart.e2a841ff.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.custom_font_family?"&customFontFamily="+encodeURIComponent(this._options.custom_font_family):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"")+(this._options.header_widget_buttons_mode?"&header_widget_buttons_mode="+encodeURIComponent(String(this._options.header_widget_buttons_mode)):"")+(this._options.time_scale?"&time_scale="+encodeURIComponent(JSON.stringify(this._options.time_scale)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+r+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' title="Financial Chart" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'}}(a);return me.current=l,me.current.onChartReady(()=>{var t,r;null===me||void 0===me||null===(t=me.current)||void 0===t||t.headerReady().then(()=>{var t;V=null===me||void 0===me||null===(t=me.current)||void 0===t?void 0:t.createButton(),V&&(V.textContent=y({key:D.a.ORDER_LINES}),V.setAttribute("title",y({key:D.a.ORDER_LINES_TOOLTIP})))}),null===me||void 0===me||null===(r=me.current)||void 0===r||r.subscribe("onAutoSaveNeeded",()=>{var t;return null===me||void 0===me||null===(t=me.current)||void 0===t?void 0:t.save(t=>Object(U.d)({key:U.a.TV_CHART_CONFIG,value:JSON.stringify(t)}))}),i(!0)}),()=>{var t;Z=TvChart_objectSpread({},Y),i(!1),null===(t=me.current)||void 0===t||t.remove(),me.current=null}},[]),Object(g.useEffect)(()=>{a&&pe&&pe.onChartReady(()=>{null===pe||void 0===pe||pe.chart().dataReady(()=>{u&&(drawOrderLinesForMarket(),drawPositionLineForMarket())})})},[a,ie,ne,u]),Object(g.useEffect)(()=>{var t;const r=(null===(t=Z.currentMarketConfig)||void 0===t?void 0:t.market)!==(null===re||void 0===re?void 0:re.market),i=Z.selectedResolution!==ce,l=O()(Z.currentMarketCandles);if(Z.selectedResolution=ce,Z.currentMarketCandles=null!==W&&void 0!==W?W:[],Z.currentMarketConfig=re,pe&&a){if(r)return void(se&&pe.activeChart().setSymbol(se.tradingViewSymbol));if(i&&Q[$]&&(Q[$].resetCacheCallback(),pe.activeChart().resetData()),l>0&&!b()(W)&&Q[$]){const t=m()(W);if(!t)return;Q[$].subscriberCallback(mapCandle(t))}}},[W,re,ce]),Object(g.useEffect)(()=>{u&&a?drawOrderLinesForMarket():deleteChartLines()},[u,ie]),Object(g.useEffect)(()=>{u&&a&&drawPositionLineForMarket()},[u,ne]),Object(g.useEffect)(()=>{if(de&&ue&&ae){const t=new Date(ue.updatedAt).getTime(),r=ae.indexPrice,a=N.d[ce],i=new Date(ue.startedAt).getTime()+a,l=[];for(let d=0;d<oe.length;d+=1){if(!(new Date(oe[d].createdAt).getTime()>t))break;l.unshift(oe[d])}let c,u;l.forEach(t=>{const l=t.createdAt,m=t.price,p=t.size,b=new Date(l).getTime();var y;if(b<i)c=getUpdatedCandleFromTrade({candleToUpdate:null!==(y=c)&&void 0!==y?y:ue,indexPrice:r,createdAt:l,price:m,size:p});else if(b<i+a){var O,g,E;const t=null===ae||void 0===ae?void 0:ae.openInterest,a={baseTokenVolume:Object(G.b)(p).toString(),close:m,high:m,low:m,market:ue.market,open:m,resolution:ce,startedAt:i,startingOpenInterest:t,trades:"1",updatedAt:l,usdVolume:Object(G.b)(p).times(Object(G.b)(r)).toString()};u=getUpdatedCandleFromTrade({candleToUpdate:null!==(O=u)&&void 0!==O?O:a,indexPrice:r,createdAt:l,price:m,size:p,startingOpenInterest:null!==(g=null===(E=u)||void 0===E?void 0:E.startingOpenInterest)&&void 0!==g?g:t})}if(c||u){const t=d()(W);c&&(t[t.length-1]=c),u&&t.push(u),_(Object(I.b)({candles:t,market:ue.market,resolution:ce,setLastRequest:!0}))}})}},[de]);const drawPositionLineForMarket=()=>{null!==pe&&void 0!==pe&&pe.chart()&&a&&(()=>{var t;if(!ne)return;const r=ne.entryPrice,a=ne.size,i=ne.status,l=null===(t=X)||void 0===t?void 0:t.position,c=i===C.b.OPEN&&0!==a;if(l){if(!c)return null===l||void 0===l||l.remove(),void delete X.position;l.quantity!==a&&l.setQuantity(a),l.price!==r&&l.setPrice(Object(G.b)(r).toNumber())}else c&&(X.position=null===pe||void 0===pe?void 0:pe.chart().createPositionLine({disableUndo:!1}).setText(y({key:D.a.POSITION})).setPrice(Object(G.b)(r).toNumber()).setQuantity(a).setQuantityBorderColor("#2d2d3d").setBodyBackgroundColor("#1c1c28").setBodyBorderColor("#2d2d3d"))})()},drawOrderLinesForMarket=()=>{var t,r;null!==pe&&void 0!==pe&&pe.chart()&&a&&(ie&&ie.forEach(t=>{const r=t.id,a=t.cancelReason,i=t.price,l=t.remainingSize,c=t.side,d=t.status,u=t.trailingPercent,m=t.triggerPrice,p=t.type;let b=y({key:L.f[p]});u&&(b+=` ${u}%`);const O=!a&&[L.c.OPEN,L.c.UNTRIGGERED].includes(d);if(X[r]){const t=X[r];if(!O)return t.remove(),void delete X[r];if(t.getQuantity!==l)return void t.setQuantity(l)}else if(!O)return;const g={[L.a.BUY]:"#3fb68b",[L.a.SELL]:"#ff5353"}[c],E=null!==m&&void 0!==m?m:i;X[r]=null===pe||void 0===pe?void 0:pe.chart().createOrderLine({disableUndo:!1}).setPrice(Object(G.b)(E).toNumber()).setQuantity(l).setText(b).setQuantityBackgroundColor(g).setQuantityBorderColor("#2d2d3d").setBodyBackgroundColor("#1c1c28").setBodyBorderColor("#2d2d3d").setLineColor(g).setBodyTextColor("#6f6e84").setQuantityTextColor("#f7f7f7")}),null===(t=V)||void 0===t||null===(r=t.classList)||void 0===r||r.add("order-lines-active"))},toggleOrderLines=()=>{Object(U.d)({key:U.a.TV_CHART_DISPLAY_LINES,value:!u}),p(!u)},deleteChartLines=()=>{var t,r;Object.values(X).forEach(t=>{t.remove()}),X={},null===(t=V)||void 0===t||null===(r=t.classList)||void 0===r||r.remove("order-lines-active")},setVisibleRangeForResolution=({resolution:t})=>{const r=N.c[t].defaultTimeframe,a={from:T.DateTime.local().minus(r).toSeconds(),to:T.DateTime.local().toSeconds()};null===pe||void 0===pe||pe.activeChart().setVisibleRange(a,{percentRightMargin:10})},getDataFeed=()=>{const t=l()(null===se||void 0===se?void 0:se.supportedResolutions);return{onReady:r=>setTimeout(()=>r({supports_time:!0,supports_marks:!1,supported_resolutions:t}),0),searchSymbols:(t,r,a,i)=>{i([])},resolveSymbol:(r,a)=>{var i,l;const c=(null===(i=Z)||void 0===i||null===(l=i.currentMarketConfig)||void 0===l?void 0:l.chartInfo)||{},d=c.tradingViewName,u=c.priceScale;setTimeout(()=>a({name:d,ticker:d,description:d,type:"crypto",has_intraday:!0,has_daily:!0,minmov:1,pricescale:u||100,session:"24x7",intraday_multipliers:["1","5","15","30","60","240"],supported_resolutions:t,timezone:ye}),0)},getBars:function(){var t=function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,l){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,l,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,l,_next,_throw,"throw",t)}_next(void 0)}))}}((function*(t,r,a,i,l){const c=a.from,d=a.to,u=a.firstDataRequest,m=(t||{}).name;Z.selectedResolution!==r&&(_(Object(I.a)({market:m,resolution:r})),i([],{noData:!0}));let p=getHistorySlice({currentMarketCandles:Z.currentMarketCandles,from:c,to:d,firstDataRequest:u}),y=Z.currentMarketCandles;if(b()(p))try{const t=yield Object(M.a)({market:m,resolution:r,from:c,to:d});y=[...t,...y],Z.currentMarketCandles=y,_(Object(I.b)({candles:u?t:y,market:m,resolution:r,setLastRequest:u}))}catch(O){l(O),w.b.notify({error:O,location:w.a.GET_CANDLES_TRADING_VIEW})}p=getHistorySlice({currentMarketCandles:y,from:c,to:d,firstDataRequest:u}),i(p,{noData:b()(p)})}));return function getBars(r,a,i,l,c){return t.apply(this,arguments)}}(),subscribeBars:(t,r,a,i,l)=>{$=i,Q[i]={subscriberCallback:a,resetCacheCallback:l}},unsubscribeBars:t=>{delete Q[t],$===t&&($="")}}};return E.a.createElement(J,null,!a&&E.a.createElement(ee,null,E.a.createElement(S.a,{id:"price-chart"})),E.a.createElement(te,{isChartReady:a},E.a.createElement("div",{id:"tv-price-chart"})))}},1896:function(t,r,a){"use strict";a.d(r,"a",(function(){return C}));var i=a(60),l=a.n(i),c=a(117),d=a.n(c),u=a(82),m=a.n(u),p=a(0),b=a.n(p),y=a(2),O=a.n(y),g=a(94),E=a.n(g),_=a(16),h=a.n(_),T=a(66),v=a(10),S=a(91),I=a(32),k=a(127),j=a(373),R=a(62),A=a(1797),P=a(20),x=a(1),N=a(8),D={componentTrades:"_2H-KnsGBQ-xgYidGE8XypH",header:"_2ab3SH6MAkzo43W9WCX5No",title:"_3-OvbtdtsAtsuRCbktIDXs",quoteAsset:"_1Na16zj9ULXt9IriAmSt6f",size:"_1p3YrEenhsnTZrupGOZVOj",price:"_3RdijzfMpz7h3mZQEstaGy",time:"_3U1i7AzOk6yO_edgzEnIJI",trades:"_3rhft_8tou3TxOH2wrLf_P",trade:"dvIq_OZoY8VUH70vCqckz",buy:"FnnkD_kOLThFafR6bqKu9",updated:"_39sI6-NVs1w1Ojm96ooI7D","buy-trade-updated":"_1femlOiyMmx86RS7LocT0L",sell:"_14bphB_rs_tFpOpG1raHI","sell-trade-updated":"_3y3dFp4ei1Key2jhYyspdC",bar:"_1C-D0uZhA8Ep3ASdoMbdPR",green:"_3f6v7G3F-zXEJU7j-zQ_8R",red:"_2xqGgVJfiUA6YcqvCn_Z13",details:"_1s82us_xipfJAAmP5kFka9",spinner:"-BHReDcXpbgiJ2OJXUHyG",assetTag:"_2vJHIXEgndqu-Cq35HsqZt"};class L extends p.Component{constructor(t){super(t),this.renderTrade=(t,r)=>{const a=this.state.updatedTradeIds,i=this.props,l=i.currentMarketConfig,c=i.currentMarketData,d=t.price,u=t.side,m=t.size,p=t.createdAt,y=t.uuid,O=c||{},g=O.stepSize,_=O.tickSize,v=l.largeSize;if(!u)return null;const I=Object(N.d)(g),k=Object(N.d)(_),j=Object(N.g)({number:m,factor:g,roundingMode:E.a.ROUND_UP}).toFixed(I),R=Object(N.g)({number:d,factor:_,roundingMode:E.a.ROUND_UP}).toFixed(k);return b.a.createElement("div",{key:r,className:h()(D.trade,{[D.buy]:u===P.a.BUY,[D.sell]:u===P.a.SELL,[D.updated]:null===a||void 0===a?void 0:a.includes(y)})},b.a.createElement("div",{className:h()(D.bar,{[D.green]:u===P.a.BUY,[D.red]:u===P.a.SELL}),style:{width:Math.min(100,Math.max(1,j/v*24))+"px"}}),b.a.createElement("div",{className:D.details},b.a.createElement("div",{className:h()(D.detail,D.size,{[D.green]:u===P.a.BUY,[D.red]:u===P.a.SELL})},b.a.createElement(S.a,{thousandSeparator:!0,displayType:"text",value:j})),b.a.createElement("div",{className:h()(D.detail,D.price)},R),b.a.createElement("div",{className:h()(D.detail,D.time)},T.DateTime.fromISO(p).toFormat("HH:mm:ss"))))},this.state={updatedTradeIds:[]}}componentDidUpdate(t){const r=t.liveTradesVersion,a=this.props,i=a.liveTradesVersion,c=a.trades,u=this.state.updatedTradeIds;if(0===i)u.length>0&&this.setState({updatedTradeIds:[]});else if(r!==i){const t=[];m()(c,({uuid:r,version:a})=>a===i&&(t.push(r),!0)),t.length>0&&(this.setState(r=>({updatedTradeIds:[...r.updatedTradeIds,...t]})),setTimeout(()=>{const r=this.state.updatedTradeIds;this.setState({updatedTradeIds:d()(r,r=>!l()(t,r))})},400))}}renderTrades(t){return t?t.map((t,r)=>this.renderTrade(t,r)):null}render(){const t=this.props,r=t.currentMarketConfig,a=t.stringGetter,i=t.trades,l=t.isMarketsLoaded,c=t.areTradesLoaded,u=d()(i,t=>T.DateTime.fromISO(t.createdAt).diffNow("hours").hours>-24);return b.a.createElement("div",{className:D.componentTrades},b.a.createElement("div",{className:D.header},b.a.createElement("div",{className:h()(D.title,D.size)},a({key:x.a.ORDERBOOK_ORDER_SIZE})+" ",b.a.createElement(k.a,{compact:!0,className:D.assetTag},r.baseSymbol)),b.a.createElement("div",{className:h()(D.title,D.price)},a({key:x.a.PRICE})+" ",b.a.createElement(k.a,{compact:!0,className:D.assetTag},r.quoteSymbol)),b.a.createElement("div",{className:h()(D.title,D.time)},a({key:x.a.TIME}))),l&&c?b.a.createElement("div",{className:D.trades},this.renderTrades(u)):b.a.createElement(j.a,{className:D.spinner}))}}L.propTypes={isMarketsLoaded:O.a.bool,areTradesLoaded:O.a.bool,liveTradesVersion:O.a.number,currentMarketConfig:O.a.object,currentMarketData:O.a.object,trades:O.a.array,stringGetter:O.a.func};var C=Object(I.c)(Object(v.c)(t=>({isMarketsLoaded:Object(R.d)(t),areTradesLoaded:Object(A.a)(t),currentMarketConfig:Object(R.b)(t),currentMarketData:Object(R.c)(t),liveTradesVersion:Object(A.c)(t),trades:Object(A.b)(t)}))(L))},1901:function(t,r,a){"use strict";var i=a(0),l=a.n(i),c=a(2),d=a.n(c),u=a(10),m=a(91),p=a(16),b=a.n(p),y=a(32),O=a(15),g=a(36),E=a(282),_=a(127),h=a(1725),T=a(62),v=a(76),S=a(1),I=a(8),k="ke5eIaMdvjhfqFS9P2UFN",j="_2iKtlHCVWqrtnAZB1A5Zuh",R="jwqR60OlV17NAkyScRB4W",A="_2LT_RdBltnXxePrFHk0IFp",P="_3xRdS1kaArGkQIVj4EIsSS",x="_3C7aySD89xZCGOc1JBpA9l",N="_1GDeFARXyJRyW2l-_lQgET",D="_3J6RqxUryuyXRfjBLMT058",L="KGIsoeOwgAFfF8vaJVpah",C="_1wCU3FJ7LE693h9m44J9hR",w="FckU5AygNA1jhuQoaK982",M="_3PiaMayWkVkUMY9nrL_ip4";const MarketDetails=({currentMarketConfig:t,currentMarketData:r,stringGetter:a})=>{if(!t)return null;const i=t.market,c=t.baseSymbol,d=t.baseSymbolName,u=t.websiteLink,p=t.whitepaperLink,y=t.primaryDescriptionKey,T=t.secondaryDescriptionKey,U=r||{},G=U.tickSize,K=U.stepSize,B=U.initialMarginFraction,z=U.maintenanceMarginFraction,W=U.minOrderSize,H=U.maxPositionSize,q=U.baselinePositionSize,Y=U.incrementalInitialMarginFraction,V=U.incrementalPositionSize,Z=Object(I.d)(K),$=Object(I.d)(G);return l.a.createElement("div",{className:k},l.a.createElement("div",{className:j},l.a.createElement("div",{className:R},l.a.createElement("div",{className:A},l.a.createElement(E.a,{huge:!0,symbol:c}),d),l.a.createElement("div",{className:P},a({key:y})),l.a.createElement("div",{className:x},a({key:T})),l.a.createElement("div",{className:N},l.a.createElement(g.a,{onClick:()=>window.open(p,"_blank"),shape:g.c.Pill,size:g.d.ExtraSmall},a({key:S.a.WHITEPAPER}),l.a.createElement(O.W,null)),l.a.createElement(g.a,{onClick:()=>window.open(u,"_blank"),shape:g.c.Pill,size:g.d.ExtraSmall},a({key:S.a.WEBSITE}),l.a.createElement(O.W,null)))),l.a.createElement("div",{className:D},l.a.createElement("div",{className:L},l.a.createElement("div",{className:C},a({key:S.a.MARKET_NAME})),l.a.createElement("div",{className:b()(w,M)},i)),l.a.createElement("div",{className:L},l.a.createElement("div",{className:C},l.a.createElement(h.a,{tooltip:"tick-size",left:-40,top:12},a({key:S.a.TICK_SIZE}))),l.a.createElement("div",{className:w},G?l.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",prefix:"$",value:Object(I.b)(G).toFixed($)}):"-")),l.a.createElement("div",{className:L},l.a.createElement("div",{className:C},l.a.createElement(h.a,{tooltip:"step-size",left:-36,top:12},a({key:S.a.STEP_SIZE}))),l.a.createElement("div",{className:w},K?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:Object(I.b)(K).toFixed(Z)}),l.a.createElement(_.a,{marginLeft:!0,compact:!0},c)):"-")),l.a.createElement("div",{className:L},l.a.createElement("div",{className:C},a({key:S.a.MINIMUM_ORDER_SIZE})),l.a.createElement("div",{className:w},W?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:Object(I.b)(W).toFixed(Z)}),l.a.createElement(_.a,{marginLeft:!0,compact:!0},c)):"-")),l.a.createElement("div",{className:L},l.a.createElement("div",{className:C},l.a.createElement(h.a,{tooltip:"maximum-leverage",left:-40,top:12},a({key:S.a.MAXIMUM_LEVERAGE}))),l.a.createElement("div",{className:w},B?l.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",suffix:"\xd7",value:I.a.ONE.div(B).toFixed(v.c)}):"-")),l.a.createElement("div",{className:L},l.a.createElement("div",{className:C},l.a.createElement(h.a,{tooltip:"maintenance-margin-fraction",left:-40,bottom:12},a({key:S.a.MAINTENANCE_MARGIN_FRACTION}))),l.a.createElement("div",{className:w},z?l.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:Object(I.b)(z).toFixed(v.e)}):"-")),l.a.createElement("div",{className:L},l.a.createElement("div",{className:C},l.a.createElement(h.a,{tooltip:"initial-margin-fraction",left:-40,bottom:12},a({key:S.a.INITIAL_MARGIN_FRACTION}))),l.a.createElement("div",{className:w},B?l.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:Object(I.b)(B).toFixed(v.e)}):"-")),l.a.createElement("div",{className:L},l.a.createElement("div",{className:C},a({key:S.a.INCREMENTAL_INITIAL_MARGIN_FRACTION})),l.a.createElement("div",{className:w},Y?l.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:Object(I.b)(Y).toFixed(v.e)}):"-")),l.a.createElement("div",{className:L},l.a.createElement("div",{className:C},a({key:S.a.INCREMENTAL_POSITION_SIZE})),l.a.createElement("div",{className:w},V?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:Object(I.b)(V).toFixed(Z)}),l.a.createElement(_.a,{marginLeft:!0,compact:!0},c)):"-")),l.a.createElement("div",{className:L},l.a.createElement("div",{className:C},a({key:S.a.BASELINE_POSITION_SIZE})),l.a.createElement("div",{className:w},q?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:Object(I.b)(q).toFixed(Z)}),l.a.createElement(_.a,{marginLeft:!0,compact:!0},c)):"-")),l.a.createElement("div",{className:L},l.a.createElement("div",{className:C},a({key:S.a.MAXIMUM_POSITION_SIZE})),l.a.createElement("div",{className:w},H?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:Object(I.b)(H).toFixed(Z)}),l.a.createElement(_.a,{marginLeft:!0,compact:!0},c)):"-")))))};MarketDetails.propTypes={currentMarketConfig:d.a.object,currentMarketData:d.a.object,stringGetter:d.a.func.isRequired};r.a=Object(y.c)(Object(u.c)(t=>({currentMarketConfig:Object(T.b)(t),currentMarketData:Object(T.c)(t)}))(MarketDetails))},2122:function(t,r,a){"use strict";a.r(r);var i=a(0),l=a.n(i),c=a(2),d=a.n(c),u=a(10),m=a(16),p=a.n(m),b=a(1893),y=a(1885),O=a(1881),g=a(225),E=a.n(g),_=a(131),h=a(32),T=a(1758),v=a(1),S=a(1889),I=a(1894),k=a(1901),j=a(1895),R="_30Nu2uQmiJx4jsJM-_wAIZ",A="_3qJfBKIBmjoi3Y5DskBStq",P="OPU8ptrEWajeePqJMCXR6",x="_322-UsbQHJLCLy5zQe3LNw",N="c4g9D7i6cWMqUcVpBGgQP";function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const D={PRICE:"PRICE",DEPTH:"DEPTH",FUNDING:"FUNDING",DETAILS:"DETAILS"},L={[D.PRICE]:v.a.PRICE_CHART_SHORT,[D.DEPTH]:v.a.DEPTH_CHART_SHORT,[D.FUNDING]:v.a.FUNDING_RATE_CHART_SHORT,[D.DETAILS]:v.a.DETAILS},Charts=({stringGetter:t})=>{const r=_slicedToArray(Object(i.useState)(D.PRICE),2),a=r[0],c=r[1],d=Object(u.f)(_.c);let m;if(a!==D.PRICE)switch(a){case D.DEPTH:m=l.a.createElement(S.a,{selectedLocale:d});break;case D.FUNDING:m=l.a.createElement(I.a,null);break;case D.DETAILS:m=l.a.createElement(k.a,null)}return l.a.createElement("div",{className:R},l.a.createElement(T.a,{tabConfig:E()(D,r=>({key:r,label:t({key:L[r]})})),selectedTabKey:a,onClickTab:c}),l.a.createElement("div",{className:A},l.a.createElement("div",{className:p()(P,{[x]:a!==D.PRICE})},l.a.createElement(j.a,null)),a!==D.PRICE&&l.a.createElement("div",{className:N},m)))};Charts.propTypes={stringGetter:d.a.func.isRequired};var C=Object(h.c)(Charts),w=a(1882),M=a(68),U=a(1884),G=a(1896),K="jrFZo8NXA4CJZVq6Y-faU",B="_2nZgkBSqEo0JyF1xLxrfaa";function orderbook_trades_slicedToArray(t,r){return function orderbook_trades_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function orderbook_trades_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function orderbook_trades_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return orderbook_trades_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return orderbook_trades_arrayLikeToArray(t,r)}(t,r)||function orderbook_trades_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function orderbook_trades_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const z={ORDERBOOK:"ORDERBOOK",TRADES:"TRADES"},W={[z.ORDERBOOK]:v.a.ORDERBOOK_SHORT,[z.TRADES]:v.a.RECENT_TRADES_SHORT},OrderbookTrades=({stringGetter:t})=>{const r=orderbook_trades_slicedToArray(Object(i.useState)(z.ORDERBOOK),2),a=r[0],c=r[1],d=Object(M.v)(),u=Object(M.k)();return l.a.createElement("div",{className:K},l.a.createElement(T.a,{fullWidthTabs:!0,tabConfig:Object.values(z).map(r=>({key:r,label:t({key:W[r]})})),selectedTabKey:a,onClickTab:c}),l.a.createElement("div",{className:B},a===z.ORDERBOOK?l.a.createElement(U.a,{isPageVisible:u,viewportDimensions:d}):l.a.createElement(G.a,null)))};OrderbookTrades.propTypes={stringGetter:d.a.func.isRequired};var H=Object(h.c)(OrderbookTrades),q=a(863),Y=a(62),V=a(1750),Z=a(8),$="_1iYtH1dQqrtMNHv4mCrfiI",X="_1YMMq6xZbYvcxQOeLv5m-t",Q="GV27ba5q8OKFWJJOAIZpH",J="_3hShWp24gmweras0zXHzMF",ee="_1IBuxmjazBeWPb5ngZW46v",te="_1C99dmYrSYdWFtsD65XHHy",re="peXtIupzDPYed1ss7c1ta",ae="_3k5rJipebFkJ73_ZdyDpVQ",ne="_1Ni9GlucLT9R2p24XYJAki";function trade_desktop_slicedToArray(t,r){return function trade_desktop_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function trade_desktop_iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,l,c=[],d=!0,u=!1;try{for(a=a.call(t);!(d=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);d=!0);}catch(m){u=!0,l=m}finally{try{d||null==a.return||a.return()}finally{if(u)throw l}}return c}(t,r)||function trade_desktop_unsupportedIterableToArray(t,r){if(!t)return;if("string"===typeof t)return trade_desktop_arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return trade_desktop_arrayLikeToArray(t,r)}(t,r)||function trade_desktop_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function trade_desktop_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}const TradeDesktop=({currentMarketConfig:t,currentMarketData:r,midMarketPrice:a})=>{if(!t)return null;const c=Object(M.b)().isDesktopSmall,d=trade_desktop_slicedToArray(Object(i.useState)(!1),2),u=d[0],m=d[1],g=trade_desktop_slicedToArray(Object(i.useState)(!1),2),E=g[0],_=g[1],h=trade_desktop_slicedToArray(Object(M.t)(),2),T=h[0],v=h[1];return Object(M.j)({price:r?Object(Z.g)({number:a,factor:r.tickSize}).toFixed(Object(Z.d)(r.tickSize)):null,market:t.market}),l.a.createElement("div",{className:$},l.a.createElement(y.a,{isMarketSelectionMenuOpen:u,setIsMarketSelectionMenuOpen:m}),l.a.createElement("div",{className:X},u&&l.a.createElement("div",{className:Q},l.a.createElement(q.a,{setIsMarketSelectionMenuOpen:m,starredMarketSymbols:T,setStarredMarketSymbols:v}),l.a.createElement("div",{role:"button",tabIndex:0,className:J,onClick:()=>m(!1)})),l.a.createElement("div",{className:ee},l.a.createElement(b.a,null),l.a.createElement(O.a,null)),!c&&l.a.createElement(H,null),l.a.createElement("div",{className:te},l.a.createElement("div",{className:p()(re,{[ae]:E})},c&&l.a.createElement(H,null),l.a.createElement(C,null)),l.a.createElement("div",{className:p()(ne,{[ae]:E})},l.a.createElement(w.a,{hideTradeInfo:E,setHideTradeInfo:_})))))};TradeDesktop.propTypes={currentMarketConfig:d.a.object,currentMarketData:d.a.object,midMarketPrice:d.a.object};r.default=Object(u.c)(t=>({currentMarketConfig:Object(Y.b)(t),currentMarketData:Object(Y.c)(t),midMarketPrice:Object(V.f)(t)}))(TradeDesktop)}}]);